<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="「CSS3」ImageMagick - 从gif建立雪碧图动画 - Sprite Sheet Animation"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>「CSS3」ImageMagick - 从gif建立雪碧图动画 - Sprite Sheet Animation | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/uuile3nljgn/",
				"appid": "1613049289050283", 
				"title": "「CSS3」ImageMagick - 从gif建立雪碧图动画 - Sprite Sheet Animation | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-12T02:30:24"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ru9bfzfnlvc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wl7lvjszh1i/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&text=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&text=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&title=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&is_video=false&description=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&title=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&title=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&title=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fuuile3nljgn%2f&title=%e3%80%8cCSS3%e3%80%8dImageMagick%20-%20%e4%bb%8egif%e5%bb%ba%e7%ab%8b%e9%9b%aa%e7%a2%a7%e5%9b%be%e5%8a%a8%e7%94%bb%20-%20Sprite%20Sheet%20Animation"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">「CSS3」ImageMagick - 从gif建立雪碧图动画 - Sprite Sheet Animation</h1><div class="meta"><div class="postdate"><time datetime="2019-01-12" itemprop="datePublished">2019-01-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3eImageMagick\x3c\/h2\x3e\n\x3cp\x3eImageMagick 是当前非常流行的一个图像处理库，一些大型的公司，例如Facebook、雅虎等都在使用 ImageMagick 对用户上传的图像进行处理。\x3c\/p\x3e\n\x3cp\x3eImageMagick 基本上可以支持所有的基础图像处理，例如尺寸、亮度、灰度的改变，滤镜和特效的添加，图片格式转换，制作gif或者扁平化gif...基本上你所能想到的所有基础图片操作，它都能做到。\x3c\/p\x3e\n\x3cp\x3eImageMagick 对平台和语言的支持都十分完善，基本上支持现在流行的所有语言，即使不支持你现在所使用的语言，直接通过命令行调用 \x3ccode\x3emagick\x3c\/code\x3e 命令也是非常方便的。\x3c\/p\x3e\n\x3cp\x3e安装ImageMagick的步骤我就不赘述了，大家根据自己的平台来下载相应的二进制包，\x3ca href=\x22http:\/\/www.imagemagick.org\/script\/download.php\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e-\x26gt;传送门\x26lt;-\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e雪碧图动画\x3c\/h2\x3e\n\x3cp\x3e雪碧图动画指的是，将一个动画所需要的所有帧平铺（或横或竖）排列在一张图片上，当动画运行时，较短时间内改变其容器的 \x3ccode\x3ebackground-position\x3c\/code\x3e，得到动画播放的效果。\x3c\/p\x3e\n\x3cp\x3e下图是bilibili点击收藏按钮的动画效果及其雪碧图（GIF是笔者根据雪碧图来进行合成的）\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVOPum?w=60\x26amp;h=60\x22 src=\x22https:\/\/static.alili.tech\/img\/bVOPum?w=60\x26amp;h=60\x22 alt=\x22GIF\x22 title=\x22GIF\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVOPup?w=1800\x26amp;h=60\x22 src=\x22https:\/\/static.alili.tech\/img\/bVOPup?w=1800\x26amp;h=60\x22 alt=\x22雪碧图\x22 title=\x22雪碧图\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eGIF图大小为27KB，雪碧图大小为53KB\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e雪碧图稍大的体积绝对配的上它的优点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e暂停播放\x3c\/li\x3e\n\x3cli\x3e方便控制播放速度和播放速度的时间函数\x3c\/li\x3e\n\x3cli\x3e控制播放顺序和次数\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e如果你需要对动画效果进行控制的话，使用雪碧图不失为一种好方法，否则还是使用gif降低图片体积。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eImageMagick 将gif转换为png\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3e$ convert star.gif -coalesce \x2bappend star.practice.png\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e就是如上一条指令，接下来解释一下上面的指令：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3e-coalesce\x3c\/code\x3e 表示将gif每一帧都补全为完整的一副图。由于为了压缩体积，gif每一帧的数据都是在前一帧的数据上进行增量覆盖。所以如果直接提取出每一帧的话，则会得到一组残缺不全的图片，大家可以去掉该参数试一试。\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x2bappend\x3c\/code\x3e 表示将提取出来的一组图片按照水平方式拼接起来，\x3ccode\x3e-append\x3c\/code\x3e 则是按照垂直方式拼接起来。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e由于图片是根据一定的方式进行编码的，有的时候对于同一幅gif图片，垂直拼接和水平拼接后的图片体积可能会差异比较大，最好都生成一幅，然后进行选定\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e素材及DEMO地址：\x3ca href=\x22https:\/\/github.com\/JasonKid\/fezone\/tree\/master\/CSS\/CSS3\/ImageMagick\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/JasonKid\/f...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eDEMO\x3c\/h2\x3e\n\x3cp\x3e最后附上雪碧图动画的运行DEMO，有CSS和CSS3两种方式，并可以进行暂停、加速、减速、反向操作\x3c\/p\x3e\n\x3cp\x3e戳-\x26gt; \x3ca href=\x22https:\/\/github.com\/JasonKid\/fezone\/tree\/master\/CSS\/CSS3\/ImageMagick\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub: JasonKid fezone ImageMagick\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>「CSS3」ImageMagick - 从gif建立雪碧图动画 - Sprite Sheet Animation</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009789225">https://segmentfault.com/a/1190000009789225</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/uuile3nljgn/" target="_blank">https://alili.tech/archive/uuile3nljgn/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>