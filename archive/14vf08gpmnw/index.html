<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="HTTP验证大法(Basic Auth,Session, JWT, Oauth, Openid)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>HTTP验证大法(Basic Auth,Session, JWT, Oauth, Openid) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/14vf08gpmnw/",
				"appid": "1613049289050283", 
				"title": "HTTP验证大法(Basic Auth,Session, JWT, Oauth, Openid) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-26T02:30:18"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/r0kewiatdoa/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/0hqst6af5tx/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&text=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&text=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&title=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&is_video=false&description=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&title=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&title=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&title=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f14vf08gpmnw%2f&title=HTTP%e9%aa%8c%e8%af%81%e5%a4%a7%e6%b3%95%28Basic%20Auth%2cSession%2c%20JWT%2c%20Oauth%2c%20Openid%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">HTTP验证大法(Basic Auth,Session, JWT, Oauth, Openid)</h1><div class="meta"><div class="postdate"><time datetime="2019-01-26" itemprop="datePublished">2019-01-26</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e成为一个\x22认证”老司机\x3c\/h1\x3e\n\x3cblockquote\x3e\x3cp\x3e本文翻译自\x3ca href=\x22https:\/\/github.com\/teesloane\/Auth-Boss\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAuth-Boss\x3c\/a\x3e。 如果有翻译的不恰当或不对的地方， 欢迎指出。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e成为一个认证老司机， 了解网络上不同的身份认证方法。\x3c\/p\x3e\n\x3cp\x3e本文档的目的是记录和编目Web上的身份验证方法。\x3cbr\x3e认证指的是创建一个系统的过程，用户可以通过该系统“登录”在线服务，并授予对受保护资源的访问权限。\x3cbr\x3e以下引用可能更好地总结我想要解释的内容：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e客户端认证涉及向Web上的服务器证明客户端（或用户）的身份。[1]\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eWho\x3c\/h2\x3e\n\x3cp\x3e我是一个自学成才的开发人员，热爱开源技术，学习，指导和知识共享。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eWhy\x3c\/h2\x3e\n\x3cp\x3e我写这篇指南，因为关于验证这方面的信息很难直接找到。我决定戴上我的“研究帽“，做一些跑腿的工作。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3eHow\x3c\/h2\x3e\n\x3cp\x3e我写作风格简洁，会用到一些技术词。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e免责声明：\x3c\/strong\x3e本文档不作为包含所有认证方法的网络的目录;\x3cbr\x3e本文档也不旨在提供“最佳”认证方法。\x3cbr\x3e没人给钱贿赂我。\x3cbr\x3e如果你想赞助我那更棒， 可以用一些其它方式， 比如领养一只小狗，或者帮助正在辛劳的人们。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e引文：\x3c\/strong\x3e这些引文表示我引用的来源。\x3cbr\x3e如果你想让我收下链接\/更好地引用我的来源（不仅仅是一个链接到原始发布），我可以这样做。\x3cbr\x3e如果你想让我更好的引用引文， 我当然愿意，不过请先让我知道\x26lt;3。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e遗漏，错误：\x3c\/strong\x3e\x3cbr\x3e犯错并不罕见，我并不是安全方面的专家\x3cbr\x3e如果你看到一些可以改进的东西请PR，告诉我哪里弄错了，我可以改进。\x3cbr\x3e有关PR更多的信息，请查看CONTRIBUTIONS.md。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e假想案例\x3c\/h2\x3e\n\x3cp\x3e我将使用本文档中的一个常见示例来说明在“客户端”（用户在其计算机前面）和“服务器”（后台）上发生的情况的登录流程。\x3c\/p\x3e\n\x3cp\x3e我们的例子将会有一个想象的朋友：Beorn。\x3cbr\x3eBeorn喜欢针织，经常去\x3ca href=\x22http:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\x3c\/a\x3e购买用品。\x3cbr\x3eBeorn在knittingworld有一个帐号，我们将看到他登陆的例子。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e一般最佳做法\x3c\/h2\x3e\n\x3cp\x3e在讨论用于管理身份验证的技术之前，以下是你不应该做的。\x3c\/p\x3e\n\x3cp\x3e以下某些项目可能不直接与登录\/身份验证\/用户注册有关，但通常有用。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e切勿将密码存储为数据库中的纯文本。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不要写自己的哈希算法（除非你真的很聪明）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不要写自己的认证技术（再次，除非你真的很聪明）。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用HTTPS。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e一些忠告\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e我们还发现许多网站设计自己的身份验证机制，以提供更好的用户体验。\x3cbr\x3e不幸的是，设计师和实现者通常没有安全背景，因此不能很好地理解他们可以使用的工具[2]\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e术语\x3c\/h2\x3e\n\x3cp\x3eweb验证开发领域中有相当多的术语。\x3cbr\x3e下面是一个术语列表，您将在下面看到。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eHTTP 超文本传输协议。\x3c\/h3\x3e\n\x3cp\x3e这是一个大的概念。我只能简单的解释一下它的含义。\x3cbr\x3eWeb是围绕HTTP构建的 - 它是用于在Web服务器和用户之间通信的协议。\x3c\/p\x3e\n\x3cp\x3e您的浏览器被视为HTTP客户端，因为它向HTTP服务器发送请求。\x3cbr\x3e你的客户可以做很多不同类型的请求， - 你可能听说过一些最流行的请求 - POST POST PUT和DELETE。\x3c\/p\x3e\n\x3cp\x3eHTTP服务器向您的浏览器 - 客户端发送响应。\x3cbr\x3e这些响应就是资源。\x3cbr\x3e资源可以是（但不限于）：HTML文件，图像，文本，JSON等。\x3cbr\x3e你可以认为资源是从服务器返回的“文件”。\x3c\/p\x3e\n\x3cp\x3e关于此主题的其他链接：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.jmarshall.com\/easy\/http\/#whatis\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHTTP Made Really Easy\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/tools.ietf.org\/html\/rfc2616\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRFC2616\x3c\/a\x3e - 这是一个关于HTTP的文档规范。\x3cbr\x3e它被列为过期，但也列出了取代它的文档。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3eHTTPS\x3c\/h3\x3e\n\x3cp\x3eHTTPS是安全的HTTP。\x3cbr\x3e它与SSL \/ TLS密切相关。\x3cbr\x3e最初在互联网上的支付交易很受欢迎，最近变得越来越普遍。\x3cbr\x3e您可能会认为https是“在浏览器中显示在我的网址左侧的绿色文本”;\x3cbr\x3e经常伴随着锁的图标或类似的东西。\x3c\/p\x3e\n\x3cp\x3eHTTPS是用TLS（或在过去的日子里，SSL）封装的HTTP，以保护浏览器和服务器之间的流量。\x3c\/p\x3e\n\x3cp\x3eHTTPS会对与您的HTTP请求一起发送的信息和发回的响应进行加密。\x3cbr\x3e这在我们开始谈论身份验证时尤其重要！\x3c\/p\x3e\n\x3cp\x3e来自维基百科：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eHTTPS在不安全的网络创建安全通道。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e这确保了合理的保护免受窃听者和中间人攻击，只要使用足够的密码套件并且服务器证书被验证和信任。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eTLS \/ SSL\x3c\/h3\x3e\n\x3cp\x3eTLS和SSL是加密协议。\x3cbr\x3eTLS和SSL加密您通过网络发送的数据 - 它旨在防止人们“窃听”或篡改您要发送的数据。\x3cbr\x3eSSLv2和v3今天被视为不安全（请参阅\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/POODLE\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePOODLE\x3c\/a\x3e），因此大多数HTTPS是使用TLS 1.2完成的。\x3cbr\x3eYouTube上有一些有用的视频，有助于解释这些复杂的问题，\x3cbr\x3e这个视频\x3ca href=\x22https:\/\/www.youtube.com\/watch?v=S2iBR2ZlZf0\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMIT opencourseware\x3c\/a\x3e挺不错的！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3eState\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3estate\x3c\/code\x3e，\x3ccode\x3estateful\x3c\/code\x3e，\x3ccode\x3estateless\x3c\/code\x3e和\x3ccode\x3epiece of state\x3c\/code\x3e。\x3cbr\x3e这些是术语，它们的定义不同。\x3cbr\x3e在本文里，“piece of state”或“stateful”描述了一块存储在内存中的数据。\x3c\/p\x3e\n\x3cp\x3eHTTP请求通常被描述为“stateless”。\x3cbr\x3e当您访问网站和登录时，您正在传递一些信息以及您的HTTP请求， 用来标识您的身份。\x3cbr\x3e无论你需要使用什么身份验证方法来识别自己，都必须“附加”到某个或另一个HTTP请求，因为你不能简单地将该状态放在HTTP协议本身中 - 必须采取另一种形式，可以凌驾于HTTP协议之上（正如你会看到在本文档的其余部分。）。\x3cbr\x3e可能有点夸张... 我认为这篇来自苏格兰的文章解释的很不错\x3ca href=\x22https:\/\/scotch.io\/tutorials\/the-ins-and-outs-of-token-based-authentication\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eThe Ins and Outs of Token Based Authentication\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e由于HTTP协议是无状态的，这意味着如果我们使用用户名和密码验证用户，那么在下一个请求，我们的应用程序将不知道我们是谁。\x3cbr\x3e我们必须再次验证。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3eCookies\x3c\/h3\x3e\n\x3cp\x3eCookie是存储在用户浏览器上的小数据。\x3cbr\x3eCookie与HTTP相反，是有状态的 - 这意味着尽管HTTP不能存储用户信息，但是cookie可以。\x3c\/p\x3e\n\x3cp\x3e网络Cookie的常见示例：\x3c\/p\x3e\n\x3cp\x3eBeorn访问\x3ca href=\x22http:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\x3c\/a\x3e为他的下一个针织项目购买一些不错的纱线和材料。\x3cbr\x3e他登录后向他的购物车添加了三件商品。突然他听到一声砰！\x3cbr\x3e并意识到他的微波炉里还有一罐金枪鱼。不好！\x3cbr\x3eBeorn关闭了浏览器，立即忘记了他购物车里的东西，跑去检查微波炉。\x3cbr\x3e罐头金枪鱼的酱汁已经洒在他家的地板上，Beorn回到他的电脑前，并重新访问\x3ca href=\x22https:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/knittingworld.com\x3c\/a\x3e ...想看看他之前加入购物车的商品还在不在。\x3cbr\x3eCookies。\x3c\/p\x3e\n\x3cp\x3e有不同种类的Cookies。\x3cbr\x3e有些Cookie会在您的浏览器中停留多天，而其他Cookie会在您关闭浏览器后立即消失。\x3c\/p\x3e\n\x3cp\x3eCookie在过去（仍然是）认证中起到了很大的作用。\x3cbr\x3eWeb服务器通常使用认证cookie来确定用户是否登录以及他们有权访问哪些资源。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/HTTP_cookie#Persistent_cookie\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e持久性cookie\x3c\/a\x3e有时会带来麻烦，因为它们可以被广告商用来记录关于用户的web习惯的信息。\x3cbr\x3e另一方面，它们通常用于保存用户每次访问站点时不必重新输入其登录凭证。\x3c\/p\x3e\n\x3cp\x3e您可以通过导航到您的（使用Chrome）开发者工具并打开网络标签查看与请求一起发送的Cookie。\x3cbr\x3e刷新页面将显示传入资源的列表，您可以选择其中的一个。\x3cbr\x3e滚动列表， 看看找得到cookie不！\x3cbr\x3e您也可以在开发人员工具的[Application]标签中查看Cookie 的相关信息。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3eSessions \/ Session Management\x3c\/h3\x3e\n\x3cp\x3e我并不会一开始就去尝试简单的描绘出sessions，我会引用OWASP：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e网络会话是与同一用户相关联的网络HTTP请求和响应事务的序列。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e现代和复杂的web应用程序需要在多个请求期间保留关于每个用户的信息或状态。\x3cbr\x3e因此，会话提供了建立变量的能力，例如访问权限和本地化设置，这将适用于在会话期间用户与webApp的每一次交互。\x3c\/p\x3e\n\x3cp\x3e您可以在下面的“Methodologies”部分找到基于会话身份验证的示例。\x3cbr\x3e关于Sessions的更多链接：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/machinesaredigging.com\/2013\/10\/29\/how-does-a-web-session-work\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHow does a web session work\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/3804209\/what-are-sessions-how-do-they-work\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhat are web sessions?\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3eMethodologies\x3c\/h2\x3e\n\x3cp\x3e以下是用于建立认证的技术方案列表。这不是一个完整的列表！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3eHTTP基本认证\x3c\/h3\x3e\n\x3cp\x3eHTTP基本身份验证（或“基本身份验证”）已经存在了很长时间。看起来人们倾向于使用它，因为它的简单性，它支持跨浏览器。这是一个空白页面，要求基本的验证。这里将演示如何确保webApp正常运行当Beorn关闭游览器重新再打开后：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eBeorn去\x3ca href=\x22http:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\x3c\/a\x3e 买纱线。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在挑选出纱线后，他点击“购买”按钮购买。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e他的浏览器发出一个GET请求，服务器响应401告诉他需要验证。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eBeorn在他的用户名和密码中输入登录表单。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在他点击登陆后，他的浏览器会发起GET(POST)请求， 并在请求头里带着Authorization。Authorization请求头类似于这样\x3ccode\x3eAuthorization:QWxhZGRpbjpvcGVuIHNlc2FtZQ==\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e服务器继续验证身份验证头并确定Beorn是否可以可以提交购买操作。浏览器会记住Authorization，之后的每一次游览器提交的请求，都会在请求头里加上\x3ccode\x3eAuthorization:QWxhZGRpbjpvcGVuIHNlc2FtZQ==\x3c\/code\x3e， 直到游览器关闭。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e关于HTTP基本身份验证的一些重要注意事项：\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e上面的示例授权头部看起来不像用户名和密码，但是这是因为它是base64编码。它没有加密。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果使用HTTP基本认证，请使用HTTPS。如果使用HTTP，身份验证凭据将作为明文发送到服务器。这不好。用户的用户名和密码通过线路仅作为base64编码文本发送 - 这对于解码来说很简单。通过使用HTTPS \/ TLS，您确保从客户端发送到服务器的数据被加密。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eHTTP基本验证由游览器实现，今天很少使用。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e基本验证使用API​​的基本认证，当与令牌组合时，（稍后讨论）只是一个授权报头，是完全合理的。它有额外的好处，不需要API客户端维护一个额外的会话cookie，并且，因为大多数系统日志查询参数而不是标题，将不会被默认记录。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e基本验证与Token组合的时候， 好处很多，比如不需要客户端单独维护一个cookie， 并且也不会被客户端记录。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e链接\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.owasp.org\/index.php\/Basic_Authentication\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBasic Authentication on OWASP\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.owasp.org\/index.php\/Basic_Authentication\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhy does stripe use HTTP basic auth with a token instead of the header\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e基于Session的认证\x3c\/h3\x3e\n\x3cp\x3eSession认证已经存在了一段时间，并且平常用的比较多。基于session的身份验证的关键是，用户的登录与服务器上的内存的一段状态或key-value存储（如Redis中）相关联。\x3c\/p\x3e\n\x3cp\x3e让我们看看我们的朋友Beorn使用基于session的身份验证的示例。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eBeorn去\x3ca href=\x22http:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\x3c\/a\x3e 买一些东西。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当Beorn登录时，他将他的凭据发送到服务器。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当凭据到达服务器时，服务器以这种方式或另一种方式需要检查Beorn是否是其数据库中的用户。在这一点上，Beorn还没有登录。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eBeorn的凭据匹配成功，所以他可以登录。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eBeorn需要一些东西来识别他对服务器的未来请求 - 特别是如果他想要购买东西(必须登陆才能买)。这就是认证session的思想。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e现在服务器知道Beorn是谁，并且已经将他识别为数据库中的用户，服务器将向他（或“返回”）发送一个cookie，这可以将Beorn列为在以后的请求中是已经登陆的用户。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e现在，Beorn已经验证，并在他的浏览器上有一个session cookie(cookie的一种)。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当Beorn转到页面\x3ca href=\x22http:\/\/knittingworld.com\/great_deals.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\/great_deals.html\x3c\/a\x3e 他正在做另一个HTTP请求 - 但这次，他的session cookie将放在HTTP请求头里发送到服务器。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e服务器将根据与内存中Session信息匹配的cookie进行身份验证(可以用redis，memcache等数据库来保存)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当Beorn从\x3ca href=\x22http:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\x3c\/a\x3e 退出时，他在服务器（或Redis等）上的会话实例将过期，他的会话cookie也会过期。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3e基于Token的认证\x3c\/h3\x3e\n\x3cp\x3e基于令牌的认证已经变得更加普遍最近随着RESTful API的应用，单页应用程序和微服务的兴起。\x3c\/p\x3e\n\x3ch5\x3e什么是token？\x3c\/h5\x3e\n\x3cp\x3etoken是一小块数据。\x3c\/p\x3e\n\x3cp\x3e利用基于Token的认证的认证系统意味着用户向服务器发出的请求携带token以执行认证逻辑。当发出HTTP请求时， token是验证用户是否有资格访问资源的凭证。\x3c\/p\x3e\n\x3ch4\x3e这与基于Cookie的身份验证有何不同？\x3c\/h4\x3e\n\x3cp\x3etoken认证是无状态的，而基于session的认证意味着在您的服务器（或在Redis等）中的某个地方保存着状态用以识别用户。\x3c\/p\x3e\n\x3cp\x3eAuth0的博客文章\x3ca href=\x22https:\/\/auth0.com\/blog\/cookies-vs-tokens-definitive-guide\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCookies vs Tokens：The Definitive\x3c\/a\x3e 描述了cookie和令牌之间的身份验证流程的差别的：\x3c\/p\x3e\n\x3ch4\x3e基于session的认证流程：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x221. 用户输入其登录信息\n2. 服务器验证信息是否正确，并创建一个session，然后将其存储在数据库中\n3. 具有sessionID的Cookie将放置在用户浏览器中\n4. 在后续请求中，会根据数据库验证sessionID，如果有效，则接受请求\n5. 一旦用户注销应用程序，会话将在客户端和服务器端都被销毁\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-bullet\x22\x3e1. \x3c\/span\x3e用户输入其登录信息\n\x3cspan class=\x22hljs-bullet\x22\x3e2. \x3c\/span\x3e服务器验证信息是否正确，并创建一个session，然后将其存储在数据库中\n\x3cspan class=\x22hljs-bullet\x22\x3e3. \x3c\/span\x3e具有sessionID的Cookie将放置在用户浏览器中\n\x3cspan class=\x22hljs-bullet\x22\x3e4. \x3c\/span\x3e在后续请求中，会根据数据库验证sessionID，如果有效，则接受请求\n\x3cspan class=\x22hljs-bullet\x22\x3e5. \x3c\/span\x3e一旦用户注销应用程序，会话将在客户端和服务器端都被销毁\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e基于令牌的认证流程：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x221. 用户输入其登录信息\n2. 服务器验证信息是否正确，并返回已签名的token\n3. token储在客户端，最常见的是存储在`local storage`中，但也可以存储在session存储或cookie中\n4. 之后的HTTP请求都将token添加到请求头里\n5. 服务器解码JWT，并且如果令牌有效，则接受请求\n6. 一旦用户注销，令牌将在客户端被销毁，不需要与服务器进行交互一个关键是，令牌是无状态的。后端服务器不需要保存令牌或当前session的记录。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-bullet\x22\x3e1. \x3c\/span\x3e用户输入其登录信息\n\x3cspan class=\x22hljs-bullet\x22\x3e2. \x3c\/span\x3e服务器验证信息是否正确，并返回已签名的token\n\x3cspan class=\x22hljs-bullet\x22\x3e3. \x3c\/span\x3etoken储在客户端，最常见的是存储在\x3cspan class=\x22hljs-code\x22\x3e`local storage`\x3c\/span\x3e中，但也可以存储在session存储或cookie中\n\x3cspan class=\x22hljs-bullet\x22\x3e4. \x3c\/span\x3e之后的HTTP请求都将token添加到请求头里\n\x3cspan class=\x22hljs-bullet\x22\x3e5. \x3c\/span\x3e服务器解码JWT，并且如果令牌有效，则接受请求\n\x3cspan class=\x22hljs-bullet\x22\x3e6. \x3c\/span\x3e一旦用户注销，令牌将在客户端被销毁，不需要与服务器进行交互一个关键是，令牌是无状态的。后端服务器不需要保存令牌或当前session的记录。\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e哇标记听起来很酷。他们比基于session的身份验证更好吗？\x3c\/h4\x3e\n\x3cp\x3e问错人了，伙计。我只是告诉你存在这个验证方式。我不会比较没有意义的比较，我尽最大努力做到这一点。有关更多有趣的免责声明，请访问上面的免责声明部分。令牌的类型一些常见的令牌包括JWT（下面讨论），SWT（简单网络令牌）和SAML（安全断言标记语言）\x3c\/p\x3e\n\x3ch4\x3e链接\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.w3.org\/2001\/sw\/Europe\/events\/foaf-galway\/papers\/fp\/token_based_authentication\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eToken Based Authentication - Implemenation Demonstration - W3\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/1592534\/what-is-token-based-authentication\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhat is token based Authentication - SO\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/auth0.com\/learn\/token-based-authentication-made-easy\/#!\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eToken Based Authentication Made Easy\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/scotch.io\/tutorials\/the-ins-and-outs-of-token-based-authentication\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eThe Ins and Outs of Token Based Authentication\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/auth0.com\/blog\/cookies-vs-tokens-definitive-guide\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCookies vs Tokens: The Definitive Guide (opinionated)\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3eJWT\x3c\/h3\x3e\n\x3cp\x3eJWT代表“JSON Web Token”。 JWT是一种基于Token的认证。 JWT基于Web标准。现在JWT用的越来越多;JWT是Token认证的一种，所以说JWT基于Token的认证。再次，基于Token的认证的不同方法具有不同的优点和缺点。因此，上面的基于令牌的认证部分中的很多信息适用于此。\x3c\/p\x3e\n\x3cp\x3e来自JWT RFC 7519标准化的摘要说明：JSON Web Token（JWT）是一种紧凑的，URL安全的方式，表示要在双方之间传输的声明。\x3c\/p\x3e\n\x3cp\x3eJSON Web令牌是一个字符串。它可能看起来像这样：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eeyJhbGciOIJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e上面的字符串是你在使用JWT执行身份验证时可能看到的;它是在认证时从服务器返回的凭证。JWT经过验证并且安全，因为它们使用私钥进行“数字签名”，并使用密钥进行身份验证。\x3c\/p\x3e\n\x3ch4\x3eJWT的结构？\x3c\/h4\x3e\n\x3cp\x3eJWT是一个自包含的数据块。每个JWT由\x3ccode\x3epayload\x3c\/code\x3e和\x3ccode\x3esignature\x3c\/code\x3e组成。当您的服务器创建token时，您还可以为token分配唯一的数据，可以在前端使用。这可以用于保存稍后进行其他数据库调用的需要。你仍然应该警惕在发送给客户的令牌中发布机密信息(比如说用户密码等等)。\x3c\/p\x3e\n\x3ch4\x3e在Python中创建JWT令牌的示例函数：\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22def create_token(user):\n    \x26quot;\x26quot;\x26quot;Create a JWT token, set expiry, iat, etc\x26quot;\x26quot;\x26quot;\n    payload = {\n        \x27sub\x27: user.id,\n        \x27name\x27: user.first_name,\n        \x27role_id\x27: user.role_id,\n        \x27iat\x27: datetime.utcnow(),\n        \x27exp\x27: datetime.utcnow() \x2b timedelta(days=1)\n    }\n    token = jwt.encode(payload, MY_SECRET_KEY_SHHH_DONT_TELL_ANYONE, algorithm=\x27HS256\x27)\n    return token.decode(\x27unicode_escape\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22python hljs\x22\x3e\x3ccode class=\x22python\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3edef\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecreate_token\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(user)\x3c\/span\x3e:\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x22Create a JWT token, set expiry, iat, etc\x22\x22\x22\x3c\/span\x3e\n    payload = {\n        \x3cspan class=\x22hljs-string\x22\x3e\x27sub\x27\x3c\/span\x3e: user.id,\n        \x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e: user.first_name,\n        \x3cspan class=\x22hljs-string\x22\x3e\x27role_id\x27\x3c\/span\x3e: user.role_id,\n        \x3cspan class=\x22hljs-string\x22\x3e\x27iat\x27\x3c\/span\x3e: datetime.utcnow(),\n        \x3cspan class=\x22hljs-string\x22\x3e\x27exp\x27\x3c\/span\x3e: datetime.utcnow() \x2b timedelta(days=\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n    }\n    token = jwt.encode(payload, MY_SECRET_KEY_SHHH_DONT_TELL_ANYONE, algorithm=\x3cspan class=\x22hljs-string\x22\x3e\x27HS256\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e token.decode(\x3cspan class=\x22hljs-string\x22\x3e\x27unicode_escape\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的键sub，iat和exp跟随保留的JWT键，但我也添加了用户的名称和role_id。你将需要一个库来编码\/解码JWT令牌。 \x3ca\x3eJWT.io\x3c\/a\x3e列出了许多语言的库。\x3c\/p\x3e\n\x3ch4\x3e链接\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/jwt.io\/introduction\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eIntroduction to JSON web tokens\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/jwt.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJWT Debugger\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader18\x22\x3eOAuth\x3c\/h3\x3e\n\x3cp\x3eOAuth是一种认证协议，允许用户对没有密码的服务器执行认证。 OAuth存在很多版本 -  OAuth 1.0，OAuth 1.0a和OAuth 2.0。\x3c\/p\x3e\n\x3cp\x3e如果您曾使用Twitter，Google或Facebook帐户登录了某项服务，那么您已使用OAuth。\x3cbr\x3e、\x3cbr\x3e OAuth提供商（Facebook，Google等）通过提供您的服务（“OAuth客户端”）身份验证方式的私有，唯一的访问令牌，允许登录。\x3c\/p\x3e\n\x3cp\x3e如果您要使用OAuth让用户登录您的服务，则需要将您的服务器注册为OAuth客户端。这通常会设置一个客户端ID和客户端密钥。登录到您的服务的用户将重定位到OAuth提供程序，用户可以在其中确认他们确实想要“登录”（即允许他们登录的服务器）访问OAuth提供程序的任何必需的信息。 ）在我们的朋友Beorn的情况下...\x3c\/p\x3e\n\x3cp\x3e在我们的朋友Beorn的情况下...\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eBeorn去\x3ca href=\x22http:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\x3c\/a\x3e 买东西。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eBeorn决定使用他的Google帐户登录。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提示Beorn输入他的google帐户信息（如果他还没有登录\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e输入信息后，Google（或者其它的OAuth提供商）将提示他是否要使用他的Google帐户登录\x3ca href=\x22http:\/\/knittinggworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittinggworld.com\x3c\/a\x3e 。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e接受后，Beorn被重定向到\x3ca href=\x22http:\/\/knittingworld.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/knittingworld.com\x3c\/a\x3e 。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果knittingworld需要访问关于Beorn信息的资源，它可以向资源服务器（通过OAuth提供者）请求访问它们，只要它的token是有效的。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3eOWASP说：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e建议使用OAuth 1.0a或OAuth 2.0，因为已发现第一个版本（OAuth1.0）容易受到session固定的影响。OAuth 2.0依靠HTTPS进行安全保障，目前OAuth的API（如Facebook，Google，Twitter和Microsoft）已经实现了。 OAuth1.0a很难使用，因为它需要使用用于数字签名的加密库。然而，由于OAuth1.0a不依赖HTTPS来实现安全性，因此它更适合于更高风险的事务。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch4\x3e链接\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/a\/32534239\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eA Fun explanation of OAuth involving Donuts\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3eOpenId\x3c\/h3\x3e\n\x3cp\x3eOpenId是另一种不需要密码的身份验证协议（类似于OAuth）。 OpenId网站有一个非常简洁明了的描述，在我看来：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eOpenID允许您使用现有帐户登录多个网站，而无需创建新密码。您可以选择将信息与您的OpenID相关联，以便与您访问的网站（例如姓名或电子邮件地址）共享。使用OpenID，您可以控制与您访问的网站共享的信息量。使用OpenID，您的密码仅提供给您的身份提供商，然后该提供商会确认您访问的网站的身份。除了您的提供商，没有网站曾经看到您的密码，因此您不需要担心一个不道德或不安全的网站危害您的身份。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e虽然从2005年开始，最近（2014年-h），OpenId发布了OpenId Connect，这是一种“基于OAuth 2.0系列规范的可互操作身份验证协议”（源）\x3c\/p\x3e\n\x3ch4\x3eOpenId和OAuth有什么区别？\x3c\/h4\x3e\n\x3cp\x3eOpenId类似于OAuth，但有一些差异。类似地，OpenId依赖于与第三方（依赖方（您登录的站点））交互以提供认证凭证的身份提供商。\x3c\/p\x3e\n\x3cp\x3e不同的是，您可以使用OAuth允许您登录的网站能够访问来自提供程序的数据。这听起来可怕和混乱，但这里有一个简单的例子：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eBeorn注册为twitter。他要推销他编织的帽子\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eBeorn不知道follow谁，没有人follow他。 Beorn悲伤的感觉不重要。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eTwitter提示Beorn使用OAuth连接他的Google帐户，以便他可以导入他的联系人到Twiiter。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eBeorn follow了一群人，包括来自他多年没有见过的高中的老朋友\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eBeorn这样做了，现在他正在不停地tweeting。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e链接\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/openid.net\/get-an-openid\/what-is-openid\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhat is OpenId?\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/openid.net\/connect\/faq\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eOpenId Connect FAQ\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.youtube.com\/watch?v=Kb56GzQ2pSk\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eOpenId Connect Video\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/3376141\/openid-vs-oauth?rq=1\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhat\x27s the differene between OpenId vs OAuth?\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/1087031\/whats-the-difference-between-openid-and-oauth\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhat\x27s the differene between OpenId vs OAuth? (different thread)\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.youtube.com\/watch?v=xcmY8Pk-qEk\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eOpenId according to Dave -- I like this one, albeit dated\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这里是Stack Overflow的登录页面的图片，它提供了许多不同的身份验证方法：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000008481741?w=1189\x26amp;h=880\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000008481741?w=1189\x26amp;h=880\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader20\x22\x3e资源和脚注\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/pdos.csail.mit.edu\/papers\/webauth:sec10.pdf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e1 - Dos and Don’ts of Client Authentication on the Web. Page 2.\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/pdos.csail.mit.edu\/papers\/webauth:sec10.pdf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e2 - Dos and Don’ts of Client Authentication on the Web. Page 1.\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/549\/the-definitive-guide-to-form-based-website-authentication\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/stackoverflow.com\/questions\/549\/the-definitive-guide-to-form-based-website-authentication\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/blog.codinghorror.com\/youre-probably-storing-passwords-incorrectly\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/blog.codinghorror.com\/youre-probably-storing-passwords-incorrectly\/\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/pdos.csail.mit.edu\/papers\/webauth:sec10.pdf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/pdos.csail.mit.edu\/papers\/webauth:sec10.pdf\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.owasp.org\/index.php\/Authentication_Cheat_Sheet\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eOWASP Authentication Cheat Sheet\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>HTTP验证大法(Basic Auth,Session, JWT, Oauth, Openid)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008481722">https://segmentfault.com/a/1190000008481722</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/14vf08gpmnw/" target="_blank">https://alili.tech/archive/14vf08gpmnw/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>