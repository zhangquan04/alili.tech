<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React动画的几种实现方式"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React动画的几种实现方式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/x3k4cbf879/",
				"appid": "1613049289050283", 
				"title": "React动画的几种实现方式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-01T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/34tmp4xbhq2/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wzhng1fv9b/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&text=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&text=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&title=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&is_video=false&description=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&title=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&title=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&title=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fx3k4cbf879%2f&title=React%e5%8a%a8%e7%94%bb%e7%9a%84%e5%87%a0%e7%a7%8d%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React动画的几种实现方式</h1><div class="meta"><div class="postdate"><time datetime="2019-02-01" itemprop="datePublished">2019-02-01</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e在很久之前动画是需要操作DOM的\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e俗话说得好，饱暖思淫欲。使用React开发已经有一段时间了，在度过了初期的学习阶段和繁重的业务开发之后，总得来点更高级的东西。说到更高级的东西，无非就是体验优化、性能优化、代码质量、开发发布流程或运维监控等等，仅此而已。\x3c\/p\x3e\n\x3cp\x3e今天咱们先来讲讲简单的体验优化方面的，也就是React动画，探索一下React动画有哪些实现方式。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e手动实现\x3c\/h2\x3e\n\x3cp\x3e在很久以前，React还没有\x3ccode\x3eReactCSStransitionGroup\x3c\/code\x3e（ react.js 0.14 发布）的时候，我也还是一个初学者，曾经手动实现了一段动画，方法比较low，原理很简单，大家看看就好。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e原理\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e显示：直接通过添加类的方式执行动画。\x3cbr\x3e这个方式比较简单，通过props.show控制\x3ccode\x3edisplay none\x3c\/code\x3e从而控制DOM元素的显示隐藏，因此，在组件挂载之后，当props.show发生变化后，先通过添加类的方式来执行动画。\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22componentDidUpdate(preProps) {\/\/显示的时候执行动画\n    if (this.props.show === true \x26amp;\x26amp; preProps.show === false) {\n      this.inAnimationTime = setTimeout(()=\x3e {\n        ReactDOM.findDOMNode(this).getElementsByClassName(\x26quot;modal\x26quot;)[0].classList.add(\x26quot;in\x26quot;);\n      }, 50);\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3ecomponentDidUpdate(preProps) {\x3cspan class=\x22hljs-comment\x22\x3e\/\/显示的时候执行动画\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.show === \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x26amp;\x26amp; preProps.show === \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.inAnimationTime = setTimeout(()=\x26gt; {\n        ReactDOM.findDOMNode(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x22modal\x22\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].classList.add(\x3cspan class=\x22hljs-string\x22\x3e\x22in\x22\x3c\/span\x3e);\n      }, \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e);\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的适当的延时是为了保证动画的有效执行。\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e隐藏：先将\x3ccode\x3estate.inOutAnimation\x3c\/code\x3e（动画执行中）设置为\x3ccode\x3etrue\x3c\/code\x3e，在\x3ccode\x3ecomponentWillReceiveProps\x3c\/code\x3e里监听到nextProps.show设置为false时，先通过添加类的方式执行动画，再将\x3ccode\x3einOutAnimation\x3c\/code\x3e设置为false。\x3cbr\x3e我们都知道，\x3ccode\x3edisplay:none\x3c\/code\x3e会导致动画失效。所以只能在动画执行完之后，才能将display设置为none。\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e只有当\x3ccode\x3ethis.props.show\x3c\/code\x3e和\x3ccode\x3ethis.state.inOutAnimation}\x3c\/code\x3e都为false时，\x3ccode\x3edisplay none\x3c\/code\x3e才会生效。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\x26quot;com-modal\x26quot;: true, \x26quot;show\x26quot;: this.props.show || this.state.inOutAnimation}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e{\x3cspan class=\x22hljs-string\x22\x3e\x22com-modal\x22\x3c\/span\x3e: true, \x3cspan class=\x22hljs-string\x22\x3e\x22show\x22\x3c\/span\x3e: this.props.show || this.\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3eOutAnimation}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  componentWillReceiveProps(nextProps) {\/\/隐藏的时候执行动画\n    if (this.props.show === true \x26amp;\x26amp; nextProps.show === false) {\n      this.setState({\n        inOutAnimation: true\n      });\n      ReactDOM.findDOMNode(this).getElementsByClassName(\x26quot;modal\x26quot;)[0].classList.remove(\x26quot;in\x26quot;);\n      this.outAnimationTime = setTimeout(()=\x3e {\n        this.setState({\n          inOutAnimation: false\n        });\n      }, 300);\n    }\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode\x3e  componentWillReceiveProps(nextProps) {\x3cspan class=\x22hljs-comment\x22\x3e\/\/隐藏的时候执行动画\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.show === \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e \x26amp;\x26amp; nextProps.show === \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n        inOutAnimation: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n      });\n      ReactDOM.findDOMNode(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x22modal\x22\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].classList.remove(\x3cspan class=\x22hljs-string\x22\x3e\x22in\x22\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.outAnimationTime = setTimeout(()=\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n          inOutAnimation: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n        });\n      }, \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e);\n    }\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e说实话，实现的方式真的很low，又是延时，又是DOM操作的，感觉又回到了jQuery那个战火纷飞、刀耕火种的时代。代码臃肿冗余，基本就只能算实现了功能而已。（但是效果还是可以的）\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e效果\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVE90O?w=681\x26amp;h=649\x22 src=\x22https:\/\/static.alili.tech\/img\/bVE90O?w=681\x26amp;h=649\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3eAnimation Add-Ons\x3c\/h2\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/animation.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact animation官方文档\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eReactCSStransitionGroup\x3c\/h3\x3e\n\x3cp\x3e首先感谢React发布了\x3ccode\x3eAnimation Add-Ons\x3c\/code\x3e，具体包含这才\x3ccode\x3eReactCSStransitionGroup\x3c\/code\x3e和\x3ccode\x3eReactTransitionGroup \x3c\/code\x3e是React写动画的正确姿势嘛。\x3cbr\x3e先将讲简单的和实用的，那就是ReactCSStransitionGroup 。ReactCSStransitionGroup是在插件类ReactTransitionGroup这个底层API基础上进一步封装的高级API，来简单的实现基本的CSS动画和过渡。\x3c\/p\x3e\n\x3ch4\x3e属性\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3etransitionName:关联CSS类\x3cbr\x3e需要自己实现css动画实现的类。如\x3ccode\x3etransitionName=\x22up-to-down\x22\x3c\/code\x3e，那么你需要在css写以下类，分别是进入前后的状态和离开前后的状态：\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e`\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.right-to-left-enter {\n  opacity: 0;\n  transform: translate(5%, 0);\n}\n\n.right-to-left-enter.right-to-left-enter-active {\n  opacity: 1;\n  transform: translate(0, 0);\n  transition: opacity 150ms linear, transform 200ms ease-out;\n}\n\n.right-to-left-leave {\n  opacity: 1;\n  transform: translate(0, 0);\n}\n\n.right-to-left-leave.right-to-left-leave-active {\n  opacity: 0;\n  transform: translate(1%, 0);\n  transition: opacity 100ms linear, transform 200ms linear;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.right-to-left-enter\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3etranslate\x3c\/span\x3e(5%, 0);\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.right-to-left-enter\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.right-to-left-enter-active\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3etranslate\x3c\/span\x3e(0, 0);\n  \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: opacity \x3cspan class=\x22hljs-number\x22\x3e150ms\x3c\/span\x3e linear, transform \x3cspan class=\x22hljs-number\x22\x3e200ms\x3c\/span\x3e ease-out;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.right-to-left-leave\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3etranslate\x3c\/span\x3e(0, 0);\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.right-to-left-leave\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.right-to-left-leave-active\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3etranslate\x3c\/span\x3e(1%, 0);\n  \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: opacity \x3cspan class=\x22hljs-number\x22\x3e100ms\x3c\/span\x3e linear, transform \x3cspan class=\x22hljs-number\x22\x3e200ms\x3c\/span\x3e linear;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3etransitionEnterTimeout 进入动画执行的时间\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3etransitionLeaveTimeout 离开的动画执行的时间\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3etransitionAppear 是否在初次挂载的时候执行动画\x3cbr\x3e如果你选择true，那么你还要加上挂载前后端的类。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.up-to-down-appear {\n  opacity: 0;\n  transform: translate(0, -45%);\n}\n\n.up-to-down-appear.up-to-down-appear-active {\n  opacity: 1;\n  transform: translate(0, 0);\n  transition: opacity 150ms linear, transform 200ms ease-out;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.up-to-down-appear\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3etranslate\x3c\/span\x3e(0, -45%);\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.up-to-down-appear\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.up-to-down-appear-active\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attribute\x22\x3eopacity\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3etranslate\x3c\/span\x3e(0, 0);\n  \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: opacity \x3cspan class=\x22hljs-number\x22\x3e150ms\x3c\/span\x3e linear, transform \x3cspan class=\x22hljs-number\x22\x3e200ms\x3c\/span\x3e ease-out;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个方法实现需要添加的CSS类还是挺多的，但是无论如何，也比之前的sou动实现的方式强太多。\x3c\/p\x3e\n\x3ch4\x3e效果：\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVE95m?w=689\x26amp;h=718\x22 src=\x22https:\/\/static.alili.tech\/img\/bVE95m?w=689\x26amp;h=718\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e注意\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e一定要为ReactCSSTransitionGroup的所有子级提供 key属性。即使只渲染一个项目。React靠key来决定哪一个子级进入，离开，或者停留。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eReactCSSTransitionGroup必须已经挂载到了DOM才能工作。为了使过渡效果应用到子级上，ReactCSSTransitionGroup必须已经挂载到了DOM或者 prop transitionAppear 必须被设置为 true。ReactCSSTransitionGroup 不能随同新项目被挂载，而是新项目应该在它内部被挂载。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e该动画只对子级元素有效，对孙子级元素无效。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3eReactTransitionGroup\x3c\/h3\x3e\n\x3cp\x3eReactTransitionGroup是底层的API，相对来说会复杂点，后面再补充吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e第三方库\x3c\/h2\x3e\n\x3cp\x3e如果你觉得React提供的\x3ccode\x3eAnimation Add-Ons\x3c\/code\x3e不好用或者是不够用，那么尝试一下下面的几个React动画相关的开源项目吧。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e\x3ca href=\x22https:\/\/github.com\/chenglou\/react-motion\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-motion\x3c\/a\x3e\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/velocity-react\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evelocity-react\x3c\/a\x3e\x3c\/h3\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e\x3ca href=\x22https:\/\/github.com\/react-component\/animate\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eanimation\x3c\/a\x3e\x3c\/h3\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React动画的几种实现方式</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007388260">https://segmentfault.com/a/1190000007388260</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/x3k4cbf879/" target="_blank">https://alili.tech/archive/x3k4cbf879/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>