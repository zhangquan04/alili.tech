<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Headless Chrome 入门"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Headless Chrome 入门 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/b473qvuu9wq/",
				"appid": "1613049289050283", 
				"title": "Headless Chrome 入门 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-22T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/2c17f8uofa/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/89jee3gr64l/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&text=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&text=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&title=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&is_video=false&description=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Headless%20Chrome%20%e5%85%a5%e9%97%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&title=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&title=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&title=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fb473qvuu9wq%2f&title=Headless%20Chrome%20%e5%85%a5%e9%97%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Headless Chrome 入门</h1><div class="meta"><div class="postdate"><time datetime="2019-01-22" itemprop="datePublished">2019-01-22</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#headless-chrome-入门\x22\x3e\x3c\/a\x3eHeadless Chrome 入门\x3c\/h1\x3e\n\x3ch3\x3e\x3ca href=\x22#摘要\x22\x3e\x3c\/a\x3e摘要\x3c\/h3\x3e\n\x3cp\x3e在 Chrome 59　中开始搭载 \x3ca href=\x22https:\/\/chromium.googlesource.com\/chromium\/src\/\x2b\/lkgr\/headless\/README.md\x22\x3eHeadless Chrome\x3c\/a\x3e。这是一种在无需显示headless的环境下运行 Chrome 浏览器的方式。从本质上来说，就是不用 chrome 浏览器来运行 Chrome 的功能！它将 Chromium 和 Blink 渲染引擎提供的所有现代 Web 平台的功能都带入了命令行。\x3c\/p\x3e\n\x3cp\x3e它有什么用？\x3c\/p\x3e\n\x3cp\x3e无需显示headless的浏览器对于自动化测试和不需要可视化 UI 界面的服务器环境是一个很好的工具。例如，你可能需要对真实的网页运行一些测试，创建一个 PDF，或者只是检查浏览器如何呈现 URL。\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e\x3cstrong\x3e注意：\x3c\/strong\x3e Mac 和 Linux 上的 Chrome 59 都可以运行无需显示模式。\x3ca href=\x22https:\/\/bugs.chromium.org\/p\/chromium\/issues\/detail?id=686608\x22\x3e对 Windows 的支持\x3c\/a\x3e将在 Chrome 60 中提供。要检查你使用的 Chrome 版本，请在浏览器中打开 \x3ccode\x3echrome:\/\/version\x3c\/code\x3e。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch3\x3e\x3ca href=\x22#开启无需显示headless模式命令行界面\x22\x3e\x3c\/a\x3e开启无需显示headless模式（命令行界面）\x3c\/h3\x3e\n\x3cp\x3e开启无需显示headless模式最简单的方法是从命令行打开 Chrome 二进制文件。如果你已经安装了 Chrome 59 以上的版本，请使用 \x3ccode\x3e--headless\x3c\/code\x3e 标志启动 Chrome：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs haml\x22\x3echrome \\\n  -\x3cspan class=\x22ruby\x22\x3e-headless \\                   \x3cspan class=\x22hljs-comment\x22\x3e# Runs Chrome in headless mode.\x3c\/span\x3e\n\x3c\/span\x3e  -\x3cspan class=\x22ruby\x22\x3e-disable-gpu \\                \x3cspan class=\x22hljs-comment\x22\x3e# Temporarily needed for now.\x3c\/span\x3e\n\x3c\/span\x3e  -\x3cspan class=\x22ruby\x22\x3e-remote-debugging-port=\x3cspan class=\x22hljs-number\x22\x3e9222\x3c\/span\x3e \\\n\x3c\/span\x3e  https:\/\/www.chromestatus.com   # URL to open. Defaults to about:blank.\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cblockquote\x3e\n\x3cp\x3e\x3cstrong\x3e注意：\x3c\/strong\x3e目前你仍然需要使用 \x3ccode\x3e--disable-gpu\x3c\/code\x3e 标志。但它最终会不需要的。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3ccode\x3echrome\x3c\/code\x3e 二进制文件应该指向你安装 Chrome 的位置。确切的位置会因平台差异而不同。当前我在 Mac 上操作，所以我为安装的每个版本的 Chrome 都创建了方便使用的别名。\x3c\/p\x3e\n\x3cp\x3e如果您使用 Chrome 的稳定版，并且无法获得测试版，我建议您使用 \x3ccode\x3echrome-canary\x3c\/code\x3e 版本：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs monkey\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ealias\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echrome\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/Applications\/Google\\ Chrome.app\/Contents\/MacOS\/Google\\ Chrome\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ealias\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echrome\x3c\/span\x3e-\x3cspan class=\x22hljs-title\x22\x3ecanary\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/Applications\/Google\\ Chrome\\ Canary.app\/Contents\/MacOS\/Google\\ Chrome\\ Canary\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3ealias\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echromium\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/Applications\/Chromium.app\/Contents\/MacOS\/Chromium\x22\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在\x3ca href=\x22https:\/\/www.google.com\/chrome\/browser\/canary.html\x22\x3e这里\x3c\/a\x3e下载 Chrome Cannary。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#命令行的功能\x22\x3e\x3c\/a\x3e命令行的功能\x3c\/h3\x3e\n\x3cp\x3e在某些情况下，你可能不需要\x3ca href=\x22https:\/\/developers.google.com\/web\/updates\/2017\/04\/headless-chrome#node\x22\x3e以脚本编程的方式\x3c\/a\x3e操作 Headless Chrome。可以使用一些\x3ca href=\x22https:\/\/cs.chromium.org\/chromium\/src\/headless\/app\/headless_shell_switches.cc\x22\x3e有用的命令行标志\x3c\/a\x3e来执行常见的任务。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#打印-dom\x22\x3e\x3c\/a\x3e打印 DOM\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3e--dump-dom\x3c\/code\x3e 标志将打印 \x3ccode\x3edocument.body.innerHTML\x3c\/code\x3e 到标准输出：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3echrome \x3cspan class=\x22hljs-params\x22\x3e--headless\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--disable-gpu\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--dump-dom\x3c\/span\x3e https:\x3cspan class=\x22hljs-string\x22\x3e\/\/www.chromestatus.com\/\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#创建一个-pdf\x22\x3e\x3c\/a\x3e创建一个 PDF\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3e--print-to-pdf\x3c\/code\x3e 标志将页面转出为 PDF 文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3echrome \x3cspan class=\x22hljs-params\x22\x3e--headless\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--disable-gpu\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--print-to-pdf\x3c\/span\x3e https:\x3cspan class=\x22hljs-string\x22\x3e\/\/www.chromestatus.com\/\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#截图\x22\x3e\x3c\/a\x3e截图\x3c\/h4\x3e\n\x3cp\x3e要捕获页面的屏幕截图，请使用 \x3ccode\x3e--screenshot\x3c\/code\x3e 标志：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3echrome \x3cspan class=\x22hljs-params\x22\x3e--headless\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--disable-gpu\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--screenshot\x3c\/span\x3e https:\x3cspan class=\x22hljs-string\x22\x3e\/\/www.chromestatus.com\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e# Size of a standard letterhead.\x3c\/span\x3e\nchrome \x3cspan class=\x22hljs-params\x22\x3e--headless\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--disable-gpu\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--screenshot\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--window-size=1280\x3c\/span\x3e,1696 https:\x3cspan class=\x22hljs-string\x22\x3e\/\/www.chromestatus.com\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e# Nexus 5x\x3c\/span\x3e\nchrome \x3cspan class=\x22hljs-params\x22\x3e--headless\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--disable-gpu\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--screenshot\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e--window-size=412\x3c\/span\x3e,732 https:\x3cspan class=\x22hljs-string\x22\x3e\/\/www.chromestatus.com\/\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e使用 \x3ccode\x3e--screenshot\x3c\/code\x3e 标志运行 Headless Chrome 将在当前工作目录中生成一个名为 \x3ccode\x3escreenshot.png\x3c\/code\x3e 的文件。如果你正在寻求整个页面的截图，那么会涉及到很多事情。来自 David Schnurr 的一篇很棒的博文已经介绍了这一内容。请查看 \x3ca href=\x22https:\/\/medium.com\/@dschnr\/using-headless-chrome-as-an-automated-screenshot-tool-4b07dffba79a\x22\x3e使用 headless Chrome 作为自动截屏工具\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#repl-模式-read-eval-print-loop\x22\x3e\x3c\/a\x3eREPL 模式 (read-eval-print loop)\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3e--repl\x3c\/code\x3e 标志可以使 Headless Chrome 运行在一个你可以使用浏览器评估 JS 表达式的模式下。执行下面的命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ruby\x22\x3e$ chrome --headless --disable-gpu --repl \x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/www.chromestatus.com\/\x3c\/span\x3e\n[\x3cspan class=\x22hljs-number\x22\x3e060\x3c\/span\x3e8\/\x3cspan class=\x22hljs-number\x22\x3e112805.245285\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:INFO\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:headless_shell\x3c\/span\x3e.cc(\x3cspan class=\x22hljs-number\x22\x3e278\x3c\/span\x3e)] Type a Javascript expression to evaluate \x3cspan class=\x22hljs-keyword\x22\x3eor\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22quit\x22\x3c\/span\x3e to exit.\n\x3cspan class=\x22hljs-meta\x22\x3e\x26gt;\x26gt;\x3c\/span\x3e\x26gt; location.href\n{\x3cspan class=\x22hljs-string\x22\x3e\x22result\x22\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:\x3c\/span\x3e{\x3cspan class=\x22hljs-string\x22\x3e\x22type\x22\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22string\x22\x3c\/span\x3e\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22value\x22\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/www.chromestatus.com\/features\x22\x3c\/span\x3e\x3c\/span\x3e\x22}}\x22\n\x3cspan class=\x22hljs-meta\x22\x3e\x26gt;\x26gt;\x3c\/span\x3e\x26gt; quit\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#在没有浏览器界面的情况下调试-chrome\x22\x3e\x3c\/a\x3e在没有浏览器界面的情况下调试 Chrome\x3c\/h3\x3e\n\x3cp\x3e当你使用 \x3ccode\x3e--remote-debugging-port=9222\x3c\/code\x3e 运行 Chrome 时，它会启动一个支持 \x3ca href=\x22https:\/\/chromedevtools.github.io\/devtools-protocol\/\x22\x3eDevTools 协议\x3c\/a\x3e的实例。该协议用于与 Chrome 进行通信，并且驱动 Headless Chrome 浏览器实例。它也是一个类似 Sublime、VS Code 和 Node 的工具，可用于应用程序的远程调试。#协同效应\x3c\/p\x3e\n\x3cp\x3e由于你没有浏览器用户界面可用来查看网页，请在另一个浏览器中输入 \x3ccode\x3ehttp:\/\/localhost:9222\x3c\/code\x3e，以检查一切是否正常。你将会看到一个可检查的inspectable页面的列表，可以点击它们来查看 Headless Chrome 正在呈现的内容：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/04a12285824795b40e1d8f59966249f22759fd21\/68747470733a2f2f646576656c6f706572732e676f6f676c652e636f6d2f7765622f757064617465732f696d616765732f323031372f30342f686561646c6573732d6368726f6d652f72656d6f74652d646562756767696e672d75692e6a7067\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01eb4e1148de083db9.jpg\x22 alt=\x22DevTools Remote\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eDevTools 远程调试界面\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e从这里，你就可以像往常一样使用熟悉的 DevTools 来检查、调试和调整页面了。如果你以编程方式使用 Headless Chrome，这个页面也是一个功能强大的调试工具，用于查看所有通过网络与浏览器交互的原始 DevTools 协议命令。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#使用编程模式-node\x22\x3e\x3c\/a\x3e使用编程模式 （Node）\x3c\/h3\x3e\n\x3ch4\x3e\x3ca href=\x22#puppeteer-库-api\x22\x3e\x3c\/a\x3ePuppeteer 库 API\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/GoogleChrome\/puppeteer\x22\x3ePuppeteer\x3c\/a\x3e 是一个由 Chrome 团队开发的 Node 库。它提供了一个高层次的 API 来控制无需显示版（或 完全版）的 Chrome。它与其他自动化测试库，如 Phantom 和 NightmareJS 相类似，但是只适用于最新版本的 Chrome。\x3c\/p\x3e\n\x3cp\x3e除此之外，Puppeteer 还可用于轻松截取屏幕截图，创建 PDF，页面间导航以及获取有关这些页面的信息。如果你想快速地自动化进行浏览器测试，我建议使用该库。它隐藏了 DevTools 协议的复杂性，并可以处理诸如启动 Chrome 调试实例等繁冗的任务。\x3c\/p\x3e\n\x3cp\x3e安装：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3eyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e puppeteer\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e例子\x3c\/strong\x3e - 打印用户代理：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs typescript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e puppeteer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27puppeteer\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) =\x26gt; {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e browser = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e puppeteer.launch(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.version(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e);\n  browser.close(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n}\x3c\/span\x3e)\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e;\n\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e例子\x3c\/strong\x3e - 获取页面的屏幕截图：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs typescript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e puppeteer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27puppeteer\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) =\x26gt; {\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e browser = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e puppeteer.launch(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e page = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.newPage(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e page.goto(\x3cspan class=\x22hljs-params\x22\x3e\x27https:\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.chromestatus.com\x27, {waitUntil: \x27networkidle\x27});\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e page.pdf(\x3cspan class=\x22hljs-params\x22\x3e{path: \x27page.pdf\x27, format: \x27A4\x27}\x3c\/span\x3e);\n\nbrowser.close(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n}\x3c\/span\x3e)(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n\n\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e查看 \x3ca href=\x22https:\/\/github.com\/GoogleChrome\/puppeteer\/blob\/master\/docs\/api.md\x22\x3ePuppeteer 的文档\x3c\/a\x3e，了解完整 API 的更多信息。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#cri-库\x22\x3e\x3c\/a\x3eCRI 库\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/chrome-remote-interface\x22\x3echrome-remote-interface\x3c\/a\x3e 是一个比 Puppeteer API 更低层次的库。如果你想要更接近原始信息和更直接地使用 \x3ca href=\x22https:\/\/chromedevtools.github.io\/devtools-protocol\/\x22\x3eDevTools 协议\x3c\/a\x3e的话，我推荐使用它。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e启动 Chrome\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3echrome-remote-interface 不会为你启动 Chrome，所以你要自己启动它。\x3c\/p\x3e\n\x3cp\x3e在前面的 CLI 章节中，我们使用 \x3ccode\x3e--headless --remote-debugging-port=9222\x3c\/code\x3e \x3ca href=\x22https:\/\/developers.google.com\/web\/updates\/2017\/04\/headless-chrome#cli\x22\x3e手动启动了 Chrome\x3c\/a\x3e。但是，要想做到完全自动化测试，你可能希望从你的应用程序中启动 Chrome。\x3c\/p\x3e\n\x3cp\x3e其中一种方法是使用 \x3ccode\x3echild_process\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs php\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e execFile = \x3cspan class=\x22hljs-keyword\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27child_process\x27\x3c\/span\x3e).execFile;\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3elaunchHeadlessChrome\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(url, callback)\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Assuming MacOSx.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CHROME = \x3cspan class=\x22hljs-string\x22\x3e\x27\/Applications\/Google\\ Chrome.app\/Contents\/MacOS\/Google\\ Chrome\x27\x3c\/span\x3e;\n  execFile(CHROME, [\x3cspan class=\x22hljs-string\x22\x3e\x27--headless\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27--disable-gpu\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27--remote-debugging-port=9222\x27\x3c\/span\x3e, url], callback);\n}\n\nlaunchHeadlessChrome(\x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/www.chromestatus.com\x27\x3c\/span\x3e, (err, stdout, stderr) =\x26gt; {\n  ...\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e但是如果你想要在多个平台上运行可移植的解决方案，事情会变得很棘手。请注意 Chrome 的硬编码路径：\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e使用 ChromeLauncher\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/developers.google.com\/web\/tools\/lighthouse\/\x22\x3eLighthouse\x3c\/a\x3e 是一个令人称奇的网络应用的质量测试工具。Lighthouse 内部开发了一个强大的用于启动 Chrome 的模块，现在已经被提取出来单独使用。\x3ca href=\x22https:\/\/www.npmjs.com\/package\/chrome-launcher\x22\x3echrome-launcher NPM 模块\x3c\/a\x3e 可以找到 Chrome 的安装位置，设置调试实例，启动浏览器和在程序运行完之后将其杀死。它最好的一点是可以跨平台工作，感谢 Node！\x3c\/p\x3e\n\x3cp\x3e默认情况下，\x3cstrong\x3echrome-launcher 会尝试启动 Chrome Canary\x3c\/strong\x3e（如果已经安装），但是你也可以更改它，手动选择使用的 Chrome 版本。要想使用它，首先从 npm 安装：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3eyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e chrome-launcher\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e例子\x3c\/strong\x3e - 使用 \x3ccode\x3echrome-launcher\x3c\/code\x3e 启动 Headless Chrome：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chromeLauncher = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chrome-launcher\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Optional: set logging level of launcher to see its output.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Install it using: yarn add lighthouse-logger\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ const log = require(\x27lighthouse-logger\x27);\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ log.setLevel(\x27info\x27);\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * Launches a debugging instance of Chrome.\n * @param {boolean=} headless True (default) launches Chrome in headless mode.\n *     False launches a full version of Chrome.\n * @return {Promise\x26lt;ChromeLauncher\x26gt;}\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3elaunchChrome\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eheadless=true\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e chromeLauncher.launch({\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ port: 9222, \/\/ Uncomment to force a specific port of your choice.\x3c\/span\x3e\n    chromeFlags: [\n      \x3cspan class=\x22hljs-string\x22\x3e\x27--window-size=412,732\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-string\x22\x3e\x27--disable-gpu\x27\x3c\/span\x3e,\n      headless ? \x3cspan class=\x22hljs-string\x22\x3e\x27--headless\x27\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e\n    ]\n  });\n}\n\nlaunchChrome().then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3echrome\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e`Chrome debuggable on port: \x3cspan class=\x22hljs-subst\x22\x3e${chrome.port}\x3c\/span\x3e`\x3c\/span\x3e);\n  ...\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ chrome.kill();\x3c\/span\x3e\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e运行这个脚本没有做太多的事情，但你应该能在任务管理器中看到启动了一个 Chrome 的实例，它加载了页面 \x3ccode\x3eabout:blank\x3c\/code\x3e。记住，它不会有任何的浏览器界面，我们是无需显示的。\x3c\/p\x3e\n\x3cp\x3e为了控制浏览器，我们需要 DevTools 协议！\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#检索有关页面的信息\x22\x3e\x3c\/a\x3e检索有关页面的信息\x3c\/h4\x3e\n\x3cblockquote\x3e\n\x3cp\x3e\x3cstrong\x3e警告：\x3c\/strong\x3e DevTools 协议可以做一些有趣的事情，但是起初可能有点令人生畏。我建议先花点时间浏览 \x3ca href=\x22https:\/\/chromedevtools.github.io\/devtools-protocol\/\x22\x3eDevTools 协议查看器\x3c\/a\x3e。然后，转到 \x3ccode\x3echrome-remote-interface\x3c\/code\x3e 的 API 文档，看看它是如何包装原始协议的。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e我们来安装该库：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3eyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e chrome-remote-interface\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e例子\x3c\/strong\x3e - 打印用户代理：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CDP = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chrome-remote-interface\x27\x3c\/span\x3e);\n\n...\n\nlaunchChrome().then(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e chrome =\x26gt; {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e version = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e CDP.Version({\x3cspan class=\x22hljs-attr\x22\x3eport\x3c\/span\x3e: chrome.port});\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(version[\x3cspan class=\x22hljs-string\x22\x3e\x27User-Agent\x27\x3c\/span\x3e]);\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e结果是类似这样的东西：\x3ccode\x3eHeadlessChrome\/60.0.3082.0\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e例子\x3c\/strong\x3e - 检查网站是否有 \x3ca href=\x22https:\/\/developers.google.com\/web\/fundamentals\/engage-and-retain\/web-app-manifest\/\x22\x3eWeb 应用程序清单\x3c\/a\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CDP = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chrome-remote-interface\x27\x3c\/span\x3e);\n\n...\n\n(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chrome = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e launchChrome();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e protocol = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e CDP({\x3cspan class=\x22hljs-attr\x22\x3eport\x3c\/span\x3e: chrome.port});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Extract the DevTools protocol domains we need and enable them.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ See API docs: https:\/\/chromedevtools.github.io\/devtools-protocol\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e {Page} = protocol;\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e Page.enable();\n\nPage.navigate({\x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/www.chromestatus.com\/\x27\x3c\/span\x3e});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Wait for window.onload before doing stuff.\x3c\/span\x3e\nPage.loadEventFired(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e () =\x26gt; {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e manifest = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e Page.getAppManifest();\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (manifest.url) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Manifest: \x27\x3c\/span\x3e \x2b manifest.url);\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(manifest.data);\n  } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Site has no app manifest\x27\x3c\/span\x3e);\n  }\n\n  protocol.close();\n  chrome.kill(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Kill Chrome.\x3c\/span\x3e\n});\n\n})();\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e例子\x3c\/strong\x3e - 使用 DOM API 提取页面的 \x3ccode\x3e\x26lt;title\x26gt;\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CDP = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chrome-remote-interface\x27\x3c\/span\x3e);\n\n...\n\n(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chrome = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e launchChrome();\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e protocol = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e CDP({\x3cspan class=\x22hljs-attr\x22\x3eport\x3c\/span\x3e: chrome.port});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Extract the DevTools protocol domains we need and enable them.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ See API docs: https:\/\/chromedevtools.github.io\/devtools-protocol\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e {Page, Runtime} = protocol;\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.all([Page.enable(), Runtime.enable()]);\n\nPage.navigate({\x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/www.chromestatus.com\/\x27\x3c\/span\x3e});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Wait for window.onload before doing stuff.\x3c\/span\x3e\nPage.loadEventFired(\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e () =\x26gt; {\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e js = \x3cspan class=\x22hljs-string\x22\x3e\x22document.querySelector(\x27title\x27).textContent\x22\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Evaluate the JS expression in the page.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e result = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e Runtime.evaluate({\x3cspan class=\x22hljs-attr\x22\x3eexpression\x3c\/span\x3e: js});\n\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Title of page: \x27\x3c\/span\x3e \x2b result.result.value);\n\n  protocol.close();\n  chrome.kill(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Kill Chrome.\x3c\/span\x3e\n});\n\n})();\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#使用-seleniumwebdriver-和-chromedriver\x22\x3e\x3c\/a\x3e使用 Selenium、WebDriver 和 ChromeDriver\x3c\/h3\x3e\n\x3cp\x3e现在，Selenium 开启了 Chrome 的完整实例。换句话说，这是一个自动化的解决方案，但不是完全无需显示的。但是，Selenium 只需要进行小小的配置即可运行 Headless Chrome。如果你想要关于如何自己设置的完整说明，我建议你阅读“\x3ca href=\x22https:\/\/intoli.com\/blog\/running-selenium-with-headless-chrome\/\x22\x3e使用 Headless Chrome 来运行 Selenium\x3c\/a\x3e”，不过你可以从下面的一些示例开始。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#使用-chromedriver\x22\x3e\x3c\/a\x3e使用 ChromeDriver\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/sites.google.com\/a\/chromium.org\/chromedriver\/\x22\x3eChromeDriver\x3c\/a\x3e 2.3.0 支持 Chrome 59 及更新版本，可与 Headless Chrome 配合使用。在某些情况下，你可能需要等到 Chrome 60 以解决 bug。例如，Chrome 59 中屏幕截图已知存在问题。\x3c\/p\x3e\n\x3cp\x3e安装：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3eyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e selenium-webdriver chromedriver\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e例子：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e webdriver = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27selenium-webdriver\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chromedriver = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chromedriver\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ This should be the path to your Canary installation.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ I\x27m assuming Mac for the example.\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e PATH_TO_CANARY = \x3cspan class=\x22hljs-string\x22\x3e\x27\/Applications\/Google Chrome Canary.app\/Contents\/MacOS\/Google Chrome Canary\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chromeCapabilities = webdriver.Capabilities.chrome();\nchromeCapabilities.set(\x3cspan class=\x22hljs-string\x22\x3e\x27chromeOptions\x27\x3c\/span\x3e, {\n  \x3cspan class=\x22hljs-attr\x22\x3ebinary\x3c\/span\x3e: PATH_TO_CANARY \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Screenshots require Chrome 60\\. Force Canary.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-string\x22\x3e\x27args\x27\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x27--headless\x27\x3c\/span\x3e,\n  ]\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e driver = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webdriver.Builder()\n  .forBrowser(\x3cspan class=\x22hljs-string\x22\x3e\x27chrome\x27\x3c\/span\x3e)\n  .withCapabilities(chromeCapabilities)\n  .build();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Navigate to google.com, enter a search.\x3c\/span\x3e\ndriver.get(\x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/www.google.com\/\x27\x3c\/span\x3e);\ndriver.findElement({\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27q\x27\x3c\/span\x3e}).sendKeys(\x3cspan class=\x22hljs-string\x22\x3e\x27webdriver\x27\x3c\/span\x3e);\ndriver.findElement({\x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27btnG\x27\x3c\/span\x3e}).click();\ndriver.wait(webdriver.until.titleIs(\x3cspan class=\x22hljs-string\x22\x3e\x27webdriver - Google Search\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Take screenshot of results page. Save to disk.\x3c\/span\x3e\ndriver.takeScreenshot().then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3ebase64png\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  fs.writeFileSync(\x3cspan class=\x22hljs-string\x22\x3e\x27screenshot.png\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Buffer(base64png, \x3cspan class=\x22hljs-string\x22\x3e\x27base64\x27\x3c\/span\x3e));\n});\n\ndriver.quit();\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#使用-webdriverio\x22\x3e\x3c\/a\x3e使用 WebDriverIO\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/webdriver.io\/\x22\x3eWebDriverIO\x3c\/a\x3e 是一个在 Selenium WebDrive 上构建的更高层次的 API。\x3c\/p\x3e\n\x3cp\x3e安装：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dockerfile\x22\x3eyarn \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e webdriverio chromedriver\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e例子：过滤 chromestatus.com 上的 CSS 功能：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs typescript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e webdriverio = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27webdriverio\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e chromedriver = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27chromedriver\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ This should be the path to your Canary installation.\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ I\x27m assuming Mac for the example.\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e PATH_TO_CANARY = \x3cspan class=\x22hljs-string\x22\x3e\x27\/Applications\/Google Chrome Canary.app\/Contents\/MacOS\/Google Chrome Canary\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e PORT = \x3cspan class=\x22hljs-number\x22\x3e9515\x3c\/span\x3e;\n\nchromedriver.start([\n  \x3cspan class=\x22hljs-string\x22\x3e\x27--url-base=wd\/hub\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e`--port=\x3cspan class=\x22hljs-subst\x22\x3e${PORT}\x3c\/span\x3e`\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x27--verbose\x27\x3c\/span\x3e\n]);\n\n\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) =\x26gt; {\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e opts = {\n  port: PORT,\n  desiredCapabilities: {\n    browserName: \x27chrome\x27,\n    chromeOptions: {\n      binary: PATH_TO_CANARY \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Screenshots require Chrome 60\\. Force Canary.\x3c\/span\x3e\n      args: [\x27--headless\x27]\n    }\n  }\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e browser = webdriverio.remote(\x3cspan class=\x22hljs-params\x22\x3eopts\x3c\/span\x3e).init(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.url(\x3cspan class=\x22hljs-params\x22\x3e\x27https:\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.chromestatus.com\/features\x27);\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e title = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.getTitle(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-params\x22\x3e`Title: ${title}`\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.waitForText(\x3cspan class=\x22hljs-params\x22\x3e\x27.num-features\x27, 3000\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e numFeatures = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.getText(\x3cspan class=\x22hljs-params\x22\x3e\x27.num-features\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-params\x22\x3e`Chrome has ${numFeatures} total features`\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.setValue(\x3cspan class=\x22hljs-params\x22\x3e\x27input[\x3cspan class=\x22hljs-keyword\x22\x3etype\x3c\/span\x3e=\x22search\x22]\x27, \x27CSS\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-params\x22\x3e\x27Filtering features...\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.pause(\x3cspan class=\x22hljs-params\x22\x3e1000\x3c\/span\x3e);\n\nnumFeatures = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.getText(\x3cspan class=\x22hljs-params\x22\x3e\x27.num-features\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-params\x22\x3e`Chrome has ${numFeatures} CSS features`\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e buffer = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e browser.saveScreenshot(\x3cspan class=\x22hljs-params\x22\x3e\x27screenshot.png\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-params\x22\x3e\x27Saved screenshot...\x27\x3c\/span\x3e);\n\nchromedriver.stop(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\nbrowser.end(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n\n}\x3c\/span\x3e)(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e);\n\n\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#更多资源\x22\x3e\x3c\/a\x3e更多资源\x3c\/h3\x3e\n\x3cp\x3e以下是一些可以带你入门的有用资源：\x3c\/p\x3e\n\x3cp\x3e文档\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/chromedevtools.github.io\/devtools-protocol\/\x22\x3eDevTools Protocol Viewer\x3c\/a\x3e - API 参考文档\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e工具\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/www.npmjs.com\/package\/chrome-remote-interface\x22\x3echrome-remote-interface\x3c\/a\x3e - 基于 DevTools 协议的 node 模块\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/GoogleChrome\/lighthouse\x22\x3eLighthouse\x3c\/a\x3e - 测试 Web 应用程序质量的自动化工具；大量使用了协议\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/GoogleChrome\/lighthouse\/tree\/master\/chrome-launcher\x22\x3echrome-launcher\x3c\/a\x3e - 用于启动 Chrome 的 node 模块，可以自动化\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e样例\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x22\x3ca href=\x22https:\/\/paul.kinlan.me\/the-headless-web\/\x22\x3eThe Headless Web\x3c\/a\x3e\x22 - Paul Kinlan 发布的使用了 Headless 和 api.ai 的精彩博客\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3\x3e\x3ca href=\x22#常见问题\x22\x3e\x3c\/a\x3e常见问题\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3e我需要 \x3ccode\x3e--disable-gpu\x3c\/code\x3e 标志吗？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e目前是需要的。\x3ccode\x3e--disable-gpu\x3c\/code\x3e 标志在处理一些 bug 时是需要的。在未来版本的 Chrome 中就不需要了。查看 \x3ca href=\x22https:\/\/bugs.chromium.org\/p\/chromium\/issues\/detail?id=546953#c152\x22\x3ehttps:\/\/crbug.com\/546953#c152\x3c\/a\x3e 和 \x3ca href=\x22https:\/\/bugs.chromium.org\/p\/chromium\/issues\/detail?id=695212\x22\x3ehttps:\/\/crbug.com\/695212\x3c\/a\x3e 获取更多信息。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e所以我仍然需要 Xvfb 吗？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e不。Headless Chrome 不使用窗口，所以不需要像 Xvfb 这样的显示服务器。没有它你也可以愉快地运行你的自动化测试。\x3c\/p\x3e\n\x3cp\x3e什么是 Xvfb？Xvfb 是一个用于类 Unix 系统的运行于内存之内的显示服务器，可以让你运行图形应用程序（如 Chrome），而无需附加的物理显示器。许多人使用 Xvfb 运行早期版本的 Chrome 进行 “headless” 测试。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e如何创建一个运行 Headless Chrome 的 Docker 容器？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e查看 \x3ca href=\x22https:\/\/github.com\/ebidel\/lighthouse-ci\x22\x3elighthouse-ci\x3c\/a\x3e。它有一个使用 Ubuntu 作为基础镜像的 \x3ca href=\x22https:\/\/github.com\/ebidel\/lighthouse-ci\/blob\/master\/builder\/Dockerfile.headless\x22\x3eDockerfile 示例\x3c\/a\x3e，并且在 App Engine Flexible 容器中安装和运行了 Lighthouse。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e我可以把它和 Selenium \/ WebDriver \/ ChromeDriver 一起使用吗？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e是的。查看 \x3ca href=\x22https:\/\/developers.google.com\/web\/updates\/2017\/04\/headless-chrome#drivers\x22\x3eUsing Selenium, WebDrive, or ChromeDriver\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e它和 PhantomJS 有什么关系？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eHeadless Chrome 和 \x3ca href=\x22http:\/\/phantomjs.org\/\x22\x3ePhantomJS\x3c\/a\x3e 是类似的工具。它们都可以用来在无需显示的环境中进行自动化测试。两者的主要不同在于 Phantom 使用了一个较老版本的 WebKit 作为它的渲染引擎，而 Headless Chrome 使用了最新版本的 Blink。\x3c\/p\x3e\n\x3cp\x3e目前，Phantom 提供了比 \x3ca href=\x22https:\/\/chromedevtools.github.io\/devtools-protocol\/\x22\x3eDevTools protocol\x3c\/a\x3e 更高层次的 API。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e我在哪儿提交 bug？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e对于 Headless Chrome 的 bug，请提交到 \x3ca href=\x22https:\/\/bugs.chromium.org\/p\/chromium\/issues\/entry?components=Blink\x26amp;blocking=705916\x26amp;cc=skyostil%40chromium.org\x26amp;Proj=Headless\x22\x3ecrbug.com\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e对于 DevTools 协议的 bug，请提交到 \x3ca href=\x22https:\/\/github.com\/ChromeDevTools\/devtools-protocol\/issues\/new\x22\x3egithub.com\/ChromeDevTools\/devtools-protocol\x3c\/a\x3e。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e作者简介\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/developers.google.com\/web\/resources\/contributors#ericbidelman\x22\x3eEric Bidelman\x3c\/a\x3e 谷歌工程师，Lighthouse 开发，Web 和 Web 组件开发，Chrome 开发\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/developers.google.com\/web\/updates\/2017\/04\/headless-chrome\x22\x3ehttps:\/\/developers.google.com\/web\/updates\/2017\/04\/headless-chrome\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/developers.google.com\/web\/resources\/contributors#ericbidelman\x22\x3eEric Bidelman\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/firmianay\x22\x3efirmianay\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Headless Chrome 入门</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/getting-started-with-headless-chrome">https://www.zcfy.cc/article/getting-started-with-headless-chrome</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/b473qvuu9wq/" target="_blank">https://alili.tech/archive/b473qvuu9wq/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>