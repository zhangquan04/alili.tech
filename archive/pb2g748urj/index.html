<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="《每周一点canvas动画》——差分函数的妙用"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>《每周一点canvas动画》——差分函数的妙用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/pb2g748urj/",
				"appid": "1613049289050283", 
				"title": "《每周一点canvas动画》——差分函数的妙用 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-02T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/zarn26zhewa/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xywzs9vc2bs/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&text=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&text=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&is_video=false&description=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fpb2g748urj%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%b7%ae%e5%88%86%e5%87%bd%e6%95%b0%e7%9a%84%e5%a6%99%e7%94%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">《每周一点canvas动画》——差分函数的妙用</h1><div class="meta"><div class="postdate"><time datetime="2019-02-02" itemprop="datePublished">2019-02-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3ca href=\x22https:\/\/github.com\/supperjet\/H5-Animation\/tree\/master\/share\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e每周一点canvas动画代码文件\x3c\/a\x3e\x3c\/blockquote\x3e\n\x3cp\x3e好像上次更新还是十一前，这唰唰唰的就过去大半个月了，现在更新我也没什么不好意思的。这次我们不涉及canvas 3D的内容，主要分享一个比较炫的动画效果，可以算是上一篇文章\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000007003958\x22\x3e《每周一点canvas动画》——3D点线与水波动画\x3c\/a\x3e的加强版。动画效果来自\x3ca href=\x22http:\/\/codepen.io\/yangfan44777\/pen\/Afklw\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecodePen\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22yangfan44777\/pen\/Afklw\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e。在这篇文章中我们就分析这种效果是如何实现的，如果你对源码比较懵逼，相信看完解析就会恍然大悟。先上效果图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEoPd?w=727\x26amp;h=420\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEoPd?w=727\x26amp;h=420\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e1.原理分析\x3c\/h3\x3e\n\x3cp\x3e相比与上篇文章中简陋的水波动画的效果，本文的动画效果不仅能够和鼠标进行交互，而且波浪的形成更加自然，更加符合物理规律。整个动画的形成过程就如动图中所展示的那样，在液面的位置点击鼠标，此处的液面就会有一个比较大的起伏，然后此处的震动会向两边传播，随着能量的衰减，后面的震动幅度会越来越下，最后能量衰减到零，页面趋于平静。听上去是不是很玄乎，感觉很高深！毛主席告诉我们千万不要被物体的表面现象所迷惑（谁知道是谁说的呢o(^▽^)o）。下面我们就来一步一步的分析，这其中的原理。\x3c\/p\x3e\n\x3cp\x3e首先，在静止状态下我们可以看到整个液面就相当于是个矩形。而当我们点击液面的位置时，这个矩形就发生了相应的变化。但其实并不是整个矩形都发生了变化，而\x3cstrong\x3e只是矩形的上边发生了变化\x3c\/strong\x3e。那是如何做到仅仅让矩形的上边发生变化的呢？秘诀就在矩形的上边并不是简单的从左边的点\x3ccode\x3elineTo()\x3c\/code\x3e到右边的点。而是由很多的点\x3ccode\x3elineTo()\x3c\/code\x3e组成。这样讲可能不太好理解，看图说话：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEoPp?w=791\x26amp;h=318\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEoPp?w=791\x26amp;h=318\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在上部我们设置了很多的点，这些点的纵坐标都是一样的，只是在水平方向相隔一定的间距。这样在静止的状态下，我们就可以它看见与普通的矩形别无二致。而改变这些点的位置时我们就能同时改变矩形的形状，从而形成不同的效果。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e2.差分方程\x3c\/h3\x3e\n\x3cp\x3e说到差分方程也许很多人会头疼，不过也没本法，疼就疼会吧！这个知识点在高数里讲微分方程那一节，如果不明白，就算了吧！记住下面的用法也不错，不过为了逼格我们还是简单的介绍下。\x3c\/p\x3e\n\x3cblockquote\x3e在数学上，递推关系（recurrence relation），也就是差分方程（difference equation），是一种递推地定义一个序列的方程式：序列的每一项目是定义为前一项的函数。某些简单定义的递推关系式可能会表现出非常复杂的（混沌的）性质，他们属于数学中的非线性分析领域。\x3c\/blockquote\x3e\n\x3cp\x3e记住一点，\x3cstrong\x3e序列的每一项是定义为前一项的函数\x3c\/strong\x3e，我们用的就是这个原理。他的图像如果用matalab来绘制就是下面这样：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEoPD?w=465\x26amp;h=334\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEoPD?w=465\x26amp;h=334\x22 alt=\x22![](pic\/liquaid2.png)\x22 title=\x22![](pic\/liquaid2.png)\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e只关注原函数，红色的那条曲线就可以了，是不是特别像水波。我们要做的就是让那一堆点按照这样的波形去排列。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e3.代码实现\x3c\/h3\x3e\n\x3ch4\x3e1.准备工作\x3c\/h4\x3e\n\x3cp\x3e下面就到了大家最喜欢的代码时间。首先，我们创建一个点类Vertexes, 它的作用就是定义并更新那一堆点，代码在\x3ccode\x3evertex.js\x3c\/code\x3e中，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function Vertex(x,y,baseY){\n        this.baseY = baseY;         \/\/基线\n        this.x = x;                 \/\/点的坐标\n        this.y = y;            \n        this.vy = 0;                \/\/竖直方向的速度\n        this.targetY = 0;           \/\/目标位置\n        this.friction = 0.15;       \/\/摩擦力\n        this.deceleration = 0.95;   \/\/减速\n    }\n\/\/y坐标更新\nVertex.prototype.updateY = function(diffVal){\n        this.targetY = diffVal \x2b this.baseY;   \/\/改变目标位置\n        this.vy \x2b= (this.targetY - this.y);       \/\/速度\n        this.vy *= this.deceleration;\n        this.y \x2b= this.vy * this.friction;     \/\/改变坐标竖直方向的位置\n    }\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e Vertex(x,y,baseY){\n        this.baseY = baseY;         \/\/基线\n        this.x = x;                 \/\/点的坐标\n        this.y = y;            \n        this.vy = 0;                \/\/竖直方向的速度\n        this.targetY = 0;           \/\/目标位置\n        this.friction = 0.15;       \/\/摩擦力\n        this.deceleration = 0.95;   \/\/减速\n    }\n\/\/y坐标更新\nVertex.prototype.updateY = \x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(diffVal){\n        this.targetY = diffVal \x2b this.baseY;   \/\/改变目标位置\n        this.vy \x2b= (this.targetY - this.y);       \/\/速度\n        this.vy *= this.deceleration;\n        this.y \x2b= this.vy * this.friction;     \/\/改变坐标竖直方向的位置\n    }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们要用这个函数去创建那一堆点。回到我们的主文件index.js中。我们先初始化一些要用的东西：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var canvas = document.getElementById(\x27canvas\x27),\n    ctx = canvas.getContext(\x272d\x27),\n    W = window.innerWidth;\n    H = window.innerHeight;\n\n    canvas.width = W;\n    canvas.height = H;\n\nvar color1 = \x26quot;#6ca0f6\x26quot;,    \/\/矩形1的颜色\n    color2 = \x26quot;#367aec\x26quot;;   \/\/矩形2的颜色\n    \nvar vertexes = [],    \/\/顶点坐标\n    verNum = 250,     \/\/顶点数\n    diffPt = [],      \/\/差分值\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3evar canvas = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e),\n    ctx = canvas.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e),\n    W = window.innerWidth;\n    H = window.innerHeight;\n\n    canvas.width = W;\n    canvas.height = H;\n\nvar color1 = \x3cspan class=\x22hljs-string\x22\x3e\x22#6ca0f6\x22\x3c\/span\x3e,    \/\/矩形1的颜色\n    color2 = \x3cspan class=\x22hljs-string\x22\x3e\x22#367aec\x22\x3c\/span\x3e;   \/\/矩形2的颜色\n    \nvar vertexes = [],    \/\/顶点坐标\n    verNum = 250,     \/\/顶点数\n    diffPt = [],      \/\/差分值\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后，创建点并把它\x3ccode\x3epush\x3c\/code\x3e进\x3ccode\x3evertexes\x3c\/code\x3e中，同时也创建相应数量的差分值，同样把它放到\x3ccode\x3ediffPt\x3c\/code\x3e数组中，这样每个点都有了对应的差分值。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22for(var i=0; i\x3cverNum; i\x2b\x2b){\n    vertexes[i] = new Vertex(W\/(verNum-1)*i, H\/2, H\/2);\n    diffPt[i] = 0;                                         \/\/初始值都为0\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=0; i\x26lt;verNum; i\x2b\x2b){\n    vertexes[i] = new Vertex(W\/(verNum-1)*i, H\/2, H\/2);\n    diffPt[i] = 0;                                         \/\/初始值都为0\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e结果是，每个顶点的\x3ccode\x3ey\x3c\/code\x3e坐标都在（\x3ccode\x3eH\/2\x3c\/code\x3e）的高度，水平坐标每隔一定的间隔取一个点。在这里是每隔4.5个像素取一个点，这与你canvas的宽度和点的数目有关。这样我们就把点创建完成了，来绘制一下看看效果。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEoPS?w=725\x26amp;h=423\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEoPS?w=725\x26amp;h=423\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function draw(){\n        \n        \/\/矩形1\n        ctx.save()\n        ctx.fillStyle = color1;\n        ctx.beginPath();\n        ctx.moveTo(0, H);\n        ctx.lineTo(vertexes[0].x, vertexes[0].y);\n        for(var i=1; i\x3cvertexes.length; i\x2b\x2b){\n            ctx.lineTo(vertexes[i].x, vertexes[i].y);\n        }\n        ctx.lineTo(W,H);\n        ctx.lineTo(0,H);\n        ctx.fill();\n        ctx.restore();\n        \n        \/\/矩形2\n        ctx.save();\n        ctx.fillStyle = color2;\n        ctx.beginPath();\n        ctx.moveTo(0, H);\n        ctx.lineTo(vertexes[0].x, vertexes[0].y\x2b5);\n        for(var i=1; i\x3cvertexes.length; i\x2b\x2b){\n            ctx.lineTo(vertexes[i].x, vertexes[i].y\x2b5);\n        }\n        ctx.lineTo(W, H);\n        ctx.lineTo(0, H);\n        ctx.fill();\n        ctx.restore();\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edraw\x3c\/span\x3e\x3c\/span\x3e(){\n        \n        \/\/矩形1\n        ctx.save()\n        ctx.fillStyle = color1;\n        ctx.beginPath();\n        ctx.moveTo(0, H);\n        ctx.lineTo(vertexes[0].x, vertexes[0].y);\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=1; i\x26lt;vertexes.length; i\x2b\x2b){\n            ctx.lineTo(vertexes[i].x, vertexes[i].y);\n        }\n        ctx.lineTo(W,H);\n        ctx.lineTo(0,H);\n        ctx.fill();\n        ctx.restore();\n        \n        \/\/矩形2\n        ctx.save();\n        ctx.fillStyle = color2;\n        ctx.beginPath();\n        ctx.moveTo(0, H);\n        ctx.lineTo(vertexes[0].x, vertexes[0].y\x2b5);\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=1; i\x26lt;vertexes.length; i\x2b\x2b){\n            ctx.lineTo(vertexes[i].x, vertexes[i].y\x2b5);\n        }\n        ctx.lineTo(W, H);\n        ctx.lineTo(0, H);\n        ctx.fill();\n        ctx.restore();\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就像你看到的那样此时我们的液面完全是静止的（因为没更新点嘛）。之所以要绘制两个矩形，你看看效果图就明白了，只是为了更好看，你完全可以绘制第三层，第四层。下面我们就来更新这些点的坐标。\x3c\/p\x3e\n\x3ch4\x3e2.核心代码\x3c\/h4\x3e\n\x3cp\x3e点的更新我们放在了\x3ccode\x3eupdate\x3c\/code\x3e函数中。首先，我们设置一个初始的\x3cstrong\x3e震荡点\x3c\/strong\x3e,\x3cstrong\x3e缓冲变量\x3c\/strong\x3e和\x3cstrong\x3e初始差分值\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var vPos = 125;  \/\/震荡点\nvar dd = 15;     \/\/缓冲\nvar autoDiff = 1000;  \/\/初始差分值\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3evar vPos = 125;  \/\/震荡点\nvar dd = 15;     \/\/缓冲\nvar autoDiff = 1000;  \/\/初始差分值\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里的震荡点就是我们的起震位置，意思是\x3ccode\x3evertexes\x3c\/code\x3e中的第\x3ccode\x3e125\x3c\/code\x3e号点开始起震，它对应的差分值就是\x3ccode\x3eautoDiff\x3c\/code\x3e。它的改变会引起其他点的变化，从而达到更新其他差分值的效果。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function update(){\n        autoDiff -= autoDiff*0.9;        \/\/1\n        diffPt[vPos] = autoDiff;         \n\n        \/\/左侧\n        for(var i=vPos-1; i\x3e0; i--){     \/\/2\n            var d = vPos-i;\n            if(d \x3e dd){\n                d=dd;\n            }\n            diffPt[i]-=(diffPt[i] - diffPt[i\x2b1])*(1-0.01*d);\n        }\n        \/\/右侧\n        for(var i=vPos\x2b1; i\x3cverNum; i\x2b\x2b){   \/\/3\n            var d = i-vPos;\n            if(d\x3edd){\n                d=dd;\n            }\n            diffPt[i] -= (diffPt[i] - diffPt[i-1])*(1-0.01*d);\n        }\n\n        \/\/更新Y坐标\n        for(var i=0; i\x3cvertexes.length; i\x2b\x2b){  \/\/4\n            vertexes[i].updateY(diffPt[i]);\n        }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eupdate\x3c\/span\x3e\x3c\/span\x3e(){\n        autoDiff -= autoDiff*0.9;        \/\/1\n        diffPt[vPos] = autoDiff;         \n\n        \/\/左侧\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=vPos-1; i\x26gt;0; i--){     \/\/2\n            var d = vPos-i;\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(d \x26gt; dd){\n                d=dd;\n            }\n            diffPt[i]-=(diffPt[i] - diffPt[i\x2b1])*(1-0.01*d);\n        }\n        \/\/右侧\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=vPos\x2b1; i\x26lt;verNum; i\x2b\x2b){   \/\/3\n            var d = i-vPos;\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(d\x26gt;dd){\n                d=dd;\n            }\n            diffPt[i] -= (diffPt[i] - diffPt[i-1])*(1-0.01*d);\n        }\n\n        \/\/更新Y坐标\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(var i=0; i\x26lt;vertexes.length; i\x2b\x2b){  \/\/4\n            vertexes[i].updateY(diffPt[i]);\n        }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们对上面的部分做详细解释：\x3cbr\x3e代码1： 我们设置了起震位置的差分偏移量为\x3ccode\x3eautoDiff=100\x3c\/code\x3e,注意\x3ccode\x3eautoDiff -= autoDiff*0.9;\x3c\/code\x3e, 也就是说它的值每一帧都会变化。\x3c\/p\x3e\n\x3cp\x3e代码2：为起震位置的左边，主要关注\x3ccode\x3ediffPt[i]-=(diffPt[i] - diffPt[i\x2b1])*(1-0.01*d);\x3c\/code\x3e这一行。\x3ccode\x3ei\x3c\/code\x3e的起始位置为\x3ccode\x3e124\x3c\/code\x3e，默认差分值为\x3ccode\x3e0\x3c\/code\x3e。稍作简单推算，你会发现，经过更新后第\x3ccode\x3e124\x3c\/code\x3e号点的差分值为\x3ccode\x3e99\x3c\/code\x3e，同理第\x3ccode\x3e123\x3c\/code\x3e号为\x3ccode\x3e97.02\x3c\/code\x3e。以此类推，我们就可以得到第一帧的所有点的差分值。右边同理。\x3c\/p\x3e\n\x3cp\x3e代码4：在得到第一帧的差分值后就该调用每个点的更新函数了，并且传入计算好的差分值。形成的效果如下图所示\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEoP4?w=483\x26amp;h=276\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEoP4?w=483\x26amp;h=276\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e看一下\x3ccode\x3eupdateY\x3c\/code\x3e函数，我们把目标位置\x3ccode\x3etargetY\x3c\/code\x3e设置为差分值\x3ccode\x3ediffVal\x3c\/code\x3e和基线\x3ccode\x3ebaseY\x3c\/code\x3e的和。然后，通过距离计算需要运动的速度\x3ccode\x3evy\x3c\/code\x3e,最后将速度作用于点的纵坐标。这一段是不是与弹性动画缓动动画那一节很相似呢？\x3c\/p\x3e\n\x3cp\x3e在缓冲系数dd的作用下，两侧的波会在扩散的过程中越来越小，最后趋近于0.\x3cstrong\x3e我们也是通过这个变量去控制液体的粘度系数\x3c\/strong\x3e，达到粘稠度高的物体扩散的越缓慢并且起伏比较低，粘稠度低的物体扩散迅速但起伏大的效果。\x3c\/p\x3e\n\x3cp\x3e随后，因为\x3ccode\x3eautoDiff\x3c\/code\x3e的不断衰减，\x3cstrong\x3e不同幅值波形的叠加形成波浪效果，最终衰减到0.液面也就趋于平静了\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e现在，我们把update()和draw()放入动画循环中你就会看到水波起伏然后趋于平静的效果。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(function drawframe(){\n        ctx.clearRect(0, 0, W, H);\n        window.requestAnimationFrame(drawframe, canvas);\n        update()\n        draw();\n    })()\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edrawframe\x3c\/span\x3e\x3c\/span\x3e(){\n        ctx.clearRect(0, 0, W, H);\n        window.requestAnimationFrame(drawframe, canvas);\n        update()\n        draw();\n    })()\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e3.鼠标交互\x3c\/h4\x3e\n\x3cp\x3e上面的代码已经实现了波浪动画的效果，但是震荡完成后就平静了，不会再发生震荡的效果。这一步我们就来实现点哪，哪震的效果。实现的思路很简单：\x3cstrong\x3e水波之所以区域平静是因为起震位置的差分值不断衰减的结果，我们只需要在点击鼠标的位置重设\x3ccode\x3eautoDiff\x3c\/code\x3e就可以了。此外，起震点的位置也要变成鼠标点击的位置。\x3c\/strong\x3e代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22canvas.addEventListener(\x27mousedown\x27, function(e){\n        var mouse = {x:null, y:null};\n\n        if(e.pageX||e.pageY){\n            mouse.x = e.pageX;\n            mouse.y = e.pageY;\n        }else{\n            mouse.x = e.clientX \x2b document.body.scrollLeft \x2bdocument.documentElement.scrollLeft;\n            mouse.y = e.clientY \x2b document.body.scrollTop \x2bdocument.documentElement.scrollTop;\n        }\n\n        \/\/重设差分值\n        if(mouse.y\x3e(H\/2-50) \x26amp;\x26amp; mouse.y\x3c(H\/2 \x2b50)){\n            autoDiff = 1000;\n            vPos = 1 \x2b Math.floor((verNum - 2) * mouse.x \/ W);\n            diffPt[vPos] = autoDiff;\n        }\n\n        console.log(mouse.x, mouse.y)\n\n    }, false)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3ecanvas.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27mousedown\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(e){\n        var mouse = {x:null, y:null};\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(e.pageX||e.pageY){\n            mouse.x = e.pageX;\n            mouse.y = e.pageY;\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n            mouse.x = e.clientX \x2b document.body.scrollLeft \x2bdocument.documentElement.scrollLeft;\n            mouse.y = e.clientY \x2b document.body.scrollTop \x2bdocument.documentElement.scrollTop;\n        }\n\n        \/\/重设差分值\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(mouse.y\x26gt;(H\/2-50) \x26amp;\x26amp; mouse.y\x26lt;(H\/2 \x2b50)){\n            autoDiff = 1000;\n            vPos = 1 \x2b Math.floor((verNum - 2) * mouse.x \/ W);\n            diffPt[vPos] = autoDiff;\n        }\n\n        console.log(mouse.x, mouse.y)\n\n    }, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在获取鼠标位置这里应该注意一点，我们没有减去canvas的偏移量，这是因为在这里canvas做的是全屏设置。所以，如果你的画布并不是全屏大小，建议你使用我们的\x3ccode\x3eutils.js\x3c\/code\x3e文件中的方法\x3ccode\x3ecaptureMouse\x3c\/code\x3e来获取鼠标的坐标。\x3c\/p\x3e\n\x3cp\x3e另外在判断鼠标是否点击在了液面上，我们设定了一个比较宽的范围，上下共100px。这样做的目的是让用户很容易就能触发这个事件，而不是只在页面那唯一的一个值上才能触发。这种做法相信你以前做过，对于比较小的物体我们会遮罩一个大一些的透明物体，然后在该物体上做事件的触发，便于用户操作。\x3c\/p\x3e\n\x3cp\x3e其他的颜色改变等细小功能就不做过多的介绍了,see you！！！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>《每周一点canvas动画》——差分函数的妙用</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007206262">https://segmentfault.com/a/1190000007206262</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/pb2g748urj/" target="_blank">https://alili.tech/archive/pb2g748urj/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>