<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="仿淘宝的放大镜效果"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>仿淘宝的放大镜效果 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/6c14wptntur/",
				"appid": "1613049289050283", 
				"title": "仿淘宝的放大镜效果 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-07T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/xn1fqi6tdm/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/nvxem2ztzso/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&text=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&text=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&title=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&is_video=false&description=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&title=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&title=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&title=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6c14wptntur%2f&title=%e4%bb%bf%e6%b7%98%e5%ae%9d%e7%9a%84%e6%94%be%e5%a4%a7%e9%95%9c%e6%95%88%e6%9e%9c"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">仿淘宝的放大镜效果</h1><div class="meta"><div class="postdate"><time datetime="2019-01-07" itemprop="datePublished">2019-01-07</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e前言\x3c\/h1\x3e\n\x3cp\x3e这一段时间事情挺多的，一直没有时间写文章。这两天稍微闲了一些，就趁这会闲工夫写一篇文章。本次文章的主要内容是介绍一下淘宝的放大镜效果是如何实现的，相信很多同学们对这个并不陌生。这个看似感觉很复杂的小功能，实际上原理却是非常的简单，下面我们学习一下淘宝放大镜效果是如何实现的。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e实现过程\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e项目结构\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRpkc?w=734\x26amp;h=358\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRpkc?w=734\x26amp;h=358\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我们整个项目结构并不复杂，由images目录、jquery-3.2.1.min.js、style.css、main.js、index.html等内容构成。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eimages目录。\x3c\/strong\x3e存放项目所使用的图片素材。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3ejquery-3.2.1.min.js。\x3c\/strong\x3ejQuery库（如果你想熟悉一下原生JS，可不选）。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3estyle.css。\x3c\/strong\x3e控制项目css样式文件。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3emain.js。\x3c\/strong\x3e控制项目逻辑的js文件。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eindex.html。\x3c\/strong\x3e控制项目dom结构。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e素材\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e小图(small.jpg)\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRpkk?w=430\x26amp;h=430\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRpkk?w=430\x26amp;h=430\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e原图(big.jpg)\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRpkf?w=800\x26amp;h=800\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRpkf?w=800\x26amp;h=800\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e放大镜背景图(mask_bg.jpg)\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRpkm?w=2\x26amp;h=2\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRpkm?w=2\x26amp;h=2\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e实现原理\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRpmz?w=1900\x26amp;h=908\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRpmz?w=1900\x26amp;h=908\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVRpla?w=1288\x26amp;h=800\x22 src=\x22https:\/\/static.alili.tech\/img\/bVRpla?w=1288\x26amp;h=800\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e放大镜 ==  100*100橘色方块\x3c\/strong\x3e   简称：方块1\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e左窗口 ==  200*200蓝色方块\x3c\/strong\x3e   简称：方块2\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e右窗口 ==  200*200紫色方块\x3c\/strong\x3e   简称：方块3\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e原图 ==  400*400青色方块\x3c\/strong\x3e   简称：方块4\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e大致原理如下：\x3c\/strong\x3e\x3cbr\x3e用一个表达式就是：方块1的left值（或top值）\/方块4的left值（或top值）=（-1）*方块2的宽度\/方块4的宽度。这里我们需要注意的是方块1的定位父级是方块2，方块4的定位父级是方块3。另外小图的长宽与左窗口的长宽保持一致。我们等比例地根据方块1的top值和left值去修改方块4的top值和left值，并且方块超出部分不可见，就可以实现放大镜效果。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e文件内容\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eHTML\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3cmeta name=\x26quot;viewport\x26quot; content=\x26quot;width=device-width, initial-scale=1.0\x26quot;\x3e\n    \x3cmeta http-equiv=\x26quot;X-UA-Compatible\x26quot; content=\x26quot;ie=edge\x26quot;\x3e\n    \x3ctitle\x3e仿淘宝放大镜效果\x3c\/title\x3e\n    \x3clink rel=\x26quot;stylesheet\x26quot; href=\x26quot;style.css\x26quot;\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n\x3cdiv id=\x26quot;container\x26quot;\x3e\n    \x3cdiv class=\x26quot;leftView\x26quot;\x3e\n        \x3cdiv class=\x26quot;mask\x26quot;\x3e\x3c\/div\x3e\n        \x3cimg class=\x26quot;smallImg\x26quot; src=\x26quot;images\/small.jpg\x26quot; alt=\x26quot;缩小版\x26quot;\/\x3e\n    \x3c\/div\x3e\n    \x3cdiv class=\x26quot;rightView\x26quot;\x3e\n        \x3cimg class=\x26quot;bigImg\x26quot; src=\x26quot;images\/big.jpg\x26quot; alt=\x26quot;放大版\x26quot;\/\x3e\n    \x3c\/div\x3e\n\x3c\/div\x3e\n\x3c\/body\x3e\n\x3cscript src=\x26quot;jquery-3.2.1.min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;main.js\x26quot;\x3e\x3c\/script\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22viewport\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22width=device-width, initial-scale=1.0\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehttp-equiv\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22X-UA-Compatible\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22ie=edge\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e仿淘宝放大镜效果\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22style.css\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22container\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22leftView\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mask\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22smallImg\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22images\/small.jpg\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ealt\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22缩小版\x22\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22rightView\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eimg\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22bigImg\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22images\/big.jpg\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ealt\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22放大版\x22\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22jquery-3.2.1.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22main.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e.mask 代表 放大镜\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e.leftView 代表 左窗口\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e.rightView 代表 右窗口\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e.bigImg 代表 原图\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3eCSS\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#container{\n   position: relative;    \n}\n.leftView{\n    position: relative;\n    width: 418px;\n    height: 418px;\n}\n.smallImg{\n    max-height: 100%;\n    max-width: 100%;\n}\n.mask{\n    display: none;\n    position: absolute;\n    background: url(.\/images\/mask_bg.png);\n    cursor: move;\n}\n.rightView{\n    position: absolute;\n    left:458px;\n    top:0;\n    width:418px;\n    height:418px;\n    overflow:hidden; \n}\n.bigImg{\n    position: absolute;\n    top:0;\n    left:0;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-id\x22\x3e#container\x3c\/span\x3e{\n   \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;    \n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.leftView\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e418px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e418px\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.smallImg\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3emax-height\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3emax-width\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.mask\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: none;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eurl\x3c\/span\x3e(.\/images\/mask_bg.png);\n    \x3cspan class=\x22hljs-attribute\x22\x3ecursor\x3c\/span\x3e: move;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.rightView\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e458px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e418px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e418px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eoverflow\x3c\/span\x3e:hidden; \n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.bigImg\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3eJS各模块实现\x3c\/h3\x3e\n\x3ch4\x3e计算放大镜的长宽\x3c\/h4\x3e\n\x3cp\x3e这里说明一下我们为什么要动态计算放大镜的长宽，主要原因是原图的长宽是不确定的。但是我们要满足\x3cstrong\x3e放大镜\/右窗口=左窗口\/原图\x3c\/strong\x3e,这里左窗口和右窗口的长宽是确定的，所以放大镜的长宽是需要根据原图的长宽进行计算。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  function calculateMaskWH(){\n         var width=$(\x27.leftView\x27).width()\/$(\x27.bigImg\x27).width()*$(\x27.rightView\x27).width();\n         var height=$(\x27.leftView\x27).height()\/$(\x27.bigImg\x27).height()*$(\x27.rightView\x27).height();\n         $(\x27.mask\x27).css({\n            \x26quot;width\x26quot;:width,\n            \x26quot;height\x26quot;:height\n         });\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecalculateMaskWH\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n         \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e width=$(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).width()\/$(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).width()*$(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).width();\n         \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e height=$(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).height()\/$(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).height()*$(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).height();\n         $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css({\n            \x3cspan class=\x22hljs-string\x22\x3e\x22width\x22\x3c\/span\x3e:width,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22height\x22\x3c\/span\x3e:height\n         });\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e监听左窗口mouseover和mouseout事件\x3c\/h4\x3e\n\x3cp\x3e在鼠标没有悬浮在左窗口时，放大镜、右窗口和原图是不可见的。当鼠标悬浮在左窗口之上时，放大镜、右窗口和原图是可见的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 \/\/监听鼠标mouseover事件\n $(\x27.leftView\x27).on(\x27mouseover\x27,function(){\n        $(\x27.mask\x27).css(\x27display\x27,\x27block\x27);\n        $(\x27.rightView\x27).css(\x27display\x27,\x27block\x27);        \n    });\n \/\/监听鼠标mouseout事件  \n $(\x27.leftView\x27).on(\x27mouseout\x27,function(){\n        $(\x27.mask\x27).css(\x27display\x27,\x27none\x27);\n        $(\x27.rightView\x27).css(\x27display\x27,\x27none\x27);\n    });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/监听鼠标mouseover事件\x3c\/span\x3e\n $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27mouseover\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27block\x27\x3c\/span\x3e);\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27block\x27\x3c\/span\x3e);        \n    });\n \x3cspan class=\x22hljs-comment\x22\x3e\/\/监听鼠标mouseout事件  \x3c\/span\x3e\n $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27mouseout\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27none\x27\x3c\/span\x3e);\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27none\x27\x3c\/span\x3e);\n    });\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e监听左窗口mousemove事件\x3c\/h4\x3e\n\x3cp\x3e监听mousemove事件，我们需要干两件事。第一件事，动态改变放大镜的top值和left值。第二件事是根据放大镜的top值和left值，等比例修改原图的top值和left值。因此我们这里的难点就是如何计算top值和left值。另外，我们要保证放大镜不能出界。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 $(\x27.leftView\x27).on(\x27mousemove\x27,function(event){\n        \/\/计算放大镜的left值和top值\n        var left=event.pageX-$(this).offset().left-$(\x27.mask\x27).width()\/2;\n        var top=event.pageY-$(this).offset().top-$(\x27.mask\x27).height()\/2;\n        \/\/判断放大镜左右是否出界\n        if(left\x3c0){\n            left=0\n        }else if(left\x3e$(this).width()-$(\x27.mask\x27).width()){\n            left=$(this).width()-$(\x27.mask\x27).width();\n        }\n        \/\/判断放大镜上下是否出现\n        if(top\x3c0){\n            top=0;\n        }else if(top\x3e$(this).height()-$(\x27.mask\x27).height()){\n            top=$(this).height()-$(\x27.mask\x27).height();\n        }\n        $(\x27.mask\x27).css({\n            left:left\x2b\x27px\x27,\n            top:top\x2b\x27px\x27\n        });\n        \/\/计算比例\n        var rate=$(\x27.bigImg\x27).width()\/$(\x27.leftView\x27).width();\n        $(\x27.bigImg\x27).css({\n            left:-rate*left\x2b\x27px\x27,\n            top:-rate*top\x2b\x27px\x27\n        });\n    });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27mousemove\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算放大镜的left值和top值\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e left=event.pageX-$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).offset().left-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).width()\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e top=event.pageY-$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).offset().top-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).height()\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/判断放大镜左右是否出界\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(left\x26lt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n            left=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(left\x26gt;$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).width()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).width()){\n            left=$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).width()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).width();\n        }\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/判断放大镜上下是否出现\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(top\x26lt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n            top=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(top\x26gt;$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).height()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).height()){\n            top=$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).height()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).height();\n        }\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css({\n            \x3cspan class=\x22hljs-attr\x22\x3eleft\x3c\/span\x3e:left\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3etop\x3c\/span\x3e:top\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\n        });\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算比例\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e rate=$(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).width()\/$(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).width();\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).css({\n            \x3cspan class=\x22hljs-attr\x22\x3eleft\x3c\/span\x3e:-rate*left\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3etop\x3c\/span\x3e:-rate*top\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\n        });\n    });\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3eJS完整代码\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$(function(){\n    \/\/计算放大镜的长宽\n    calculateMaskWH(); \n    \/\/监听鼠标mouseover事件\n    $(\x27.leftView\x27).on(\x27mouseover\x27,function(){\n        $(\x27.mask\x27).css(\x27display\x27,\x27block\x27);\n        $(\x27.rightView\x27).css(\x27display\x27,\x27block\x27);        \n    });\n    \/\/监听鼠标mouseout事件    \n    $(\x27.leftView\x27).on(\x27mouseout\x27,function(){\n        $(\x27.mask\x27).css(\x27display\x27,\x27none\x27);\n        $(\x27.rightView\x27).css(\x27display\x27,\x27none\x27);\n    });\n    $(\x27.leftView\x27).on(\x27mousemove\x27,function(event){\n        \/\/计算放大镜的left值和top值\n        var left=event.pageX-$(this).offset().left-$(\x27.mask\x27).width()\/2;\n        var top=event.pageY-$(this).offset().top-$(\x27.mask\x27).height()\/2;\n        \/\/判断放大镜左右是否出界\n        if(left\x3c0){\n            left=0\n        }else if(left\x3e$(this).width()-$(\x27.mask\x27).width()){\n            left=$(this).width()-$(\x27.mask\x27).width();\n        }\n        \/\/判断放大镜上下是否出现\n        if(top\x3c0){\n            top=0;\n        }else if(top\x3e$(this).height()-$(\x27.mask\x27).height()){\n            top=$(this).height()-$(\x27.mask\x27).height();\n        }\n        $(\x27.mask\x27).css({\n            left:left\x2b\x27px\x27,\n            top:top\x2b\x27px\x27\n        });\n        \/\/计算比例\n        var rate=$(\x27.bigImg\x27).width()\/$(\x27.leftView\x27).width();\n        $(\x27.bigImg\x27).css({\n            left:-rate*left\x2b\x27px\x27,\n            top:-rate*top\x2b\x27px\x27\n        });\n    });\n    \/\/计算机放大镜的长宽\n    function calculateMaskWH(){\n         var width=$(\x27.leftView\x27).width()\/$(\x27.bigImg\x27).width()*$(\x27.rightView\x27).width();\n         var height=$(\x27.leftView\x27).height()\/$(\x27.bigImg\x27).height()*$(\x27.rightView\x27).height();\n         $(\x27.mask\x27).css({\n            \x26quot;width\x26quot;:width,\n            \x26quot;height\x26quot;:height\n         });\n    }\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e$(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算放大镜的长宽\x3c\/span\x3e\n    calculateMaskWH(); \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/监听鼠标mouseover事件\x3c\/span\x3e\n    $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27mouseover\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27block\x27\x3c\/span\x3e);\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27block\x27\x3c\/span\x3e);        \n    });\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/监听鼠标mouseout事件    \x3c\/span\x3e\n    $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27mouseout\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27none\x27\x3c\/span\x3e);\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).css(\x3cspan class=\x22hljs-string\x22\x3e\x27display\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27none\x27\x3c\/span\x3e);\n    });\n    $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).on(\x3cspan class=\x22hljs-string\x22\x3e\x27mousemove\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算放大镜的left值和top值\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e left=event.pageX-$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).offset().left-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).width()\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e top=event.pageY-$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).offset().top-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).height()\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/判断放大镜左右是否出界\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(left\x26lt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n            left=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(left\x26gt;$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).width()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).width()){\n            left=$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).width()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).width();\n        }\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/判断放大镜上下是否出现\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(top\x26lt;\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n            top=\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(top\x26gt;$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).height()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).height()){\n            top=$(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).height()-$(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).height();\n        }\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css({\n            \x3cspan class=\x22hljs-attr\x22\x3eleft\x3c\/span\x3e:left\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3etop\x3c\/span\x3e:top\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\n        });\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算比例\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e rate=$(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).width()\/$(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).width();\n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).css({\n            \x3cspan class=\x22hljs-attr\x22\x3eleft\x3c\/span\x3e:-rate*left\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3etop\x3c\/span\x3e:-rate*top\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e\n        });\n    });\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算机放大镜的长宽\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecalculateMaskWH\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n         \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e width=$(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).width()\/$(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).width()*$(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).width();\n         \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e height=$(\x3cspan class=\x22hljs-string\x22\x3e\x27.leftView\x27\x3c\/span\x3e).height()\/$(\x3cspan class=\x22hljs-string\x22\x3e\x27.bigImg\x27\x3c\/span\x3e).height()*$(\x3cspan class=\x22hljs-string\x22\x3e\x27.rightView\x27\x3c\/span\x3e).height();\n         $(\x3cspan class=\x22hljs-string\x22\x3e\x27.mask\x27\x3c\/span\x3e).css({\n            \x3cspan class=\x22hljs-string\x22\x3e\x22width\x22\x3c\/span\x3e:width,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22height\x22\x3c\/span\x3e:height\n         });\n    }\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader13\x22\x3e最终效果演示\x3c\/h1\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVSJpG?w=419\x26amp;h=202\x22 src=\x22https:\/\/static.alili.tech\/img\/bVSJpG?w=419\x26amp;h=202\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>仿淘宝的放大镜效果</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010306615">https://segmentfault.com/a/1190000010306615</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/6c14wptntur/" target="_blank">https://alili.tech/archive/6c14wptntur/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>