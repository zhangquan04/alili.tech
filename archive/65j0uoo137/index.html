<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Velocity.js简明使用教程（中文版上）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Velocity.js简明使用教程（中文版上） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/65j0uoo137/",
				"appid": "1613049289050283", 
				"title": "Velocity.js简明使用教程（中文版上） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-16T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/9r3d4qtw8dl/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/o5exkq7hnkj/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&text=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&text=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&title=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&is_video=false&description=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&title=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&title=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&title=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f65j0uoo137%2f&title=Velocity.js%e7%ae%80%e6%98%8e%e4%bd%bf%e7%94%a8%e6%95%99%e7%a8%8b%ef%bc%88%e4%b8%ad%e6%96%87%e7%89%88%e4%b8%8a%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Velocity.js简明使用教程（中文版上）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-16" itemprop="datePublished">2019-01-16</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e本文翻译自\x3ca href=\x22https:\/\/www.sitepoint.com\/how-to-use-velocity-js-without-jquery\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.sitepoint.com\/how...\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e在本文中，我将介绍\x3ccode\x3eVelocity.js\x3c\/code\x3e，这是一个快速，高性能的JavaScript动画引擎。当您浏览完所有的demo时，您可以使用Velocity.js创建自己的动画，并使您的网站更具互动性和用户友好性。本文所讲内容不使用jQuery。\x3c\/p\x3e\n\x3cblockquote\x3e\x3ch3 id=\x22articleHeader0\x22\x3eVelocity.js功能概览\x3c\/h3\x3e\x3c\/blockquote\x3e\n\x3cp\x3eVelocity.js是一个功能强大的库，它将DOM置于你的指尖！它的动画涵盖：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eCSS动画属性的数值，包括颜色\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eTransform（变换）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eSVG属性\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e滚动事件，相对于页面或页面中的容器元素\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e淡入淡出动画\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e一般来说，Velocity一次可以操控一个数值属性值的动画。 \x3cbr\x3e例如，如果要沿X和Y坐标移动元素，则不能使用\x3ccode\x3etranslate[\x2710px\x27, \x2715px\x27]\x3c\/code\x3e。 相反，应该将\x3ccode\x3etranslate\x3c\/code\x3e属性与其相应的轴结合在一起，如：\x3ccode\x3etranslateX：\x2710px\x27，translateY：\x2715px\x27\x3c\/code\x3e。 \x3cbr\x3eVelocity有一个功能称为\x3ccode\x3eforcefeeding\x3c\/code\x3e，它可以让你同时指定两个值。 将在本文后面介绍这个功能。\x3c\/p\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\x3ch3 id=\x22articleHeader1\x22\x3e配置项\x3c\/h3\x3e\x3c\/blockquote\x3e\n\x3cp\x3eVelocity的配置项在制作动画时给予了相当的灵活性。\x3c\/p\x3e\n\x3cp\x3e以下是本文的demo中将会看到的配置项：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eDurantion：每个动画持续的时间，测量单位为毫秒。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eEasing：Velocity支持大多数的easing类型。\x3ccode\x3eease\x3c\/code\x3e，\x3ccode\x3eease-in\x3c\/code\x3e，\x3ccode\x3eease-out\x3c\/code\x3e, \x3ccode\x3eease-in-out\x3c\/code\x3e，贝塞尔曲线，甚至是很酷的物理弹簧效果。 可以在这个demo中查看弹簧效果：\x3ca href=\x22https:\/\/codepen.io\/mengmengpro\/pen\/xdVOEr\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/codepen.io\/mengmengpr...\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mengmengpro\/pen\/xdVOEr\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eLoop：动画应该重复的次数。如果将此选项设置为true，它将无限期运行。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eDelay：动画开始之前的延迟时长。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e全部的配置项可以在\x3ca href=\x22http:\/\/velocityjs.org\/#duration\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVelocity的官网\x3c\/a\x3e查看，此处也附上\x3ca href=\x22http:\/\/www.mrfront.com\/docs\/velocity.js\/option.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVelocity中文网站\x3c\/a\x3e。\x3c\/p\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\x3ch3 id=\x22articleHeader2\x22\x3e语法\x3c\/h3\x3e\x3c\/blockquote\x3e\n\x3cp\x3e如果你使用jQuery，Velocity.js可以轻松上手。 事实上，Velocity与jQuery具有相同的API：\x3cbr\x3e\x3cem\x3e下载Velocity，引入你的项目，然后将\x3ccode\x3e$.animate()\x3c\/code\x3e替换成\x3ccode\x3e$.velocity()\x3c\/code\x3e\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e但是，你也可以不用jQuery来使用Velocity，并且本文中的demo也将不使用jQuery。语法与使用jQuery的方式有所不同：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Velocity(element, {property: value}, {option: optionValue});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eVelocity\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eelement\x3c\/span\x3e, {\x3cspan class=\x22hljs-attribute\x22\x3eproperty\x3c\/span\x3e: value}, {\x3cspan class=\x22hljs-attribute\x22\x3eoption\x3c\/span\x3e: optionValue});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e要在同一个元素上链接另一个动画，只需在之前的velocity后再添加一个：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Velocity(element1, {property: value}, {option: optionValue});\nVelocity(element1, {property: value}, {option: optionValue});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eVelocity\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eelement1\x3c\/span\x3e, {\x3cspan class=\x22hljs-attribute\x22\x3eproperty\x3c\/span\x3e: value}, {\x3cspan class=\x22hljs-attribute\x22\x3eoption\x3c\/span\x3e: optionValue});\n\x3cspan class=\x22hljs-selector-tag\x22\x3eVelocity\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eelement1\x3c\/span\x3e, {\x3cspan class=\x22hljs-attribute\x22\x3eproperty\x3c\/span\x3e: value}, {\x3cspan class=\x22hljs-attribute\x22\x3eoption\x3c\/span\x3e: optionValue});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e要将动画同时应用于多个元素，只需将所有元素存储到变量中，并将Velocity应用于该变量，无需通过循环实现：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const elements = document.querySelectorAll(\x27\x3cdiv\x3e\x27);\nVelocity(elements, {property: value}, {option: optionValue});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs qml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e elements = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.querySelectorAll(\x3cspan class=\x22hljs-string\x22\x3e\x27\x26lt;div\x26gt;\x27\x3c\/span\x3e);\nVelocity(elements, {\x3cspan class=\x22hljs-keyword\x22\x3eproperty\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x3c\/span\x3e: value}, {\x3cspan class=\x22hljs-attribute\x22\x3eoption\x3c\/span\x3e: optionValue});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于选项值单位，你可以使用px，％，rem，em，vw\/vh和deg。如果不添加单位，Velocity将提供适当的单位，通常为px。\x3c\/p\x3e\n\x3ch4\x3e\n\x3ccode\x3eforcefeeding\x3c\/code\x3e功能：传递初始值\x3c\/h4\x3e\n\x3cp\x3e这个功能可以让你不用Velocity.js查询DOM以获取元素的初始值，而使用以下语法自行设置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Velocity(element, {\n  translateX: [endValue, startValue],\n  backgroundColor: [endValue, easing, startValue]\n}, {\n  \/\/options here\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eVelocity\x3c\/span\x3e(element, {\n  \x3cspan class=\x22hljs-attribute\x22\x3etranslateX\x3c\/span\x3e: [endValue, startValue],\n  \x3cspan class=\x22hljs-attribute\x22\x3ebackgroundColor\x3c\/span\x3e: [endValue, easing, startValue]\n}, {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/options here\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在上面的代码中，\x3ccode\x3etranslateX\x3c\/code\x3e和\x3ccode\x3ebackgroundColor\x3c\/code\x3e分别设置了一个数组：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e第一个值代表动画的结束状态。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e第二个值（可选）是特定属性的\x3ccode\x3eeasing\x3c\/code\x3e选项。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e第三个值即是指定动画的起始状态。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e你可以去\x3ca href=\x22http:\/\/www.mrfront.com\/docs\/velocity.js\/advanced.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e阅读更详细的\x3ccode\x3eforcefeeding\x3c\/code\x3e。\x3c\/p\x3e\n\x3ch4\x3e控制Velocity.js动画\x3c\/h4\x3e\n\x3cp\x3e您可以使用以下语法停止，暂停，反向以及恢复元素上的所有Velocity调用：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e停止：\x3ccode\x3eVelocity(elem, \x27stop\x27)\x3c\/code\x3e；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e暂停：\x3ccode\x3eVelocity(elem, \x27pause\x27)\x3c\/code\x3e；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e反向：\x3ccode\x3eVelocity(elem, \x27reverse\x27)\x3c\/code\x3e；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e恢复：\x3ccode\x3eVelocity(elem, \x27resume\x27)\x3c\/code\x3e；\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e根据这些基本指导，你可以开始进入一些实际的例子。\x3c\/p\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\x3ch3 id=\x22articleHeader3\x22\x3eDemo: 掉落的小球\x3c\/h3\x3e\x3c\/blockquote\x3e\n\x3cp\x3e我们从一个由顶部落下的球开始。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const ball = document.querySelector(\x27.ball\x27);\n\nVelocity(ball, {\n    translateY: \x27200px\x27\n}, {\n    easing: [2000, 15],\n    durantion: 3000\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ball = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.\x3cspan class=\x22hljs-built_in\x22\x3equerySelector\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.ball\x27\x3c\/span\x3e);\n\nVelocity(ball, {\n    translateY: \x3cspan class=\x22hljs-string\x22\x3e\x27200px\x27\x3c\/span\x3e\n}, {\n    easing: [\x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e],\n    durantion: \x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的代码选择了一个class为ball的HTML元素，它在Y轴上移动200px，持续3秒。随着小球的下落不断加速，并在最后得到弹性。\x3c\/p\x3e\n\x3cp\x3e你可以使用Velocity的弹簧效果快速实现此功能，通过向velocity的\x3ccode\x3eeasing\x3c\/code\x3e选项传递一个数组：第一个数组项表示张力，第二个表示摩擦。\x3cbr\x3e高张力值会增加总速度和波峰（默认值为500），较低的摩擦值会增加振动速度（默认值为20）。\x3c\/p\x3e\n\x3cp\x3e为了好玩，我们让球的背景颜色从蓝色的初始值变成深色。 要设置背景颜色的初始值，您需要使用Velocity.js的\x3ccode\x3eforcefeeding\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Velocity(ball, {\n    translateY: \x27130px\x27,\n    backgroundColor: [\x27#222\x27, \x27#043d99\x27]\n}, {\n    easing: [2000, 15],\n    duration: \x273000\x27\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eVelocity\x3c\/span\x3e(\x3cspan class=\x22hljs-selector-tag\x22\x3eball\x3c\/span\x3e, {\n    \x3cspan class=\x22hljs-attribute\x22\x3etranslateY\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27130px\x27\x3c\/span\x3e,\n    backgroundColor: [\x3cspan class=\x22hljs-string\x22\x3e\x27#222\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27#043d99\x27\x3c\/span\x3e]\n}, {\n    \x3cspan class=\x22hljs-attribute\x22\x3eeasing\x3c\/span\x3e: [\x3cspan class=\x22hljs-number\x22\x3e2000\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e],\n    duration: \x3cspan class=\x22hljs-string\x22\x3e\x273000\x27\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e具体实现效果点此看看：\x3cbr\x3e\x3ca href=\x22https:\/\/codepen.io\/mengmengpro\/pen\/wdGmgZ\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/codepen.io\/mengmengpr...\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mengmengpro\/pen\/wdGmgZ\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\x3ch3 id=\x22articleHeader4\x22\x3eDemo：按钮控制的弹簧小球\x3c\/h3\x3e\x3c\/blockquote\x3e\n\x3cp\x3e接下来的这个demo，目标是创建一个动画序列：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e小球从顶端落下\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当小球撞击地面的时候样式有所挤压\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当小球反弹回来的时候样式恢复正常\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e这个动画会一直循环\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e你可以通过一个按钮控制动画的循环和停止\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e实现这种动画需要将各种各样的片断连在一起，并使用按钮来整体控制它们的动画。\x3c\/p\x3e\n\x3cp\x3e理想的工具将是一个时间表，它将涵盖所有的片断，并可以控制所有片断的开始和结束。Velocity.js没有原生的时间轴，但有几个解决方案：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e使用\x3ca href=\x22http:\/\/tweene.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTweene\x3c\/a\x3e - 这是一个动画代理，是一个可以使用很多Javascript动画库的包装器，包括Velocity.js。Tweene需要Velocity使用jQuery，本文未使用jQuery，所以暂不考虑。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eJavaScript的\x3ccode\x3erequestAnimationFrame()\x3c\/code\x3e。这是一个原生API，用于在浏览器环境中运行任何平滑，高效的动画，例如CSS，画布等。目前除了Opera Mini外，所有主流浏览器都支持。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e将片断分割成函数\x3c\/h4\x3e\n\x3cp\x3e为了保持代码整洁，可以根据你需要的动画场景构建一个函数。 然后，只需要在主函数中调用这些函数，主函数包含\x3ccode\x3erequestAnimationFrame()\x3c\/code\x3e方法。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const changeBallPosition = (elem, propVal, easingVal, durationVal) =\x3e {\n    Velocity(elem, {\n        translateY: propVal\n    }, {\n        easing: easingVal, \n        duration: durationVal\n    });\n};\n\nconst changeBallWidth = (elem, propVal, easingVal, durationVal) =\x3e {\n    Velocity(elem, {\n        scaleX: propVal\n    }, {\n        easing: easingVal,\n        duration: durationVal\n    });\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3econst changeBallPosition = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(elem, propVal, easingVal, durationVal)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    Velocity(elem, {\n        translateY: propVal\n    }, {\n        easing: easingVal, \n        duration: durationVal\n    });\n};\n\nconst changeBallWidth = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(elem, propVal, easingVal, durationVal)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    Velocity(elem, {\n        scaleX: propVal\n    }, {\n        easing: easingVal,\n        duration: durationVal\n    });\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的代码片段包含了如何编写ES6箭头函数的示例。\x3cbr\x3e每个函数使用\x3ccode\x3econst\x3c\/code\x3e关键字存储在常量中。如果需要在整个程序中存储需要更新的值，请改用\x3ccode\x3elet\x3c\/code\x3e。 \x3c\/p\x3e\n\x3cp\x3e可以看到，每个功能都调用了Velocity来让小球进行特定的移动。注意，要移动球并更改其宽度，代码没有分别更改CSS的\x3ccode\x3etop\x3c\/code\x3e和\x3ccode\x3ewidth\x3c\/code\x3e。相反，它改变了\x3ccode\x3etranslate\x3c\/code\x3e和\x3ccode\x3escale\x3c\/code\x3e的值，从而带来更好效的动画效果。\x3c\/p\x3e\n\x3cp\x3e下面是有计时器的主函数。在主函数里调用以上函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let animationFrameId;\nconst launchBall = (elem) =\x3e {\n    changeBallPosition(elem, \x27130px\x27, \x27easeInQuart\x27, 300);\n    changeBallWidth(elem, 1.2, \x27linear\x27, 50);\n    changeBallWidth(elem, 1, \x27linear\x27, 50);\n    changeBallPosition(elem, \x27-10px\x27, \x27easeOutQuart\x27, 300);\n    changeBallWidth(elem, 1, \x27linear\x27, 50);\n    animationFrameId = requestAnimationFrame(() =\x3e {\n        launchBall(elem);\n    });\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3elet animationFrameId;\nconst launchBall = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(elem)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    changeBallPosition(elem, \x3cspan class=\x22hljs-string\x22\x3e\x27130px\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27easeInQuart\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e);\n    changeBallWidth(elem, \x3cspan class=\x22hljs-number\x22\x3e1.2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27linear\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e);\n    changeBallWidth(elem, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27linear\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e);\n    changeBallPosition(elem, \x3cspan class=\x22hljs-string\x22\x3e\x27-10px\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27easeOutQuart\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e);\n    changeBallWidth(elem, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27linear\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e);\n    animationFrameId = requestAnimationFrame(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        launchBall(elem);\n    });\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意全局变量\x3ccode\x3eanimationFrameId\x3c\/code\x3e。后面将需要在\x3ccode\x3ecancelAnimationFrame()\x3c\/code\x3e中用这个变量停止动画。\x3c\/p\x3e\n\x3cp\x3e要使球运动，需要在按钮的点击事件中调用\x3ccode\x3elaunchBall()\x3c\/code\x3e函数，我们需要把小球这个变量传递给函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22btnPlay.addEventListener(\x27click\x27, function () {\n    launchBall(ball);\n    this.enabled = true;\n    btnStop.disabled = false;\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3ebtnPlay.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n    launchBall(ball);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.enabled = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    btnStop.disabled = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意，在这个点击函数的回调中用了\x3ccode\x3ethis\x3c\/code\x3e关键字，这里的\x3ccode\x3ethis\x3c\/code\x3e指向被点击的按钮。如果使用箭头函数，\x3ccode\x3ethis\x3c\/code\x3e关键字将引用全局的\x3ccode\x3ewindow\x3c\/code\x3e对象。简而言之，不要在动态上下文的回调函数中使用箭头函数。\x3c\/p\x3e\n\x3cp\x3e为了让小球停止，需要一个新的函数:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const removeAnimFrame = () =\x3e {\n    if (animationFrameId) {\n        cancelAnimationFrame(animationFrameID);\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3econst removeAnimFrame = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (animationFrameId) {\n        cancelAnimationFrame(animationFrameID);\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这里，你通过传递\x3ccode\x3eanimationFrameId\x3c\/code\x3e来调用\x3ccode\x3ecancelAnimationFrame()\x3c\/code\x3e，\x3ccode\x3eanimationFrameId\x3c\/code\x3e包含一个对小球循环动画的引用。\x3c\/p\x3e\n\x3cp\x3e停止动画的点击事件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22btnStop.addEventListener(\x27click\x27, function () {\n    removeAnimFrame();\n    Velocity(ball, \x27stop\x27, true);\n    this.disabled = true;\n    btnPlay.disabled = false;\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3ebtnStop.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n    removeAnimFrame();\n    Velocity(ball, \x3cspan class=\x22hljs-string\x22\x3e\x27stop\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.disabled = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    btnPlay.disabled = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有趣的是，调用Velocity的\x3ccode\x3estop()\x3c\/code\x3e方法时用了一个额外的布尔值。这是清除动画队列所必需的。如果你不用这个参数，点击停止按钮，球不会立即停止动画。等所有排队的Velocity调用完成执行，它才会停止动画。\x3c\/p\x3e\n\x3cp\x3e具体实现效果请看如下demo：\x3cbr\x3e\x3ca href=\x22https:\/\/codepen.io\/mengmengpro\/pen\/rmeqBo\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/codepen.io\/mengmengpr...\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22mengmengpro\/pen\/rmeqBo\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e中文版下已经出炉，点击\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009159742\x22\x3e这里\x3c\/a\x3e直达。\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Velocity.js简明使用教程（中文版上）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009151459">https://segmentfault.com/a/1190000009151459</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/65j0uoo137/" target="_blank">https://alili.tech/archive/65j0uoo137/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>