<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="关于Babel配置项的这点事"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>关于Babel配置项的这点事 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/loh9392lz9f/",
				"appid": "1613049289050283", 
				"title": "关于Babel配置项的这点事 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-05T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/wx97b2ld5aa/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/t92k4k6jkvd/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&text=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&text=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&title=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&is_video=false&description=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&title=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&title=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&title=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2floh9392lz9f%2f&title=%e5%85%b3%e4%ba%8eBabel%e9%85%8d%e7%bd%ae%e9%a1%b9%e7%9a%84%e8%bf%99%e7%82%b9%e4%ba%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">关于Babel配置项的这点事</h1><div class="meta"><div class="postdate"><time datetime="2019-01-05" itemprop="datePublished">2019-01-05</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3ca href=\x22https:\/\/babeljs.io\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBabel\x3c\/a\x3e作为一个JavaScript的语法编译器，可以将\x3ccode\x3eES6\/7\/8\x3c\/code\x3e代码转为\x3ccode\x3eES5\x3c\/code\x3e代码，从而在现有环境执行。\x3c\/p\x3e\n\x3cp\x3e但是初次配置\x3ccode\x3e.babelrc\x3c\/code\x3e的时候，各种\x3ccode\x3epresets\x3c\/code\x3e、\x3ccode\x3eplugins\x3c\/code\x3e看的眼花缭乱，不知道如何下手，下面就自己学习Babel时遇到的问题做一下总结：\x3c\/p\x3e\n\x3cblockquote\x3e如果你是初次接触babel，推荐阅读阮一峰的《\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2016\/01\/babel.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBabel 入门教程\x3c\/a\x3e》\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3ePlugin、Preset、Stage-X的关系\x3c\/h2\x3e\n\x3cp\x3e按照Babel官网的\x3ca href=\x22http:\/\/babeljs.io\/docs\/plugins\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e介绍\x3c\/a\x3e，其实\x3cstrong\x3ePreset\x3c\/strong\x3e和\x3cstrong\x3eStage-X\x3c\/strong\x3e都是归属到\x3cstrong\x3ePlugin\x3c\/strong\x3e里面的，只不过所覆盖的范围不同而已。\x3c\/p\x3e\n\x3cp\x3e举个例子，如果需要转换ES2015(ES6)的语法，那么你可以在\x3ccode\x3e.babelrc\x3c\/code\x3e的\x3ccode\x3eplugins\x3c\/code\x3e中按需引入\x3ccode\x3echeck-es2015-constants\x3c\/code\x3e、\x3ccode\x3ees2015-arrow-functions\x3c\/code\x3e、\x3ccode\x3ees2015-block-scoped-functions\x3c\/code\x3e等等几十个不同作用的plugin：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ .babelrc\n{\n  \x26quot;plugins\x26quot;: [\n    \x26quot;check-es2015-constants\x26quot;,\n    \x26quot;es2015-arrow-functions\x26quot;,\n    \x26quot;es2015-block-scoped-functions\x26quot;,\n    \/\/ ...\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22JSON\x22\x3e\/\/ .babelrc\n{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22check-es2015-constants\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22es2015-arrow-functions\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22es2015-block-scoped-functions\x22\x3c\/span\x3e,\n    \/\/ ...\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e但是Babel团队为了方便，将\x3ca href=\x22http:\/\/babeljs.io\/docs\/plugins\/preset-es2015\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e同属ES2015的几十个Transform Plugins\x3c\/a\x3e集合到\x3ccode\x3ebabel-preset-es2015\x3c\/code\x3e一个Preset中，这样你只需要在\x3ccode\x3e.babelrc\x3c\/code\x3e的\x3ccode\x3epresets\x3c\/code\x3e加入\x3ccode\x3ees2015\x3c\/code\x3e一个配置就可以完成全部ES2015语法的支持了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ .babelrc\n{\n  \x26quot;presets\x26quot;: [\n    \x26quot;es2015\x26quot;\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22JSON\x22\x3e\/\/ .babelrc\n{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e另外，不论是Plugin还是Preset，有不少都有单独属于自己的配置项，具体如何操作的可以看一下\x3ca href=\x22http:\/\/babeljs.io\/docs\/plugins\/#plugin-preset-options\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官网的说明\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e上面介绍了Plugin与Preset，那么Stage-X就很好理解了，\x3ccode\x3estage-0\x3c\/code\x3e、\x3ccode\x3estage-1\x3c\/code\x3e、\x3ccode\x3estage-2\x3c\/code\x3e、\x3ccode\x3estage-3\x3c\/code\x3e、\x3cdel\x3e\x3ccode\x3estage-4\x3c\/code\x3e\x3c\/del\x3e分别对应的就是进入标准之前的5个阶段，不同\x3ccode\x3estage-x\x3c\/code\x3e之间存在依赖关系，数字越小，阶段越靠后，靠后阶段包含前面阶段所有的功能，简单理解就是\x3ccode\x3estage-0\x3c\/code\x3e包含\x3ccode\x3estage-1\/2\/3\x3c\/code\x3e的内容，所以如果你不知道需要哪个\x3ccode\x3estage-x\x3c\/code\x3e的话，直接引入\x3ccode\x3estage-0\x3c\/code\x3e就好了。\x3c\/p\x3e\n\x3cblockquote\x3ePS: \x3ccode\x3ebabel-preset-stage-4\x3c\/code\x3e已经整合入Presets不单独发布了。\x3c\/blockquote\x3e\n\x3cp\x3e以上就是一些基础概念，目前，官方推荐使用\x3ca href=\x22http:\/\/babeljs.io\/docs\/plugins\/preset-env\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3ebabel-preset-env\x3c\/code\x3e\x3c\/a\x3e，它可以根据你的配置结合\x3ca href=\x22https:\/\/github.com\/kangax\/compat-table\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3ecompat-table\x3c\/code\x3e\x3c\/a\x3e来帮你自动引入你需要的plugins，它有很多\x3ca href=\x22http:\/\/babeljs.io\/docs\/plugins\/preset-env\/#options\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e配置项\x3c\/a\x3e，下面介绍几个常用的：\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cstrong\x3etargets\x3c\/strong\x3e： \x3ccode\x3e{ [string]: number | string }\x3c\/code\x3e，默认 \x3ccode\x3e{}\x3c\/code\x3e；\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e需要支持的环境，可选例如：\x3ccode\x3echrome\x3c\/code\x3e, \x3ccode\x3eedge\x3c\/code\x3e, \x3ccode\x3efirefox\x3c\/code\x3e, \x3ccode\x3esafari\x3c\/code\x3e, \x3ccode\x3eie\x3c\/code\x3e, \x3ccode\x3eios\x3c\/code\x3e, \x3ccode\x3enode\x3c\/code\x3e，甚至可以指定版本，如\x3ccode\x3enode: \x226.10\x22\x3c\/code\x3e或者\x3ccode\x3enode: \x22current\x22\x3c\/code\x3e代表使用当前的版本；\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cstrong\x3etargets.node\x3c\/strong\x3e： \x3ccode\x3enumber | string | \x22current\x22 | true\x3c\/code\x3e；\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e指定\x3ccode\x3enode\x3c\/code\x3e的版本，例如：\x3ccode\x3e6.10\x3c\/code\x3e；\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cstrong\x3etargets.browsers\x3c\/strong\x3e： \x3ccode\x3eArray\x26lt;string\x26gt; | string\x3c\/code\x3e；\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e指定需要兼容的浏览器清单，具体参考\x3ca href=\x22https:\/\/github.com\/ai\/browserslist\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebrowserslist\x3c\/a\x3e，例如：\x3ccode\x3e[\x22last 2 versions\x22, \x22safari \x26gt;= 7\x22]\x3c\/code\x3e；\x3c\/p\x3e\n\x3cp\x3e例如需要配置兼容\x3ccode\x3e[\x22last 2 versions\x22, \x22safari \x26gt;= 7\x22]\x3c\/code\x3e的\x3ccode\x3ebabel-preset-env\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ .babelrc\n{\n  \x26quot;presets\x26quot;: [\n    [\x26quot;env\x26quot;, {\n      \x26quot;targets\x26quot;: {\n        \x26quot;browsers\x26quot;: [\x26quot;last 2 versions\x26quot;, \x26quot;safari \x3e= 7\x26quot;]\n      }\n    }]\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22JSON\x22\x3e\/\/ .babelrc\n{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    [\x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22targets\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3e\x22browsers\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22last 2 versions\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22safari \x26gt;= 7\x22\x3c\/span\x3e]\n      }\n    }]\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此外，不同的plugins和presets或许有些功能是重复的，有些存在依赖关系，在配置的时候还有前后顺序的不同，那么Babel在运行的时候是怎么处理的呢？总结一下，规律大概有以下几点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3eplugins优先于presets进行编译；\x3c\/li\x3e\n\x3cli\x3eplugins按照数组的index增序(从数组第一个到最后一个)进行编译；\x3c\/li\x3e\n\x3cli\x3epresets按照数组的index倒序(从数组最后一个到第一个)进行编译，因为作者认为大部分会把presets写成\x3ccode\x3e[\x22es2015\x22, \x22stage-0\x22]\x3c\/code\x3e，具体细节可以看\x3ca href=\x22https:\/\/github.com\/babel\/notes\/blob\/master\/2016-08\/august-01.md#potential-api-changes-for-traversal\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这个\x3c\/a\x3e。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cblockquote\x3e摘自《\x3ca href=\x22https:\/\/excaliburhan.com\/post\/babel-preset-and-plugins.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何写好.babelrc？Babel的presets和plugins配置解析\x3c\/a\x3e》\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e\n\x3ccode\x3ebabel-polyfill\x3c\/code\x3e与\x3ccode\x3ebabel-runtime\x3c\/code\x3e的选择\x3c\/h2\x3e\n\x3cp\x3eBabel默认只转换新的JavaScript语法，而不转换新的API，比如\x3ccode\x3eIterator\x3c\/code\x3e、\x3ccode\x3eGenerator\x3c\/code\x3e、\x3ccode\x3eSet\x3c\/code\x3e、\x3ccode\x3eMaps\x3c\/code\x3e、\x3ccode\x3ePromise\x3c\/code\x3e等等全局对象，以及一些定义在全局对象上的方法（比如\x3ccode\x3eObject.assign\x3c\/code\x3e）都不会转码，具体的可以参考\x3ccode\x3ebabel-plugin-transform-runtime\x3c\/code\x3e模块的\x3ca href=\x22https:\/\/github.com\/babel\/babel\/blob\/master\/packages\/babel-plugin-transform-runtime\/src\/definitions.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edefinitions.js\x3c\/a\x3e文件。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ebabel-polyfill\x3c\/code\x3e与\x3ccode\x3ebabel-runtime\x3c\/code\x3e就是为了解决这种全局对象或者全局对象方法不足的问题，而诞生的2种解决方式。\x3c\/p\x3e\n\x3cblockquote\x3e当然，你还可以用\x3ccode\x3epromise-polyfill\x3c\/code\x3e此类Polyfill解决全局对象的问题；\x3cbr\x3e或者用\x3ccode\x3elodash\x3c\/code\x3e此类Utils解决\x3ccode\x3eObject.assign\x3c\/code\x3e这种方法扩展的问题。\x3c\/blockquote\x3e\n\x3cp\x3e先说说\x3ccode\x3ebabel-polyfill\x3c\/code\x3e，它的做法比较暴力，就是将全局对象通通污染一遍，这样做的坏处有几点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e可能会增加很多根本没有用到的polyfill；\x3c\/li\x3e\n\x3cli\x3e可能会污染子模块的局部作用域，严重的或许会导致冲突；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e但是，这样做也有好处，如果你的运行环境比较low，比如说Android一些老机子，而你有需要大量使用\x3ccode\x3ePromise\x3c\/code\x3e、\x3ccode\x3eObject.assign\x3c\/code\x3e、\x3ccode\x3eArray.find\x3c\/code\x3e之类的全局对象或者其所属方法，那么使用\x3ccode\x3ebabel-polyfill\x3c\/code\x3e，绝对是一劳永逸。\x3c\/p\x3e\n\x3cp\x3e接着，再来说说\x3ccode\x3ebabel-runtime\x3c\/code\x3e，相对而言，它的处理方式比较温柔，套用步步高的广告词就是哪里需要加哪里，比如说你需要\x3ccode\x3ePromise\x3c\/code\x3e，你只需要\x3ccode\x3eimport Promise from \x27babel-runtime\/core-js\/promise\x27\x3c\/code\x3e即可，这样不仅避免污染全局对象，而且可以减少不必要的代码。\x3c\/p\x3e\n\x3cp\x3e不过，如果N个文件都需要\x3ccode\x3ePromise\x3c\/code\x3e，难道得一个个文件的加\x3ccode\x3eimport Promise from \x27babel-runtime\/core-js\/promise\x27\x3c\/code\x3e么，显然不是，Babel已经为这样情况考虑过了，只需要使用\x3ccode\x3ebabel-plugin-transform-runtime\x3c\/code\x3e就可以轻松的帮你省去手动\x3ccode\x3eimport\x3c\/code\x3e的痛苦，而且，它还做了公用方法的抽离，哪怕你有100个模块使用了\x3ccode\x3ePromise\x3c\/code\x3e，但是promise的polyfill仅仅存在1份，所有要的地方都是引用一地方，具体的配置参考如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ .babelrc\n{\n  \x26quot;presets\x26quot;: [\n    \x26quot;env\x26quot;,\n    \x26quot;stage-0\x26quot;\n  ],\n  \x26quot;plugins\x26quot;: [\n    \x26quot;transform-runtime\x26quot;\n  ],\n  \x26quot;comments\x26quot;: false\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22JSON\x22\x3e\/\/ .babelrc\n{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22stage-0\x22\x3c\/span\x3e\n  ],\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22transform-runtime\x22\x3c\/span\x3e\n  ],\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22comments\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e写在最后，我在\x3ca href=\x22https:\/\/github.com\/tonyc726\/babel-note\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub上开了一个项目\x3c\/a\x3e，做了几个测试，有兴趣的可以一起来试试看。\x3c\/p\x3e\n\x3chr\x3e\n\x3cblockquote\x3e2017.8.30 补充\x3c\/blockquote\x3e\n\x3cp\x3e关于\x3ccode\x3ebabel\x3c\/code\x3e与\x3ccode\x3ewebpack\x3c\/code\x3e结合使用的教程网上已经有很多了，有不少却还在用\x3ccode\x3ev1.*\x3c\/code\x3e的版本（不推荐），从而在过渡到\x3ccode\x3ev2.*\x3c\/code\x3e或者\x3ccode\x3ev3.*\x3c\/code\x3e(推荐)的版本时，碰到一个关于\x3ccode\x3ebabel\x3c\/code\x3e的配置问题，示例如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ .babelrc - webpack v1.*\n{\n  \x26quot;presets\x26quot;: [\n    \x26quot;env\x26quot;,\n    \x26quot;stage-0\x26quot;\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e\/\/ .\x3cspan class=\x22hljs-keyword\x22\x3ebabelrc \x3c\/span\x3e- webpack \x3cspan class=\x22hljs-built_in\x22\x3ev1\x3c\/span\x3e.*\n{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22stage-0\x22\x3c\/span\x3e\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ .babelrc - webpack v2.* - v3.*\n{\n  \x26quot;presets\x26quot;: [\n    [\x26quot;env\x26quot;, {\n        \x26quot;modules\x26quot;: false\n    }],\n    \x26quot;stage-0\x26quot;\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e\/\/ .\x3cspan class=\x22hljs-keyword\x22\x3ebabelrc \x3c\/span\x3e- webpack \x3cspan class=\x22hljs-built_in\x22\x3ev2\x3c\/span\x3e.* - \x3cspan class=\x22hljs-built_in\x22\x3ev3\x3c\/span\x3e.*\n{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    [\x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e, {\n        \x3cspan class=\x22hljs-string\x22\x3e\x22modules\x22\x3c\/span\x3e: false\n    }],\n    \x3cspan class=\x22hljs-string\x22\x3e\x22stage-0\x22\x3c\/span\x3e\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e很明显，一眼就能看出相对于\x3ccode\x3ev1.*\x3c\/code\x3e的版本，\x3ccode\x3ev2.*\x3c\/code\x3e或者\x3ccode\x3ev3.*\x3c\/code\x3e版本多了\x3ccode\x3e\x22modules\x22: false\x3c\/code\x3e这项配置，如果仔细看\x3ca href=\x22https:\/\/webpack.js.org\/guides\/migrating\/#mixing-es2015-with-amd-and-commonjs\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官网的迁移指南\x3c\/a\x3e，你就能明白了，以前你可能需要用\x3ccode\x3ebabel\x3c\/code\x3e来将\x3ccode\x3eES6\x3c\/code\x3e的模块语法转换为\x3ccode\x3eAMD\x3c\/code\x3e、\x3ccode\x3eCommonJS\x3c\/code\x3e、\x3ccode\x3eUMD\x3c\/code\x3e之类的模块化标准语法，但是现在webpack已经把这个事情做了，所以就不需要\x3ccode\x3ebabel\x3c\/code\x3e来做了，但是\x3ccode\x3ebabel\x3c\/code\x3e配置项中的\x3ccode\x3emodules\x3c\/code\x3e\x3ca href=\x22https:\/\/babeljs.io\/docs\/plugins\/preset-env\/#optionsmodules\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e默认值\x3c\/a\x3e是\x3ccode\x3ecommonjs\x3c\/code\x3e，所以你需要将\x3ccode\x3emodules\x3c\/code\x3e设置为\x3ccode\x3efalse\x3c\/code\x3e才行，不然就冲突了。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch6\x3e参考资料\x3c\/h6\x3e\n\x3col\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2016\/01\/babel.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.ruanyifeng.com\/blo...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/excaliburhan.com\/post\/babel-preset-and-plugins.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/excaliburhan.com\/post...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/q\/1010000005596587?from=singlemessage\x26amp;isappinstalled=1\x22\x3ehttps:\/\/segmentfault.com\/q\/10...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/brunoyang\/blog\/issues\/20\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/brunoyang\/...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/lmk123\/blog\/issues\/45\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/lmk123\/blo...\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/www.cnblogs.com\/flyingzl\/p\/5501247.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.cnblogs.com\/flying...\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cblockquote\x3e本文先发布于我的个人博客《\x3ca href=\x22https:\/\/itony.net\/post\/babel-note.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eBabel笔记\x3c\/a\x3e》，后续如有更新，可以查看原文。\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>关于Babel配置项的这点事</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010468759">https://segmentfault.com/a/1190000010468759</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/loh9392lz9f/" target="_blank">https://alili.tech/archive/loh9392lz9f/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>