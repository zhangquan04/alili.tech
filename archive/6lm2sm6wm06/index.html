<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="利用pushState, popState和location.hash等方法自己实现一个小型路由"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>利用pushState, popState和location.hash等方法自己实现一个小型路由 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/6lm2sm6wm06/",
				"appid": "1613049289050283", 
				"title": "利用pushState, popState和location.hash等方法自己实现一个小型路由 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-02T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ob79d7rugwi/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/w0mbf48205i/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&text=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&text=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&title=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&is_video=false&description=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&title=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&title=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&title=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f6lm2sm6wm06%2f&title=%e5%88%a9%e7%94%a8pushState%2c%20popState%e5%92%8clocation.hash%e7%ad%89%e6%96%b9%e6%b3%95%e8%87%aa%e5%b7%b1%e5%ae%9e%e7%8e%b0%e4%b8%80%e4%b8%aa%e5%b0%8f%e5%9e%8b%e8%b7%af%e7%94%b1"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">利用pushState, popState和location.hash等方法自己实现一个小型路由</h1><div class="meta"><div class="postdate"><time datetime="2019-02-02" itemprop="datePublished">2019-02-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e这篇文章主要是记录下HTML5中history提供的\x3ccode\x3epushState\x3c\/code\x3e, \x3ccode\x3ereplaceState\x3c\/code\x3eAPI。最后通过这些API自己实现小型的路由。\x3c\/p\x3e\n\x3cp\x3e关于window.history提供的API请参见\x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Window\/history\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMozilla文档\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e其中\x3ccode\x3ehistory\x3c\/code\x3e提供的\x3ccode\x3epushState\x3c\/code\x3e和\x3ccode\x3ereplaceState\x3c\/code\x3e2个API提供了操作浏览器历史栈的方法。\x3c\/p\x3e\n\x3cp\x3e其中\x3ccode\x3epushState\x3c\/code\x3e:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \n    history.pushState(data, null, \x27#\/page=1\x27);\n    \n    pushState接收3个参数，第一个参数为一个obj,表示浏览器\n    \n    第二个参数是document.title的值，一般设定为`null`\n    \n    第三个参数string，用以改变 当前url\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \n    history.pushState(data, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27#\/page=1\x27\x3c\/span\x3e);\n    \n    pushState接收\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e个参数，第一个参数为一个obj,表示浏览器\n    \n    第二个参数是\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.title的值，一般设定为\x3cspan class=\x22hljs-string\x22\x3e`null`\x3c\/span\x3e\n    \n    第三个参数string，用以改变 当前url\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3epushState\x3c\/code\x3e方法在改变\x3ccode\x3eurl\x3c\/code\x3e的同时向浏览器历史栈中压入新的历史记录。\x3c\/p\x3e\n\x3cp\x3e接收\x3ccode\x3eurl\x3c\/code\x3e的参数为\x3ccode\x3estring\x3c\/code\x3e类型,用以改变当前地址栏的url.需要注意的一点就是这个参数不能和跨域，即协议，域名，端口必须都是相同的，如果出现跨域的情况，即会提示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Uncaught DOMException: Failed to execute \x27pushState\x27 on \x27History\x27: A history state object with URL \x27http:\/\/www.baidu.com\/\x27 cannot be created in a document with origin \x27http:\/\/commanderXL.com\x27 and URL \n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-type\x22\x3eUncaught\x3c\/span\x3e \x3cspan class=\x22hljs-type\x22\x3eDOMException\x3c\/span\x3e: \x3cspan class=\x22hljs-type\x22\x3eFailed\x3c\/span\x3e to execute \x3cspan class=\x22hljs-symbol\x22\x3e\x27pushStat\x3c\/span\x3ee\x27 on \x3cspan class=\x22hljs-symbol\x22\x3e\x27Histor\x3c\/span\x3ey\x27: \x3cspan class=\x22hljs-type\x22\x3eA\x3c\/span\x3e history state \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eobject\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ewith\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eURL\x3c\/span\x3e \x27\x3cspan class=\x22hljs-title\x22\x3ehttp\x3c\/span\x3e\x3c\/span\x3e:\x3cspan class=\x22hljs-comment\x22\x3e\/\/www.baidu.com\/\x27 cannot be created in a document with origin \x27http:\/\/commanderXL.com\x27 and URL \x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eExample:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \n    打开www.baidu.com\n\n    history.pushState(null, null, \x27?page=1\x27)\n    \/\/地址栏变成 www.baidu.com\/?page=1\n    \n    history.pushState(null, null, \x27#page=2\x27);\n    \/\/地址栏变成 www.baidu.com\/#page=2\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \n    打开www.baidu.com\n\n    history.pushState(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27?page=1\x27\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/地址栏变成 www.baidu.com\/?page=1\x3c\/span\x3e\n    \n    history.pushState(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27#page=2\x27\x3c\/span\x3e);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/地址栏变成 www.baidu.com\/#page=2\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中\x3ccode\x3ereplaceState\x3c\/code\x3e:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    history.replaceState(null, null, \x27#page=2\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e    history.replaceState(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27#page=2\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3ereplaceState\x3c\/code\x3e接收的参数\x3ccode\x3epushState\x3c\/code\x3e相同，但是最终的效果是：地址栏url会根据接收的参数而变化，但是浏览器并未在当浏览历史栈中增加浏览器的历史记录，而是替换当前的浏览器历史记录。\x3c\/p\x3e\n\x3cp\x3e通过\x3ccode\x3epushState\x3c\/code\x3e和\x3ccode\x3ereplaceState\x3c\/code\x3e虽然能改变URL，但是不会主动触发浏览器\x3ccode\x3ereload\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ewindow\x3c\/code\x3e对象还提供\x3ccode\x3epopstate\x3c\/code\x3e方法:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    window.addEventListener(\x27popstate\x27, function() {\n        \n    });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27popstate\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \n    });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个方法用以监听浏览器在不同历史记录中进行切换，而触发相应的事件。\x3c\/p\x3e\n\x3cp\x3e在浏览器提供的history对象上还有\x3ccode\x3ego\x3c\/code\x3e, \x3ccode\x3eback\x3c\/code\x3e方法，用以模拟用户点击浏览器的前进后退按钮。在某个web应用当中，比如点击了\x3ccode\x3e\x26lt;a\x26gt;\x3c\/code\x3e标签，发生了页面的跳转。这时调用\x3ccode\x3ehistory.back()\x3c\/code\x3e;方法后页面回退，同时页面发生刷新,这时\x3ccode\x3ewindow.onpopstate\x3c\/code\x3e无法监听这个事件。但是如果是通过\x3ccode\x3epushState\x3c\/code\x3e或者\x3ccode\x3ereplaceState\x3c\/code\x3e来改变URL且不发生浏览器刷新的话，再使用\x3ccode\x3ehistory.back()\x3c\/code\x3e或\x3ccode\x3ehistory.go()\x3c\/code\x3e,这样\x3ccode\x3epopstate\x3c\/code\x3e事件会被触发。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \n    history.pushState({page: 1}, null, \x27?page=1\x27);\n    history.pushState({page: 2}, null, \x27?page=2\x27);\n\n    history.back(); \/\/浏览器后退\n\n    window.addEventListener(\x27popstate\x27, function(e) {\n        \/\/在popstate事件触发后,事件对象event保存了当前浏览器历史记录的状态.\n        \/\/e.state保存了pushState添加的state的引用\n        console.log(e.state);  \/\/输出 {page: 1}\n    });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \n    history.pushState({\x3cspan class=\x22hljs-attr\x22\x3epage\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e}, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27?page=1\x27\x3c\/span\x3e);\n    history.pushState({\x3cspan class=\x22hljs-attr\x22\x3epage\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e}, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27?page=2\x27\x3c\/span\x3e);\n\n    history.back(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/浏览器后退\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27popstate\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/在popstate事件触发后,事件对象event保存了当前浏览器历史记录的状态.\x3c\/span\x3e\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/e.state保存了pushState添加的state的引用\x3c\/span\x3e\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(e.state);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/输出 {page: 1}\x3c\/span\x3e\n    });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ePS: 通过\x3ccode\x3epushState\x3c\/code\x3e在url上添加\x3ccode\x3e?page=1\x3c\/code\x3e可以通过\x3ccode\x3elocation.search\x3c\/code\x3e去获取\x3ccode\x3esearch\x3c\/code\x3e的内容。不过如果通过\x3ccode\x3elocation.search\x3c\/code\x3e去改变\x3ccode\x3eurl\x3c\/code\x3e的话是会主动触发浏览器\x3ccode\x3ereload\x3c\/code\x3e的。这个特性可以和下面将的关于\x3ccode\x3ehash\x3c\/code\x3e的内容对比下。\x3c\/p\x3e\n\x3cp\x3eAPI大致了解了，那么这些方法可以运用到哪些地方呢？一个比较常用的场景是就在单页应用中，通过这些API完成前端的路由设计，利用\x3ccode\x3epushState\x3c\/code\x3e, \x3ccode\x3ereplaceState\x3c\/code\x3e可以改变\x3ccode\x3eurl\x3c\/code\x3e同时浏览器不刷新，并且通过\x3ccode\x3epopstate\x3c\/code\x3e监听浏览器历史记录的方式，完成一系列的异步动作。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \x3ca data-href=\x26quot;\/post\x26quot;\x3e\x3c\/a\x3e\n    \x3ca data-href=\x26quot;\/login\x26quot;\x3e\x3c\/a\x3e\n    \n    \/\/路由\n    const Router = [];\n    \n    const addRoute = (path = \x27\x27, handle = () =\x3e {}) =\x3e {\n        let obj = {\n            path,\n            handle\n        }\n        \n        Router.push(obj);\n    }\n    \n    \n    \/\/添加路由定义\n    addRoute(\x27\/post\x27, function() {\n        \/\/do something\n    });\n    \n    addRoute(\x27\/login\x27, function() {\n        \/\/do something\n    })\n    \n    \n    \/\/路由处理\n    const routeHandle = (path) =\x3e {\n        Router.forEach((item, index) =\x3e {\n            if(item.path === path) {\n                item.handle.apply(null, [path]);\n                return true;\n            }\n        })\n        return false;\n    }\n    \n    \n    \/\/拦截默认的a标签行为\n    document.addEventListener(\x27click\x27, function(e) {\n        let dataset = e.target.dataset;\n        if(dataset) {\n            if(routeHandle(dataset.href)) {\n                \/\/阻止默认行为\n                e.preventDefault();\n            }\n        }\n    })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x26lt;a data-href=\x3cspan class=\x22hljs-string\x22\x3e\x22\/post\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    \x26lt;a data-href=\x3cspan class=\x22hljs-string\x22\x3e\x22\/login\x22\x3c\/span\x3e\x26gt;\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/路由\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Router = [];\n    \n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e addRoute = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3epath = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e, handle = (\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {}) =\x26gt; {\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e obj = {\n            path,\n            handle\n        }\n        \n        Router.push(obj);\n    }\n    \n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/添加路由定义\x3c\/span\x3e\n    addRoute(\x3cspan class=\x22hljs-string\x22\x3e\x27\/post\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/do something\x3c\/span\x3e\n    });\n    \n    addRoute(\x3cspan class=\x22hljs-string\x22\x3e\x27\/login\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/do something\x3c\/span\x3e\n    })\n    \n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/路由处理\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e routeHandle = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3epath\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n        Router.forEach(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem, index\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(item.path === path) {\n                item.handle.apply(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, [path]);\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n            }\n        })\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    }\n    \n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/拦截默认的a标签行为\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e dataset = e.target.dataset;\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(dataset) {\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(routeHandle(dataset.href)) {\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/阻止默认行为\x3c\/span\x3e\n                e.preventDefault();\n            }\n        }\n    })\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e大致的实现思路就是，通过\x3ccode\x3e\x26lt;a\x26gt;\x3c\/code\x3e添加路由信息，然后拦截\x3ccode\x3e\x26lt;a\x26gt;\x3c\/code\x3e标签的默认行为，并与注册的路由信息进行匹配。若匹配成功调用对应的\x3ccode\x3ehandle\x3c\/code\x3e方法.\x3c\/p\x3e\n\x3cp\x3e不过\x3ccode\x3epushState\x3c\/code\x3e和\x3ccode\x3ereplaceState\x3c\/code\x3e方法在低版本的IE浏览器下兼容性不是很好。所以可以进行降级使用\x3ccode\x3ehash\x3c\/code\x3e来进行路由设计。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ehash\x3c\/code\x3e？\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2011\/03\/url_hash.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e请戳我\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e可以通过\x3ccode\x3elocation.hash\x3c\/code\x3e获取\x3ccode\x3eurl\x3c\/code\x3e上第一个\x3ccode\x3e#(fragment)\x3c\/code\x3e及后面的内容。同时还能通过\x3ccode\x3elocation.hash\x3c\/code\x3e改写其内容，且不会主动触发浏览器\x3ccode\x3ereload\x3c\/code\x3e。 有些功能是不是和\x3ccode\x3epushState\x3c\/code\x3e和\x3ccode\x3ereplaceState\x3c\/code\x3e一样？  所以为了兼容到低版本的浏览器,可以通过监听\x3ccode\x3e#\x3c\/code\x3e变化来进行路由设计。\x3c\/p\x3e\n\x3cp\x3e那么如何去监听呢？ 比较粗暴的一种方式就是\x3ccode\x3epolling\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \n    var oldHash = location.hash;\n    setTimeInterval(function() {\n        if(oldHash !== location.hash) {\n            \n            \/\/do something\n        \n            oldHash = location.hash;\n        }\n    }, 100);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e oldHash = location.hash;\n    setTimeInterval(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(oldHash !== location.hash) {\n            \n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/do something\x3c\/span\x3e\n        \n            oldHash = location.hash;\n        }\n    }, \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e不过，H5还提供了一个API: \x3ccode\x3ehashchange\x3c\/code\x3e。它的就可以直接代替上面的\x3ccode\x3epolling\x3c\/code\x3e方法，来监听\x3ccode\x3e#\x3c\/code\x3e的变化。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    window.addEventListener(\x27hashchange\x27, function() {\n        routeHandle(locaiton.hash);\n    });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e    \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27hashchange\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        routeHandle(locaiton.hash);\n    });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个小型的路由设计可以参见我的\x3ca href=\x22https:\/\/github.com\/CommanderXL\/xRoute\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e.\x3c\/p\x3e\n\x3cp\x3e稍微总结下：\x3c\/p\x3e\n\x3cp\x3e上面主要介绍了history提供的一些API，hash的相关知识。在平时可以运用到SPA当中，Gmail就是通过hash来进行路由设计的。它相对于页面跳转来说：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e页面只需要加载一次。后面的页面切换可以通过ajax去请求数据。页面体验更加流畅；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可以利用本地缓存，优化页面体验。在不同页面切换的过程中更加流畅；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可进行按需加载...\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e等等一些实用的好处吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e项目地址\x3c\/h2\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/CommanderXL\/xRoute\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e项目地址请戳我\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>利用pushState, popState和location.hash等方法自己实现一个小型路由</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007166839">https://segmentfault.com/a/1190000007166839</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/6lm2sm6wm06/" target="_blank">https://alili.tech/archive/6lm2sm6wm06/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>