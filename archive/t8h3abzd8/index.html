<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Webpack 提取公共模块"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Webpack 提取公共模块 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/t8h3abzd8/",
				"appid": "1613049289050283", 
				"title": "Webpack 提取公共模块 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-31T02:31:16"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/tosbjv63d4g/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rfe7raqg58o/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&text=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&text=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&title=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&is_video=false&description=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&title=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&title=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&title=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ft8h3abzd8%2f&title=Webpack%20%e6%8f%90%e5%8f%96%e5%85%ac%e5%85%b1%e6%a8%a1%e5%9d%97"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Webpack 提取公共模块</h1><div class="meta"><div class="postdate"><time datetime="2019-01-31" itemprop="datePublished">2019-01-31</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e较早之前总结过一篇【前端构建】WebPack实例与前端性能优化。\x3c\/p\x3e\n\x3cp\x3e这次打算写几篇对几个重要的知识点进行更详细的总结。本篇是这次 Webpack 相关的第三篇总结，之前的两篇是：\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000007498296\x22\x3e[译]为什么要 Webpack\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000007364512\x22 target=\x22_blank\x22\x3eWebpack 构建后文件变得很大？\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e啃先生(MrKenniu) | 文\x3c\/p\x3e\n\x3cp\x3e上一篇文章提到我主要从四个方面解决 Webpack 构建后文件太大的问题，总结了 Code Split，即按需加载的技能点。这篇总结\x3cstrong\x3e提取公共代码\x3c\/strong\x3e。它要解决的问题是冗余代码过多，即同一个模块在多个地方被引用，显然是解决上\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000007364512\x22\x3e一篇文章\x3c\/a\x3e最后遗留的问题。\x3c\/p\x3e\n\x3cp\x3eWebpack 的 CommonsChunkPlugin 插件，负责将多次被使用的 JS 模块打包在一起。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e使用\x26amp;配置项\x3c\/h2\x3e\n\x3cp\x3e使用方法：在 webpack config 的 plugins 属性里添加 CommonsChunkPlugin 实例即可。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFCPp?w=481\x26amp;h=144\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFCPp?w=481\x26amp;h=144\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e实例化的配置项「options」如下：\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3ename 或者 names：\x3c\/strong\x3echunk的名称，如果是 names 数组，则相当于为数组里的每个name 实例化插件。如果缺省，而且 children 或者 asyn 为 true，那么，所有的 chunks 都会被使用。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3efilename：\x3c\/strong\x3e此 common chunk 的文件名模板，可以与 output.filename 一样\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eminChunks：\x3c\/strong\x3e通常情况下这是一个整数，表示至少有 minChunks 个 chunk 使用了该模块，该模块才会被挪到公共代码「common chunk」里。minChunks 还可以是 Infinity，意味着将没有任何模块被移入进来，只是创建当前这个 chunk，这通常用来生成 jquery 等第三方代码库。minChunks还可以是一个返回布尔值的函数，返回 true 该模块会被移入 common chunk，否则不会。默认值是 chunks 的长度。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3echunks：\x3c\/strong\x3e这是一个元素为 chunk 名称的数组，插件将会从这些 chunks 里提取 common chunks。可见，minChunks 如果是整数，那么它应该小于 chunks 的长度，且大于1。如果缺省，所有的入口 chunks 会被选中。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3echildren：\x3c\/strong\x3e默认false。如果为 true ，相当于上一项 chunks 配置为当前 chunk 的子 chunk，用于 code split。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3easync：\x3c\/strong\x3e默认false。如果为 true，生成的 common chunk 将会是异步加载的。这个异步的 common chunk 是 name 这个 chunk 的子 chunk，而且跟 chunks 一起并行加载\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eminSize：\x3c\/strong\x3e如果有指定大小，那么 common chunk 的文件大小至少有 minSize 才会被创建。非必填项。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e提示：以上配置项理解起来有些复杂，应结合实际案例运行的结果来理解\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eCommonsChunkPlugin 能解决的问题\x3c\/h2\x3e\n\x3cp\x3e在使用插件前，考虑几个问题：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e对哪些 chunk 进行提取，这决定了 chunks ，children 和 name 要怎么配置\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ecommon chunk 是否异步，这决定了 async 怎么配置\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ecommon chunk 的粒度，这决定了 minChunks 和 minSize 怎么配置\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e以下是官方给出的常用的场景：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e提取两个及两个以上 Chunk 的公共代码\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e将 Code Split 切割出来的 Chunk「就是子 Chunk」，提取到父 Chunk\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e将 Code Split 切割出来的 Chunk，提取到一个新的异步加载的 Chunk\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提取某个类似 jquery 或 react 的代码库「但是这个用得很少，使用用 dll 插件来打包会更好一些，一下篇介绍」\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e例1：chunks 的公共代码，生成 page-comm\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFCPF?w=487\x26amp;h=260\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFCPF?w=487\x26amp;h=260\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e例2：将 code split 的公共子 chunk 提取到父 chunk\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFCPG?w=600\x26amp;h=261\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFCPG?w=600\x26amp;h=261\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3etopic.js 使用了 code split\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFCPH?w=583\x26amp;h=240\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFCPH?w=583\x26amp;h=240\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e例3：将 Code Split 切割出来的 Chunk，提取到一个新的异步加载的 Chunk\x3c\/strong\x3e\x3cbr\x3easync 设置为true，与例2一样，不同的是例2提取到父 chunk，这样会增加父 chunk 的文件大小，而例3提到一个新的 chunk 里，这个 chunk 是异步加载的。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFCPQ?w=607\x26amp;h=254\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFCPQ?w=607\x26amp;h=254\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e多跑实例，理解各配置项产生的影响\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Webpack 提取公共模块</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007498385">https://segmentfault.com/a/1190000007498385</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/t8h3abzd8/" target="_blank">https://alili.tech/archive/t8h3abzd8/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>