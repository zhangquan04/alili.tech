<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="用 vue2 和 webpack 快速建构 NW.js 项目(1)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>用 vue2 和 webpack 快速建构 NW.js 项目(1) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/yulhpehs67e/",
				"appid": "1613049289050283", 
				"title": "用 vue2 和 webpack 快速建构 NW.js 项目(1) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-27T02:30:59"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/l6z5xijr8us/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/x8lg3ujvtlq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&text=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&text=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&title=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&is_video=false&description=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&title=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&title=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&title=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fyulhpehs67e%2f&title=%e7%94%a8%20vue2%20%e5%92%8c%20webpack%20%e5%bf%ab%e9%80%9f%e5%bb%ba%e6%9e%84%20NW.js%20%e9%a1%b9%e7%9b%ae%281%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">用 vue2 和 webpack 快速建构 NW.js 项目(1)</h1><div class="meta"><div class="postdate"><time datetime="2019-01-27" itemprop="datePublished">2019-01-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e经过实践和学习，发现本篇文章部分内容\x3cstrong\x3e已经过时\x3c\/strong\x3e，请看我的关于 Vue 和 NW.js 的 \x3cstrong\x3e \x3ca href=\x22https:\/\/github.com\/anchengjian\/anchengjian.github.io\/blob\/master\/posts\/2017\/vuejs-webpack-nwjs-2.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e最新文章\x3c\/a\x3e \x3c\/strong\x3e 和相关实践项目 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-nw-seed\x3c\/a\x3e 。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e使用到的技能点\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3evue2\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ewebpack\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eNW.js\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eNode.js\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e一、前言\x3c\/h2\x3e\n\x3cp\x3e先讲一下这个项目的由来。我司要新上一个产品，是面向教育领域的一个东西，要求快速开发又必须要兼容 \x3ccode\x3eXP\x3c\/code\x3e ，所以就选 NW.js 来做桌面客户端。同时，前端的轮子方面，开始尝试在面向用户的业务上应用 vuejs 。   \x3cbr\x3e在这个过程中，也踩到了一些坑，也学到了一些新的小技巧，分享出来给大家参考一下。\x3c\/p\x3e\n\x3cp\x3e有同学问，为啥不直接出一个完整项目？   \x3cbr\x3e我想等 \x3ca href=\x22https:\/\/github.com\/vuejs-templates\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e 升级完 webpack2 的时候再来一个懒人 seed 项目包吧\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e二、vue\x26amp;webpack 项目搭建\x3c\/h2\x3e\n\x3cp\x3e首先用 \x3ca href=\x22https:\/\/github.com\/vuejs\/vue-cli\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-cli\x3c\/a\x3e 快速的搭建一个 \x3ca href=\x22https:\/\/github.com\/vuejs-templates\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e 模板项目，省心又省事儿。\x3cbr\x3e这部分不做过多介绍，很容易的。\x3cbr\x3e方便新人理解和学习，给个参考链接 \x3ca href=\x22https:\/\/github.com\/vuejs-templates\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/vuejs-temp...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e三、NW.js 的建构\x3c\/h2\x3e\n\x3cp\x3e整个 nw 建构是基于 vue\x26amp;webpack 这个前置步骤的项目的。   \x3cbr\x3e好了，我们开始。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e1、先用 npm 安装 NW.js\x3c\/h3\x3e\n\x3ch4\x3e1) 能顺利翻墙\x3c\/h4\x3e\n\x3cp\x3eNW.js 开发者们提供了 \x3ca href=\x22https:\/\/github.com\/nwjs\/npm-installer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enwjs\/npm-installer\x3c\/a\x3e   \x3cbr\x3e如果您的网速较好，翻墙顺利的话，可以直接\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install nw --nwjs_build_type=sdk --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs brainfuck\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3enpm\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3einstall\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3enw\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3enwjs_build_type=sdk\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3esave\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2) 网络不太好\x3c\/h4\x3e\n\x3cp\x3e当然我的网络情况就不是很好，233333   \x3cbr\x3e这时候可以先下载好 nw 的 sdk 包到本地，墙外地址：\x3ca href=\x22https:\/\/dl.nwjs.io\/v0.20.1\/nwjs-sdk-v0.20.1-win-x64.zip\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/dl.nwjs.io\/v0.20.1\/nwjs-sdk-v0.20.1-win-x64.zip\x3c\/a\x3e （截至目前现在最新的sdk版本是 \x3ccode\x3e0.20.1\x3c\/code\x3e ，系统环境是 win10 x64）当然，我作为一个老司机，也有不可推卸的责任，我把我这个包也发到了百度云上了：链接: \x3ca href=\x22http:\/\/pan.baidu.com\/s\/1i52ZO8l\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/pan.baidu.com\/s\/1i52ZO8l\x3c\/a\x3e 密码: 3tt2\x3cbr\x3e做了点微小的贡献，谢谢大家。\x3c\/p\x3e\n\x3cp\x3e我已经尝试过 \x3ccode\x3efile:\/\/\x3c\/code\x3e 那个方法不能用了，换server模式吧\x3c\/p\x3e\n\x3cp\x3e切换命令行目录到当前sdk包所在位置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22C:\\Users\\anchengjian\\Downloads\x3e mkdir 0.20.1\nC:\\Users\\anchengjian\\Downloads\x3e cp nwjs-sdk-v0.20.1-win-x64.zip .\/0.20.1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs taggerscript\x22\x3e\x3ccode\x3eC:\x3cspan class=\x22hljs-symbol\x22\x3e\\U\x3c\/span\x3esers\x3cspan class=\x22hljs-symbol\x22\x3e\\a\x3c\/span\x3enchengjian\x3cspan class=\x22hljs-symbol\x22\x3e\\D\x3c\/span\x3eownloads\x26gt; mkdir 0.20.1\nC:\x3cspan class=\x22hljs-symbol\x22\x3e\\U\x3c\/span\x3esers\x3cspan class=\x22hljs-symbol\x22\x3e\\a\x3c\/span\x3enchengjian\x3cspan class=\x22hljs-symbol\x22\x3e\\D\x3c\/span\x3eownloads\x26gt; cp nwjs-sdk-v0.20.1-win-x64.zip .\/0.20.1\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再开启 server 服务，如果有python直接\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22C:\\Users\\anchengjian\\Downloads\x3e python -m SimpleHTTPServer 9999\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs taggerscript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eC:\x3cspan class=\x22hljs-symbol\x22\x3e\\U\x3c\/span\x3esers\x3cspan class=\x22hljs-symbol\x22\x3e\\a\x3c\/span\x3enchengjian\x3cspan class=\x22hljs-symbol\x22\x3e\\D\x3c\/span\x3eownloads\x26gt; python -m SimpleHTTPServer 9999\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或者换个姿势\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22C:\\Users\\anchengjian\\Downloads\x3e npm install http-server -g\nC:\\Users\\anchengjian\\Downloads\x3e http-server -p 9999\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs taggerscript\x22\x3e\x3ccode\x3eC:\x3cspan class=\x22hljs-symbol\x22\x3e\\U\x3c\/span\x3esers\x3cspan class=\x22hljs-symbol\x22\x3e\\a\x3c\/span\x3enchengjian\x3cspan class=\x22hljs-symbol\x22\x3e\\D\x3c\/span\x3eownloads\x26gt; npm install http-server -g\nC:\x3cspan class=\x22hljs-symbol\x22\x3e\\U\x3c\/span\x3esers\x3cspan class=\x22hljs-symbol\x22\x3e\\a\x3c\/span\x3enchengjian\x3cspan class=\x22hljs-symbol\x22\x3e\\D\x3c\/span\x3eownloads\x26gt; http-server -p 9999\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e服务开好就可以继续下一步了，切换目录到项目代码的目录下。\x3c\/p\x3e\n\x3cp\x3e先创建一个 \x3ccode\x3e.npmrc\x3c\/code\x3e 文件，内容如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22nwjs_build_type=sdk\nNWJS_URLBASE=http:\/\/localhost:9999\/\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ini\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attr\x22\x3enwjs_build_type\x3c\/span\x3e=sdk\n\x3cspan class=\x22hljs-attr\x22\x3eNWJS_URLBASE\x3c\/span\x3e=http:\/\/localhost:\x3cspan class=\x22hljs-number\x22\x3e9999\x3c\/span\x3e\/\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e再然后直接 npm 安装 nw\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22E:\\code\\vue-webpack-nw\x3e npm i nw --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gauss\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eE:\\\x3cspan class=\x22hljs-built_in\x22\x3ecode\x3c\/span\x3e\\vue-webpack-nw\x26gt; npm i nw --\x3cspan class=\x22hljs-keyword\x22\x3esave\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这时，如无其他问题，已经装好了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e2、这时候开始增补nw相关的建构\x3c\/h3\x3e\n\x3cp\x3e下文直接以文件名为小标题\x3c\/p\x3e\n\x3ch4\x3e1) package.json\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;name\x26quot;: \x26quot;vue-webpack-nw\x26quot;,\n  \x26quot;version\x26quot;: \x26quot;1.0.0\x26quot;,\n  \x26quot;description\x26quot;: \x26quot;vue-webpack-nw\x26quot;,\n  \x26quot;author\x26quot;: \x26quot;anchengjian \x3canchengjian@gmail.com\x3e\x26quot;,\n  \x26quot;private\x26quot;: true,\n  \x26quot;scripts\x26quot;: {\n    \x26quot;dev\x26quot;: \x26quot;node build\/dev-server.js\x26quot;,\n    \x26quot;build\x26quot;: \x26quot;node build\/build.js\x26quot;,\n    \x26quot;lint\x26quot;: \x26quot;eslint --ext .js,.vue src\x26quot;\n  },\n  \x26quot;dependencies\x26quot;: {\n    \/\/ ...\n  },\n  \x26quot;devDependencies\x26quot;: {\n    \/\/ ...\n  },\n  \x26quot;engines\x26quot;: {\n    \x26quot;node\x26quot;: \x26quot;\x3e= 7.0.0\x26quot;,\n    \x26quot;npm\x26quot;: \x26quot;\x3e= 4.0.0\x26quot;\n  },\n  \/\/ 以下为 nw 的配置新加内容\n  \x26quot;main\x26quot;: \x26quot;.\/index.html\x26quot;,\n  \x26quot;window\x26quot;: {\n    \x26quot;title\x26quot;: \x26quot;nw-vue-webpack2\x26quot;,\n    \x26quot;toolbar\x26quot;: true,\n    \x26quot;frame\x26quot;: true,\n    \x26quot;width\x26quot;: 1200,\n    \x26quot;height\x26quot;: 800,\n    \x26quot;min_width\x26quot;: 800,\n    \x26quot;min_height\x26quot;: 500\n  },\n  \x26quot;webkit\x26quot;: {\n    \x26quot;plugin\x26quot;: true\n  },\n  \x26quot;node-remote\x26quot;: \x26quot;http:\/\/localhost:8080\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22vue-webpack-nw\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22version\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x221.0.0\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22description\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22vue-webpack-nw\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22author\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22anchengjian \x26lt;anchengjian@gmail.com\x26gt;\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22private\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22dev\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22node build\/dev-server.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22node build\/build.js\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22lint\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22eslint --ext .js,.vue src\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22dependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22devDependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22engines\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22node\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x26gt;= 7.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22npm\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x26gt;= 4.0.0\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 以下为 nw 的配置新加内容\x3c\/span\x3e\n  \x3cspan class=\x22hljs-string\x22\x3e\x22main\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/index.html\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-string\x22\x3e\x22window\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22title\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22nw-vue-webpack2\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22toolbar\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22frame\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22width\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1200\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22height\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e800\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22min_width\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e800\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22min_height\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22webkit\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22plugin\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22node-remote\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/localhost:8080\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2) build\/webpack.base.conf.js\x3c\/h4\x3e\n\x3cp\x3e增加基础配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  \/\/ ...\n  \/\/ 以下为新加内容\n  target: \x27node-webkit\x27\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs java\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3eexports\x3c\/span\x3e = {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 以下为新加内容\x3c\/span\x3e\n  target: \x3cspan class=\x22hljs-string\x22\x3e\x27node-webkit\x27\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e3) build\/dev-nw.js\x3c\/h4\x3e\n\x3cp\x3e新建一个名为 \x3ccode\x3edev-nw.js\x3c\/code\x3e 的文件\x3cbr\x3e内容如下，直接copy吧。\x3cbr\x3e原理我就不讲了，大致实现的功能是:   \x3cbr\x3e先用 \x3ccode\x3eNode.js\x3c\/code\x3e 修改当前项目 \x3ccode\x3eindex.html\x3c\/code\x3e 内容为打包出来的 \x3ccode\x3eindex.html\x3c\/code\x3e，然后再用 nw 打开当前项目目录，当关闭或者报错的时候再还原 \x3ccode\x3eindex.html\x3c\/code\x3e ，当前，你直接 kill 进程，这个还原就会出问题。自己看着改吧，233333\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const path = require(\x27path\x27)\nconst url = require(\x27url\x27)\nconst fs = require(\x27fs\x27)\nconst http = require(\x27http\x27)\nconst exec = require(\x27child_process\x27).exec\nconst rootPath = path.resolve(__dirname, \x27..\/\x27)\nconst nwPath = require(\x27nw\x27).findpath()\n\n\/\/ 修改index.html文件中的css和js的地址\nconst indexHtmlPath = path.resolve(__dirname, \x27..\/index.html\x27)\nconst indexHtmlContent = fs.readFileSync(indexHtmlPath, \x27utf-8\x27).toString()\n\n\/\/ 退出时恢复原样子\nprocess.on(\x27exit\x27, exitHandle)\nprocess.on(\x27uncaughtException\x27, exitHandle)\n\nfunction exitHandle(e) {\n  fs.writeFileSync(indexHtmlPath, indexHtmlContent, \x27utf-8\x27)\n  console.log(\x27233333,bye~~~\x27)\n}\n\n\/\/ get uri\nvar config = require(\x27..\/config\x27)\nif (!process.env.NODE_ENV) process.env.NODE_ENV = JSON.parse(config.dev.env.NODE_ENV)\nvar port = process.env.PORT || config.dev.port\nvar uri = `http:\/\/localhost:${port}\/`\n\n\/\/ start lauch NW.js\nrequestGet(uri, htmlText =\x3e {\n  htmlText = htmlText.replace(\x27src=\x26quot;\/\x27, `src=\x26quot;${uri}`).replace(\x27href=\x26quot;\/\x27, `href=\x26quot;${uri}`)\n  fs.writeFileSync(indexHtmlPath, htmlText, \x27utf-8\x27)\n\n  let runNwDev = exec(`${nwPath} .\/`, { cwd: rootPath }, (err, stdout, stderr) =\x3e {\n    if (err) process.exit(0)\n  })\n\n  runNwDev.stdout.on(\x27data\x27, (data) =\x3e console.log(data))\n})\n\nfunction requestGet(path, callback) {\n  console.log(\x27start with request: \x27, path)\n  const options = Object.assign({ method: \x27GET\x27 }, url.parse(path))\n  const req = http.request(options, res =\x3e {\n    let body = []\n    res.on(\x27data\x27, chunk =\x3e body.push(chunk))\n    res.on(\x27end\x27, () =\x3e callback(Buffer.concat(body).toString()))\n  })\n  req.on(\x27error\x27, e =\x3e console.log(\x27problem with request: \x27 \x2b e.message))\n  req.write(\x27\x27)\n  req.end()\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e url = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27url\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fs = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27fs\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e http = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27http\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e exec = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27child_process\x27\x3c\/span\x3e).exec\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e rootPath = path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nwPath = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27nw\x27\x3c\/span\x3e).findpath()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 修改index.html文件中的css和js的地址\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e indexHtmlPath = path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/index.html\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e indexHtmlContent = fs.readFileSync(indexHtmlPath, \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e).toString()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 退出时恢复原样子\x3c\/span\x3e\nprocess.on(\x3cspan class=\x22hljs-string\x22\x3e\x27exit\x27\x3c\/span\x3e, exitHandle)\nprocess.on(\x3cspan class=\x22hljs-string\x22\x3e\x27uncaughtException\x27\x3c\/span\x3e, exitHandle)\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eexitHandle\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n  fs.writeFileSync(indexHtmlPath, indexHtmlContent, \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27233333,bye~~~\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ get uri\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e config = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/config\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (!process.env.NODE_ENV) process.env.NODE_ENV = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(config.dev.env.NODE_ENV)\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e port = process.env.PORT || config.dev.port\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e uri = \x3cspan class=\x22hljs-string\x22\x3e`http:\/\/localhost:\x3cspan class=\x22hljs-subst\x22\x3e${port}\x3c\/span\x3e\/`\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ start lauch NW.js\x3c\/span\x3e\nrequestGet(uri, htmlText =\x26gt; {\n  htmlText = htmlText.replace(\x3cspan class=\x22hljs-string\x22\x3e\x27src=\x22\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e`src=\x22\x3cspan class=\x22hljs-subst\x22\x3e${uri}\x3c\/span\x3e`\x3c\/span\x3e).replace(\x3cspan class=\x22hljs-string\x22\x3e\x27href=\x22\/\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e`href=\x22\x3cspan class=\x22hljs-subst\x22\x3e${uri}\x3c\/span\x3e`\x3c\/span\x3e)\n  fs.writeFileSync(indexHtmlPath, htmlText, \x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e)\n\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e runNwDev = exec(\x3cspan class=\x22hljs-string\x22\x3e`\x3cspan class=\x22hljs-subst\x22\x3e${nwPath}\x3c\/span\x3e .\/`\x3c\/span\x3e, { \x3cspan class=\x22hljs-attr\x22\x3ecwd\x3c\/span\x3e: rootPath }, (err, stdout, stderr) =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) process.exit(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)\n  })\n\n  runNwDev.stdout.on(\x3cspan class=\x22hljs-string\x22\x3e\x27data\x27\x3c\/span\x3e, (data) =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(data))\n})\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erequestGet\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3epath, callback\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27start with request: \x27\x3c\/span\x3e, path)\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e options = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({ \x3cspan class=\x22hljs-attr\x22\x3emethod\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27GET\x27\x3c\/span\x3e }, url.parse(path))\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e req = http.request(options, res =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e body = []\n    res.on(\x3cspan class=\x22hljs-string\x22\x3e\x27data\x27\x3c\/span\x3e, chunk =\x26gt; body.push(chunk))\n    res.on(\x3cspan class=\x22hljs-string\x22\x3e\x27end\x27\x3c\/span\x3e, () =\x26gt; callback(Buffer.concat(body).toString()))\n  })\n  req.on(\x3cspan class=\x22hljs-string\x22\x3e\x27error\x27\x3c\/span\x3e, e =\x26gt; \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27problem with request: \x27\x3c\/span\x3e \x2b e.message))\n  req.write(\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e)\n  req.end()\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e4) build\/dev-server.js\x3c\/h4\x3e\n\x3cp\x3e在其最末尾修改一下，不需要打开浏览器，而是需要其代码驱动打开nw.exe\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \/\/ when env is testing, don\x27t need open it\n  if (process.env.NODE_ENV !== \x27testing\x27) {\n    \/\/ opn(uri)\n\n    \/\/ modify by anchengjian\n    \/\/ 这儿不需要打开浏览器，只用打开 nw 就行\n    require(\x27.\/dev-nw\x27)\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ when env is testing, don\x27t need open it\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (process\x3cspan class=\x22hljs-selector-class\x22\x3e.env\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.NODE_ENV\x3c\/span\x3e !== \x3cspan class=\x22hljs-string\x22\x3e\x27testing\x27\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ opn(uri)\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ modify by anchengjian\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这儿不需要打开浏览器，只用打开 nw 就行\x3c\/span\x3e\n    require(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dev-nw\x27\x3c\/span\x3e)\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e5) build\/dev-client.js\x3c\/h4\x3e\n\x3cp\x3e这个时候直接在执行 \x3ccode\x3enpm run dev\x3c\/code\x3e 正常的话是可以用 nw.exe 打开当前项目代码，但接着就可以看到有一个报错\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22GET chrome-extension:\/\/hbdgiajgpfdfalonjhdcdmbcmillcjed\/__webpack_hmr net::ERR_FILE_NOT_FOUND\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eGET chrome-\x3cspan class=\x22hljs-symbol\x22\x3eextension:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/hbdgiajgpfdfalonjhdcdmbcmillcjed\/\x3c\/span\x3e__webpack_hmr \x3cspan class=\x22hljs-symbol\x22\x3enet:\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:ERR_FILE_NOT_FOUND\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e原因也就是webpack请求的时候根据当前页面地址来的，没想到还有 nw 这么个环境   \x3cbr\x3e处理方法也简单，更改 \x3ccode\x3ewebpack-hot-middleware\x3c\/code\x3e 的配置，让其每次发请求的时候用\x3ccode\x3e__webpack_public_path__\x3c\/code\x3e 或者全局变量。   \x3cbr\x3e同时请注意\x3ccode\x3epath=__webpack_hmr\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e改\x3ccode\x3ehotClient\x3c\/code\x3e这一行代码为这样子\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var hotClient = require(\x27webpack-hot-middleware\/client?noInfo=true\x26amp;reload=true\x26amp;dynamicPublicPath=true\x26amp;path=__webpack_hmr\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scala\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e hotClient = require(\x3cspan class=\x22hljs-symbol\x22\x3e\x27webpack\x3c\/span\x3e-hot-middleware\/client?noInfo=\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x26amp;reload=\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x26amp;dynamicPublicPath=\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x26amp;path=__webpack_hmr\x27)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样配置的文档来源： \x3ca href=\x22https:\/\/github.com\/glenjamin\/webpack-hot-middleware#documentation\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-hot-middleware\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e6) config\/index.js\x3c\/h4\x3e\n\x3cp\x3e同时需要更改开发者模式下 assetsPublicPath 的配置，不然\x3ccode\x3e__webpack_public_path__\x3c\/code\x3e依然为\x3ccode\x3e\/\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n  \/\/ ...\n  dev: {\n    env: require(\x27.\/dev.env\x27),\n    port: 8080,\n    assetsSubDirectory: \x27static\x27,\n    assetsPublicPath: \x27http:\/\/localhost:8080\/\x27,\n    proxyTable: {},\n    \/\/ CSS Sourcemaps off by default because relative paths are \x26quot;buggy\x26quot;\n    \/\/ with this option, according to the CSS-Loader README\n    \/\/ (https:\/\/github.com\/webpack\/css-loader#sourcemaps)\n    \/\/ In our experience, they generally work as expected,\n    \/\/ just be aware of this issue when enabling this option.\n    cssSourceMap: false\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n  dev: {\n    \x3cspan class=\x22hljs-attr\x22\x3eenv\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/dev.env\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-attr\x22\x3eport\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e8080\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eassetsSubDirectory\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27static\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eassetsPublicPath\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/localhost:8080\/\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eproxyTable\x3c\/span\x3e: {},\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ CSS Sourcemaps off by default because relative paths are \x22buggy\x22\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ with this option, according to the CSS-Loader README\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ (https:\/\/github.com\/webpack\/css-loader#sourcemaps)\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ In our experience, they generally work as expected,\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ just be aware of this issue when enabling this option.\x3c\/span\x3e\n    cssSourceMap: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e至此，一个完整的开发建构就出来，后面慢慢更新产品模式的打包建构。   \x3c\/p\x3e\n\x3cp\x3e原文持续更新: \x3ca href=\x22https:\/\/github.com\/anchengjian\/anchengjian.github.io\/blob\/master\/posts\/2017\/vuejs-webpack-nwjs.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/anchengjian\/anchengjian.github.io\/blob\/master\/posts\/2017\/vuejs-webpack-nwjs.md\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>用 vue2 和 webpack 快速建构 NW.js 项目(1)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008281924">https://segmentfault.com/a/1190000008281924</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/yulhpehs67e/" target="_blank">https://alili.tech/archive/yulhpehs67e/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>