<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Docker部署基于Nodejs的Web应用-实战篇"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Docker部署基于Nodejs的Web应用-实战篇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/g10wper34i/",
				"appid": "1613049289050283", 
				"title": "Docker部署基于Nodejs的Web应用-实战篇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-05T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/kbqaon0o8c8/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/vmo8z7jnkkd/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&text=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&text=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&title=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&is_video=false&description=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&title=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&title=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&title=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg10wper34i%2f&title=Docker%e9%83%a8%e7%bd%b2%e5%9f%ba%e4%ba%8eNodejs%e7%9a%84Web%e5%ba%94%e7%94%a8-%e5%ae%9e%e6%88%98%e7%af%87"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Docker部署基于Nodejs的Web应用-实战篇</h1><div class="meta"><div class="postdate"><time datetime="2019-01-05" itemprop="datePublished">2019-01-05</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3eDocker\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.docker.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edocker\x3c\/a\x3e是一个开源的应用容器引擎，可以为我们提供安全、可移植、可重复的自动化部署的方式。docker采用虚拟化的技术来虚拟化出应用程序的运行环境。此种方式具有以下优势：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e每个部署的应用程序都是一个容器，彼此隔离，互不影响；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e服务器只需要安装docker即可运行构建好的应用程序镜像，不会涉及复杂的服务器环境配置，因为配置都在特定的应用程序所在的镜像中去配置即可；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e简化了自动化部署和运维的繁琐流程，只需将构建好的镜像load到服务器的docker中即可运行我们的应用程序；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e可以充分利用服务器的系统资源，一台服务器上可以同时运行多个容器；\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010541795\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010541795\x22 alt=\x22architecture\x22 title=\x22architecture\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3edocker采用的是c\/s架构，Client通过接口与Server进程通信实现容器的构建，运行和发布。docker比较重要的三个核心概念如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e镜像（images）：一个只读的模板，可以理解为应用程序的运行环境，包含了程序运行所依赖的环境和基本配置，镜像可以按照层级（从基础镜像开始）来构建，每一层包含特定的环境。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e仓库（repository）：一个用于存放镜像文件的仓库，如果你对git的仓库熟悉，应该很容易理解，对，就是那个。有私有仓库和公有仓库之分。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e容器（container）：一个运行应用程序的虚拟容器，在我们运行镜像时产生。容器包含自己的文件系统\x2b隔离的进程空间和包含其中的进程。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e前言\x3c\/h3\x3e\n\x3cp\x3esharplook是一款通过大数据分析来解决客户在监控系统中存在的数据采集难、解析难、处理难的IT运维产品。在给客户部署产品的过程中涉及到比较多的环境配置和组件安装以及复杂的依赖项，这些繁琐的流程降低了安装部署的效率和产品质量。基于此，我们开发了一款可以快速便捷的安装部署套件，提供一种漂亮的安装部署流程。产品采用 \x3ca href=\x22https:\/\/zh.nuxtjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNuxt\x3c\/a\x3e \x2b \x3ca href=\x22http:\/\/koa.bootcss.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eKoa\x3c\/a\x3e 的基础架构进行开发，其中采用nuxt来提供SSR（服务端渲染）功能，Nuxt.js是基于Vue.js的通用架构，其中集成了以下组件：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/vuejs\/vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue2\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/vuejs\/vue-router\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue-Router\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/vuejs\/vuex\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVuex\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/declandewet\/vue-meta\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue-Meta\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e另外，Nuxt.js 使用 Webpack 和 vue-loader 、 babel-loader 来处理代码的自动化构建工作（如打包、代码分层、压缩等等）。\x3c\/p\x3e\n\x3cp\x3e我们项目使用Nuxt.js作为中间件来进行UI渲染，使用Koa启动我们自己的服务器，koa2 是由 Express 原班人马打造的，致力于成为一个更小、更富有表现力、更健壮的 Web 框架。\x3c\/p\x3e\n\x3cp\x3e关于如何快速搭建这样一个项目，小生之前在\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010460705?_ea=2317938\x22\x3e《vue-cli “从入门到放弃”》\x3c\/a\x3e中介绍过vue-cli的使用，这个项目我们通过vue-cli工具，使用 \x3ccode\x3enuxt-community\/koa-template\x3c\/code\x3e 模板，\x3ccode\x3evue init nuxt-community\/koa-template\x3c\/code\x3e快速构建出来。具体的代码逻辑，在此不做赘述。\x3c\/p\x3e\n\x3cp\x3e关于为什么选择docker来部署我们的node服务，前面已经介绍了，我们基于node的web应用涉及到的部署环境并不复杂，仅仅需要Node.js作为平台即可，由于依赖的包文件太多，而且比较大，业界还没有特别好用的开源node打包工具。做前端的同学都知道，\x3ca href=\x22http:\/\/webpack.github.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x3c\/a\x3e是一个功能强大的资源加载构建的打包工具，只需要将项目文件打包到一个dist文件下，打包后的文件体量小，解决了文件之间的依赖问题，提取出公共代码库，生产环境只需要部署dist文件夹即可。然而，Nodejs程序涉及到的依赖包，和资源却没法进行打包，node服务开启后仅仅是一个node进程而已。那么我们如何部署node程序呢？既然没法打包，只能将其全部文件进行部署（虽然可能存在别的问题，小生也在研究中，大神可以给点建议），于是小生就希望将其放入docker中去部署，免去生产环境node版本不一致等问题。下面小生就将如何用docker来部署Node项目的过程分享给诸位。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e实战\x3c\/h3\x3e\n\x3cp\x3e以下将进入战备状态，请同志们准备好大脑和电脑，跟着我左手、右手一个慢动作。\x3c\/p\x3e\n\x3ch4\x3e环境准备\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e安装docker，未安装的同学，请根据自己的开发环境采用不同的安装方式去安装，具体操作参考\x3ca href=\x22https:\/\/docs.docker.com\/engine\/installation\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e教程\x3c\/a\x3e，不做赘述。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e安装成功后，可以通过\x3ccode\x3edocker -v\x3c\/code\x3e查看版本号（尽量使用最新的稳定版本）。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e项目准备\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e在你的项目根目录下，添加Dockerfile文件，此文件用来配置我们自定义一个镜像所需要指定的依赖项、环境以及执行的命令等。内容格式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 # 指定我们的基础镜像是node，版本是v8.0.0\n FROM node:8.0.0\n # 指定制作我们的镜像的联系人信息（镜像创建者）\n MAINTAINER EOI\n \n # 将根目录下的文件都copy到container（运行此镜像的容器）文件系统的app文件夹下\n ADD . \/app\/\n # cd到app文件夹下\n WORKDIR \/app\n \n # 安装项目依赖包\n RUN npm install\n RUN npm rebuild node-sass --force\n \n # 配置环境变量\n ENV HOST 0.0.0.0\n ENV PORT 8000\n \n # 容器对外暴露的端口号\n EXPOSE 8000\n \n # 容器启动时执行的命令，类似npm run start\n CMD [\x26quot;npm\x26quot;, \x26quot;start\x26quot;]\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode class=\x22shell\x22\x3e \x3cspan class=\x22hljs-comment\x22\x3e# 指定我们的基础镜像是node，版本是v8.0.0\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eFROM\x3c\/span\x3e node:\x3cspan class=\x22hljs-number\x22\x3e8.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n \x3cspan class=\x22hljs-comment\x22\x3e# 指定制作我们的镜像的联系人信息（镜像创建者）\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eMAINTAINER\x3c\/span\x3e EOI\n \n \x3cspan class=\x22hljs-comment\x22\x3e# 将根目录下的文件都copy到container（运行此镜像的容器）文件系统的app文件夹下\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eADD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e . \/app\/\n\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e# cd到app文件夹下\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eWORKDIR\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \/app\n\x3c\/span\x3e \n \x3cspan class=\x22hljs-comment\x22\x3e# 安装项目依赖包\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eRUN\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e npm install\n\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eRUN\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e npm rebuild node-sass --force\n\x3c\/span\x3e \n \x3cspan class=\x22hljs-comment\x22\x3e# 配置环境变量\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eENV\x3c\/span\x3e HOST \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eENV\x3c\/span\x3e PORT \x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e\n \n \x3cspan class=\x22hljs-comment\x22\x3e# 容器对外暴露的端口号\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eEXPOSE\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e\n \n \x3cspan class=\x22hljs-comment\x22\x3e# 容器启动时执行的命令，类似npm run start\x3c\/span\x3e\n \x3cspan class=\x22hljs-keyword\x22\x3eCMD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x22npm\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22start\x22\x3c\/span\x3e]\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e关于\x3ccode\x3eDockerfile\x3c\/code\x3e文件中的关键字，解释如下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3eFROM\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22语法：FROM \x3cimage\x3e[:\x3ctag\x3e]\n解释：设置要制作的镜像基于哪个镜像，FROM指令必须是整个Dockerfile的第一个指令，如果指定的镜像不存在默认会自动从Docker Hub上下载。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e语法：FROM \x26lt;image\x26gt;[\x3cspan class=\x22hljs-symbol\x22\x3e:\x26lt;tag\x26gt;\x3c\/span\x3e]\n解释：设置要制作的镜像基于哪个镜像，FROM指令必须是整个Dockerfile的第一个指令，如果指定的镜像不存在默认会自动从Docker Hub上下载。\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eMAINTAINER\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22语法：MAINTAINER \x3cname\x3e\n解释：MAINTAINER指令允许你给将要制作的镜像设置作者信息。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e语法：\x3cspan class=\x22hljs-keyword\x22\x3eMAINTAINER\x3c\/span\x3e \x26lt;name\x26gt;\n解释：\x3cspan class=\x22hljs-keyword\x22\x3eMAINTAINER\x3c\/span\x3e指令允许你给将要制作的镜像设置作者信息。\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eADD\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22语法：ADD \x3csrc\x3e \x3cdest\x3e\n解释：ADD指令用于从指定路径拷贝一个文件或目录到容器的指定路径中，\x3csrc\x3e是一个文件或目录的路径，也可以是一个url，路径是相对于该Dockerfile文件所在位置的相对路径，\x3cdest\x3e是目标容器的一个绝对路径。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e语法：\x3cspan class=\x22hljs-keyword\x22\x3eADD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x26lt;src\x26gt; \x26lt;dest\x26gt;\n\x3c\/span\x3e解释：\x3cspan class=\x22hljs-keyword\x22\x3eADD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e指令用于从指定路径拷贝一个文件或目录到容器的指定路径中，\x26lt;src\x26gt;是一个文件或目录的路径，也可以是一个url，路径是相对于该Dockerfile文件所在位置的相对路径，\x26lt;dest\x26gt;是目标容器的一个绝对路径。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eWORKDIR\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 语法：WORKDIR \/path\/to\/workdir\n 解释：WORKDIR指令用于设置Dockerfile中的RUN、CMD和ENTRYPOINT指令执行命令的工作目录(默认为\/目录)，该指令在Dockerfile文件中可以出现多次，如果使用相对路径则为相对于WORKDIR上一次的值，例如WORKDIR \/data，WORKDIR logs，RUN pwd最终输出的当前目录是\/data\/logs。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e 语法：\x3cspan class=\x22hljs-keyword\x22\x3eWORKDIR\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \/path\/to\/workdir\n\x3c\/span\x3e 解释：\x3cspan class=\x22hljs-keyword\x22\x3eWORKDIR\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e指令用于设置Dockerfile中的RUN、CMD和ENTRYPOINT指令执行命令的工作目录(默认为\/目录)，该指令在Dockerfile文件中可以出现多次，如果使用相对路径则为相对于WORKDIR上一次的值，例如WORKDIR \/data，WORKDIR logs，RUN \x3cspan class=\x22hljs-built_in\x22\x3epwd\x3c\/span\x3e最终输出的当前目录是\/data\/logs。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eRUN\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 语法：① RUN \x3ccommand\x3e   #将会调用\/bin\/sh -c \x3ccommand\x3e\n      ② RUN [\x26quot;executable\x26quot;, \x26quot;param1\x26quot;, \x26quot;param2\x26quot;] #将会调用exec执行，以避免有些时候shell方式执行时的传递参数问题，而且有些基础镜像可能不包含\/bin\/sh\n 解释：RUN指令会在一个新的容器中执行任何命令，然后把执行后的改变提交到当前镜像，提交后的镜像会被用于Dockerfile中定义的下一步操作，RUN中定义的命令会按顺序执行并提交，这正是Docker廉价的提交和可以基于镜像的任何一个历史点创建容器的好处，就像版本控制工具一样。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e 语法：① \x3cspan class=\x22hljs-keyword\x22\x3eRUN\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x26lt;\x3cspan class=\x22hljs-built_in\x22\x3ecommand\x3c\/span\x3e\x26gt;   \x3cspan class=\x22hljs-comment\x22\x3e#将会调用\/bin\/sh -c \x26lt;command\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e      ② \x3cspan class=\x22hljs-keyword\x22\x3eRUN\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x22executable\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22param1\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22param2\x22\x3c\/span\x3e] \x3cspan class=\x22hljs-comment\x22\x3e#将会调用exec执行，以避免有些时候shell方式执行时的传递参数问题，而且有些基础镜像可能不包含\/bin\/sh\x3c\/span\x3e\n\x3c\/span\x3e 解释：\x3cspan class=\x22hljs-keyword\x22\x3eRUN\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e指令会在一个新的容器中执行任何命令，然后把执行后的改变提交到当前镜像，提交后的镜像会被用于Dockerfile中定义的下一步操作，RUN中定义的命令会按顺序执行并提交，这正是Docker廉价的提交和可以基于镜像的任何一个历史点创建容器的好处，就像版本控制工具一样。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eENV\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 语法：ENV \x3ckey\x3e \x3cvalue\x3e\n 解释：ENV指令用于设置环境变量，在Dockerfile中这些设置的环境变量也会影响到RUN指令，当运行生成的镜像时这些环境变量依然有效，如果需要在运行时更改这些环境变量可以在运行docker run时添加–env \x3ckey\x3e=\x3cvalue\x3e参数来修改。\n 注意：最好不要定义那些可能和系统预定义的环境变量冲突的名字，否则可能会产生意想不到的结果。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e 语法：\x3cspan class=\x22hljs-keyword\x22\x3eENV\x3c\/span\x3e \x26lt;key\x26gt; \x26lt;value\x26gt;\n 解释：\x3cspan class=\x22hljs-keyword\x22\x3eENV\x3c\/span\x3e指令用于设置环境变量，在Dockerfile中这些设置的环境变量也会影响到\x3cspan class=\x22hljs-keyword\x22\x3eRUN\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e指令，当运行生成的镜像时这些环境变量依然有效，如果需要在运行时更改这些环境变量可以在运行docker run时添加–env \x26lt;key\x26gt;=\x26lt;value\x26gt;参数来修改。\n\x3c\/span\x3e 注意：最好不要定义那些可能和系统预定义的环境变量冲突的名字，否则可能会产生意想不到的结果。\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eEXPOSE\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22语法：EXPOSE \x3cport\x3e [ ...]\n解释：EXPOSE指令用来告诉Docker这个容器在运行时会监听哪些端口，Docker在连接不同的容器(使用–link参数)时使用这些信息。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e语法：\x3cspan class=\x22hljs-keyword\x22\x3eEXPOSE\x3c\/span\x3e \x26lt;port\x26gt; [ ...]\n解释：\x3cspan class=\x22hljs-keyword\x22\x3eEXPOSE\x3c\/span\x3e指令用来告诉Docker这个容器在运行时会监听哪些端口，Docker在连接不同的容器(使用–link参数)时使用这些信息。\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eCMD\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22语法： ① CMD [\x26quot;executable\x26quot;, \x26quot;param1\x26quot;, \x26quot;param2\x26quot;]    #将会调用exec执行，首选方式\n      ② CMD [\x26quot;param1\x26quot;, \x26quot;param2\x26quot;]        #当使用ENTRYPOINT指令时，为该指令传递默认参数\n      ③ CMD \x3ccommand\x3e [ \x3cparam1\x3e|\x3cparam2\x3e ]        #将会调用\/bin\/sh -c执行\n解释：CMD指令中指定的命令会在镜像运行时执行，在Dockerfile中只能存在一个，如果使用了多个CMD指令，则只有最后一个CMD指令有效。当出现ENTRYPOINT指令时，CMD中定义的内容会作为ENTRYPOINT指令的默认参数，也就是说可以使用CMD指令给ENTRYPOINT传递参数。\n注意：RUN和CMD都是执行命令，他们的差异在于RUN中定义的命令会在执行docker build命令创建镜像时执行，而CMD中定义的命令会在执行docker run命令运行镜像时执行，另外使用第一种语法也就是调用exec执行时，命令必须为绝对路径。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3e语法： ① \x3cspan class=\x22hljs-keyword\x22\x3eCMD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x22executable\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22param1\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22param2\x22\x3c\/span\x3e]    \x3cspan class=\x22hljs-comment\x22\x3e#将会调用exec执行，首选方式\x3c\/span\x3e\n\x3c\/span\x3e      ② \x3cspan class=\x22hljs-keyword\x22\x3eCMD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e [\x3cspan class=\x22hljs-string\x22\x3e\x22param1\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22param2\x22\x3c\/span\x3e]        \x3cspan class=\x22hljs-comment\x22\x3e#当使用ENTRYPOINT指令时，为该指令传递默认参数\x3c\/span\x3e\n\x3c\/span\x3e      ③ \x3cspan class=\x22hljs-keyword\x22\x3eCMD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x26lt;\x3cspan class=\x22hljs-built_in\x22\x3ecommand\x3c\/span\x3e\x26gt; [ \x26lt;param1\x26gt;|\x26lt;param2\x26gt; ]        \x3cspan class=\x22hljs-comment\x22\x3e#将会调用\/bin\/sh -c执行\x3c\/span\x3e\n\x3c\/span\x3e解释：\x3cspan class=\x22hljs-keyword\x22\x3eCMD\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e指令中指定的命令会在镜像运行时执行，在Dockerfile中只能存在一个，如果使用了多个CMD指令，则只有最后一个CMD指令有效。当出现ENTRYPOINT指令时，CMD中定义的内容会作为ENTRYPOINT指令的默认参数，也就是说可以使用CMD指令给ENTRYPOINT传递参数。\n\x3c\/span\x3e注意：\x3cspan class=\x22hljs-keyword\x22\x3eRUN\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e和CMD都是执行命令，他们的差异在于RUN中定义的命令会在执行docker build命令创建镜像时执行，而CMD中定义的命令会在执行docker run命令运行镜像时执行，另外使用第一种语法也就是调用\x3cspan class=\x22hljs-built_in\x22\x3eexec\x3c\/span\x3e执行时，命令必须为绝对路径。\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e其中还有其他的一些关键字：USER、ENTRYPOINT、VOLUME、ONBUILD等，如果你有兴趣可以自行研究。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e在项目根目录下添加\x3ccode\x3e.dockerignore\x3c\/code\x3e文件，此文件的作用类似\x3ccode\x3e.gitignore\x3c\/code\x3e文件，可以忽略掉添加进镜像中的文件，写法、格式和\x3ccode\x3e.gitignore\x3c\/code\x3e一样，一行代表一个忽略。本项目添加的忽略如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  .DS_Store\n  npm-debug.log*\n  selenium-debug.log\n  .nuxt\/\n  \/package-lock.json\n  *.tar\n  *.md\n\n  # Editor directories and files\n  .idea\n  *.suo\n  *.ntvs*\n  *.njsproj\n  *.sln\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e  .DS_Store\n  npm-debug.\x3cspan class=\x22hljs-keyword\x22\x3elog\x3c\/span\x3e*\n  selenium-debug.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e\n  .nuxt\/\n  \/package-lock.json\n\x3cspan class=\x22hljs-comment\x22\x3e  *.tar\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e  *.md\x3c\/span\x3e\n\n  # Editor directories and files\n  .idea\n\x3cspan class=\x22hljs-comment\x22\x3e  *.suo\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e  *.ntvs*\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e  *.njsproj\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e  *.sln\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e构建镜像\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e查看目前本地docker的镜像\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker images\n\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker images\n\nREPOSITORY          \x3cspan class=\x22hljs-keyword\x22\x3eTAG\x3c\/span\x3e                 \x3cspan class=\x22hljs-title\x22\x3eIMAGE\x3c\/span\x3e ID            CREATED             SIZE\n  \x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3ecd 到项目根目录下，执行以下命令\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker build -t deploy:1.0 .\n\n    Sending build context to Docker daemon  1.436GB\n  .... 此处省略1000个字符。\n  Successfully built d8f0875e967b\n  Successfully tagged deploy:1.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker \x3cspan class=\x22hljs-keyword\x22\x3ebuild \x3c\/span\x3e-t deploy:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e .\n\n    Sending \x3cspan class=\x22hljs-keyword\x22\x3ebuild \x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3econtext\x3c\/span\x3e to Docker daemon  \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e436\x3c\/span\x3eGB\n  .... 此处省略\x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e个字符。\n  Successfully \x3cspan class=\x22hljs-keyword\x22\x3ebuilt \x3c\/span\x3ed\x3cspan class=\x22hljs-number\x22\x3e8f\x3c\/span\x3e0875e\x3cspan class=\x22hljs-number\x22\x3e967b\x3c\/span\x3e\n  Successfully tagged deploy:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3edeploy\x3c\/code\x3e是镜像名，\x3ccode\x3e1.0\x3c\/code\x3e是镜像的版本号，到此你已经成功构建了一个新的镜像，你可以通过\x3ccode\x3edocker images\x3c\/code\x3e，查看你的镜像。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker images\n REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n deploy              1.0                 d8f0875e967b        3 minutes ago        2.11GB\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker images\n REPOSITORY          \x3cspan class=\x22hljs-keyword\x22\x3eTAG\x3c\/span\x3e                 \x3cspan class=\x22hljs-title\x22\x3eIMAGE\x3c\/span\x3e ID            CREATED             SIZE\n deploy              \x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e                 d8f0875e967b        \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e minutes ago        \x3cspan class=\x22hljs-number\x22\x3e2.11\x3c\/span\x3eGB\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e启动镜像，测试是否成功。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker run -d -p 9000:8000 deploy:1.0\n8aec5ee037bb253901d2c2e02c7be546580546c493576139f3789fb660f3401d\n\n\x3e docker ps -a\nCONTAINER ID    IMAGE        COMMAND          CREATED           STATUS         PORTS                  NAMES\n8aec5ee037bb    deploy:1.0   \x26quot;npm start\x26quot;     57 seconds ago    Up 56 seconds  0.0.0.0:9000-\x3e8000\/tcp amazing_bassi\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x3cspan class=\x22hljs-_\x22\x3e-d\x3c\/span\x3e -p 9000:8000 deploy:1.0\n\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3eaec5ee037bb253901d2c2e02c7be546580546c493576139f3789fb660f3401d\n\n\x26gt; docker ps -a\nCONTAINER ID    IMAGE        COMMAND          CREATED           STATUS         PORTS                  NAMES\n\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3eaec5ee037bb    deploy:\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e   \x3cspan class=\x22hljs-string\x22\x3e\x22npm start\x22\x3c\/span\x3e     \x3cspan class=\x22hljs-number\x22\x3e57\x3c\/span\x3e seconds ago    Up \x3cspan class=\x22hljs-number\x22\x3e56\x3c\/span\x3e seconds  \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9000\x3c\/span\x3e-\x26gt;\x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e\/tcp amazing_bassi\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3edocker run -d -p 9000:8000 deploy:1.0\x3c\/code\x3e中\x3ccode\x3e-d\x3c\/code\x3e表示后台运行，\x3ccode\x3e-p 9000:8000\x3c\/code\x3e表示指定本地的9000端口隐射到容器内的8000端口。    \x3ccode\x3edeploy:1.0\x3c\/code\x3e为我们要运行的镜像。通过\x3ccode\x3edocker ps -a\x3c\/code\x3e查看docker的进程（容器的运行本身就是一种特殊的进程）运行情况，发现我们的容器已经在运行。本地可以访问\x3ccode\x3elocalhost:9000\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e通过\x3ccode\x3edocker logs\x3c\/code\x3e可以查看我们容器内应用进程的运行日志。\x3ccode\x3edocker logs \x26lt;CONTAINER ID\x26gt;\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker logs 8aec5ee037bb\n  npm info it worked if it ends with ok\n  npm info using npm@5.0.0\n  npm info using node@v8.0.0\n  npm info lifecycle newlook-deploy@1.0.0~prestart: newlook-deploy@1.0.0\n  npm info lifecycle newlook-deploy@1.0.0~start: newlook-deploy@1.0.0\n  \n  \x3e newlook-deploy@1.0.0 start \/app\n  \x3e node .\/server\/index.js\n  \n  Server listening on 0.0.0.0:8000\n   DONE  Compiled successfully in 9310ms06:55:56\n  \n  \x3e Open http:\/\/0.0.0.0:8000\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker logs \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3eaec5ee037bb\n  npm info \x3cspan class=\x22hljs-keyword\x22\x3eit\x3c\/span\x3e worked \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eit\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eends\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ewith\x3c\/span\x3e ok\n  npm info \x3cspan class=\x22hljs-keyword\x22\x3eusing\x3c\/span\x3e npm@\x3cspan class=\x22hljs-number\x22\x3e5.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\n  npm info \x3cspan class=\x22hljs-keyword\x22\x3eusing\x3c\/span\x3e node@v8\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\n  npm info lifecycle newlook-deploy@\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e~prestart: newlook-deploy@\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\n  npm info lifecycle newlook-deploy@\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e~\x3cspan class=\x22hljs-built_in\x22\x3estart\x3c\/span\x3e: newlook-deploy@\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\n  \n  \x26gt; newlook-deploy@\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3estart\x3c\/span\x3e \/app\n  \x26gt; node .\/server\/index.js\n  \n  Server listening \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e:\x3cspan class=\x22hljs-title\x22\x3e8000\x3c\/span\x3e\n   DONE  Compiled successfully \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e9310\x3c\/span\x3ems06:\x3cspan class=\x22hljs-number\x22\x3e55\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e56\x3c\/span\x3e\n  \n  \x26gt; Open \x3cspan class=\x22hljs-keyword\x22\x3ehttp\x3c\/span\x3e:\/\/\x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 docker stop \x3cCONTAINER ID\x3e可以停止容器运行\n\n docker start \x3cCONTAINER ID\x3e可以启动容器运行\n\n docker restart \x3cCONTAINER ID\x3e可以重启容器\n\n docker rm \x3cCONTAINER ID\x3e -f可以强制删除在运行的容器\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode class=\x22shell\x22\x3e docker \x3cspan class=\x22hljs-keyword\x22\x3estop\x3c\/span\x3e \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eCONTAINER\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eID\x3c\/span\x3e\x26gt;可以停止容器运行\n\n docker \x3cspan class=\x22hljs-keyword\x22\x3estart\x3c\/span\x3e \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eCONTAINER\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eID\x3c\/span\x3e\x26gt;可以启动容器运行\n\n docker restart \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eCONTAINER\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eID\x3c\/span\x3e\x26gt;可以重启容器\n\n docker rm \x26lt;\x3cspan class=\x22hljs-keyword\x22\x3eCONTAINER\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eID\x3c\/span\x3e\x26gt; -f可以强制删除在运行的容器\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e上传镜像（这里用上传到公共仓库来演示）\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e没注册DockerHub的同学，请注册\x3ca href=\x22https:\/\/hub.docker.com\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDockerHub\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e登录docker\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker login\nUsername: XXX\nPassword: XXX\nLogin Succeeded\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs yaml\x22\x3e\x3ccode class=\x22shell\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x26gt; docker login\n\x3c\/span\x3e\x3cspan class=\x22hljs-attr\x22\x3eUsername:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eXXX\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3ePassword:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eXXX\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3eLogin\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3eSucceeded\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3edocker tag \x26lt;name:tag\x26gt; \x26lt;namespace\x26gt;\/\x26lt;name:tag\x26gt;\x3c\/code\x3e上传之前必须给镜像打上tag，\x3ccode\x3enamespace\x3c\/code\x3e可以指定为你的docker Id\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker tag deploy:1.0 lzqs\/deploy:1.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26gt; docker \x3cspan class=\x22hljs-keyword\x22\x3etag\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edeploy\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e lzqs\/deploy:\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3edocker push \x26lt;namespace\x26gt;\/\x26lt;name:tag\x26gt;\x3c\/code\x3e将镜像上传至docker的公共仓库\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker push lzqs\/deploy:1.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x26gt; docker \x3cspan class=\x22hljs-keyword\x22\x3epush \x3c\/span\x3elzqs\/deploy:\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e上传成功后，\x3ccode\x3edocker logout\x3c\/code\x3e 退出，登录 \x3ccode\x3ehttps:\/\/hub.docker.com\/\x3c\/code\x3e 查看上传的镜像。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e下载镜像\x3c\/h4\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e通过\x3ccode\x3edocker pull \x26lt;namespace\x26gt;\/\x26lt;name:tag\x26gt;\x3c\/code\x3e下载我们的镜像。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker pull lzqs\/deploy:1.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-quote\x22\x3e\x26gt; docker pull lzqs\/deploy:1.0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch4\x3e生产部署\x3c\/h4\x3e\n\x3cp\x3e前面说了，我们可以将上传到仓库的镜像下载下来部署，但是如果镜像比较大或者部署环境压根无法联网，你是不是要跪了。所以我们采取另一种方法，将开发好的镜像直接打包保存到安装盘里面，到客户生产环境再将镜像包上传并加载到服务器的docker中即可。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e在开发环境打包，\x3ccode\x3edocker save \x26lt;namespace\x26gt;\/\x26lt;name:tag\x26gt; \x26lt;name\x26gt;.tar\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker save lzqs\/deploy:1.0 \x3e deploy.tar\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-quote\x22\x3e\x26gt; docker save lzqs\/deploy:1.0 \x26gt; deploy.tar\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里\x3ccode\x3els\x3c\/code\x3e会发现目录下生成了deploy.tar的文件。部署时将此文件copy到生产环境服务器上。\x3c\/p\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e确保生产服务器上已经安装了docker，若没装，请参考相关文档，若不装，对不起小生也无力了，然后在服务器上加载上传的镜像包\x3ccode\x3edeploy.tar\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 \x3e docker load \x3c deploy.tar\n\n  007ab444b234: Loading layer [==================================================\x3e] 129.3 MB\/129.3 MB\n  4902b007e6a7: Loading layer [==================================================\x3e] 45.45 MB\/45.45 MB\n  bb07d0c1008d: Loading layer [==================================================\x3e] 126.8 MB\/126.8 MB\n  ecf5c2e2468e: Loading layer [==================================================\x3e] 326.6 MB\/326.6 MB\n  7b3b4fef39c1: Loading layer [==================================================\x3e] 352.3 kB\/352.3 kB\n  677f02386f07: Loading layer [==================================================\x3e] 137.2 kB\/137.2 kB\n  7333bb4665b8: Loading layer [==================================================\x3e] 55.66 MB\/55.66 MB\n  e292e64ffb88: Loading layer [==================================================\x3e] 3.757 MB\/3.757 MB\n  ee76d0e6f6d9: Loading layer [==================================================\x3e] 1.436 GB\/1.436 GB\n  33dca533c6e5: Loading layer [==================================================\x3e] 331.8 kB\/331.8 kB\n  24630015679d: Loading layer [==================================================\x3e] 35.18 MB\/35.18 MB\n  Loaded image: lzqs\/deploy:1.0\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs moonscript\x22\x3e\x3ccode class=\x22shell\x22\x3e \x26gt; docker \x3cspan class=\x22hljs-built_in\x22\x3eload\x3c\/span\x3e \x26lt; deploy.tar\n\n  \x3cspan class=\x22hljs-number\x22\x3e007\x3c\/span\x3e\x3cspan class=\x22hljs-name\x22\x3eab444b234\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e129.3\x3c\/span\x3e MB\/\x3cspan class=\x22hljs-number\x22\x3e129.3\x3c\/span\x3e MB\n  \x3cspan class=\x22hljs-number\x22\x3e4902\x3c\/span\x3e\x3cspan class=\x22hljs-name\x22\x3eb007e6a7\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e45.45\x3c\/span\x3e MB\/\x3cspan class=\x22hljs-number\x22\x3e45.45\x3c\/span\x3e MB\n  \x3cspan class=\x22hljs-name\x22\x3ebb07d0c1008d\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e126.8\x3c\/span\x3e MB\/\x3cspan class=\x22hljs-number\x22\x3e126.8\x3c\/span\x3e MB\n  \x3cspan class=\x22hljs-name\x22\x3eecf5c2e2468e\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e326.6\x3c\/span\x3e MB\/\x3cspan class=\x22hljs-number\x22\x3e326.6\x3c\/span\x3e MB\n  \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e\x3cspan class=\x22hljs-name\x22\x3eb3b4fef39c1\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e352.3\x3c\/span\x3e kB\/\x3cspan class=\x22hljs-number\x22\x3e352.3\x3c\/span\x3e kB\n  \x3cspan class=\x22hljs-number\x22\x3e677\x3c\/span\x3e\x3cspan class=\x22hljs-name\x22\x3ef02386f07\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e137.2\x3c\/span\x3e kB\/\x3cspan class=\x22hljs-number\x22\x3e137.2\x3c\/span\x3e kB\n  \x3cspan class=\x22hljs-number\x22\x3e7333\x3c\/span\x3e\x3cspan class=\x22hljs-name\x22\x3ebb4665b8\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e55.66\x3c\/span\x3e MB\/\x3cspan class=\x22hljs-number\x22\x3e55.66\x3c\/span\x3e MB\n  \x3cspan class=\x22hljs-name\x22\x3ee292e64ffb88\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e3.757\x3c\/span\x3e MB\/\x3cspan class=\x22hljs-number\x22\x3e3.757\x3c\/span\x3e MB\n  \x3cspan class=\x22hljs-name\x22\x3eee76d0e6f6d9\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e1.436\x3c\/span\x3e GB\/\x3cspan class=\x22hljs-number\x22\x3e1.436\x3c\/span\x3e GB\n  \x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e\x3cspan class=\x22hljs-name\x22\x3edca533c6e5\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e331.8\x3c\/span\x3e kB\/\x3cspan class=\x22hljs-number\x22\x3e331.8\x3c\/span\x3e kB\n  \x3cspan class=\x22hljs-number\x22\x3e24630015679\x3c\/span\x3e\x3cspan class=\x22hljs-name\x22\x3ed\x3c\/span\x3e: Loading layer [=================================================\x3cspan class=\x22hljs-function\x22\x3e=\x26gt;\x3c\/span\x3e] \x3cspan class=\x22hljs-number\x22\x3e35.18\x3c\/span\x3e MB\/\x3cspan class=\x22hljs-number\x22\x3e35.18\x3c\/span\x3e MB\n  Loaded \x3cspan class=\x22hljs-name\x22\x3eimage\x3c\/span\x3e: lzqs\/\x3cspan class=\x22hljs-name\x22\x3edeploy\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e加载成功后，\x3ccode\x3edocker images\x3c\/code\x3e即可看到加载的镜像\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker images\n\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nlzqs\/deploy         1.0                 d8f0875e967b        About an hour ago   2.115 GB\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs crmsh\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker images\n\nREPOSITORY          \x3cspan class=\x22hljs-keyword\x22\x3eTAG\x3c\/span\x3e                 \x3cspan class=\x22hljs-title\x22\x3eIMAGE\x3c\/span\x3e ID            CREATED             SIZE\nlzqs\/deploy         \x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e                 d8f0875e967b        About an hour ago   \x3cspan class=\x22hljs-number\x22\x3e2.115\x3c\/span\x3e GB\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e运行\x3ccode\x3elzqs\/deploy\x3c\/code\x3e镜像，成功后，在外部访问服务器的9000端口， \x3ccode\x3e\x26lt;服务器的IP\x26gt;:9000\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker run -d -p 9000:8000 lzqs\/deploy\n1d0db9a5d0c8826171e501b0e86afd444fca8144b1105e63dae8d621bdda7a77\n\n\x3e docker ps -a\nCONTAINER ID  IMAGE           COMMAND      CREATED              STATUS             PORTS                    NAMES\n1d0db9a5d0c8  lzqs\/deploy:1.0 \x26quot;npm start\x26quot;  About a minute ago   Up About a minute  0.0.0.0:9000-\x3e8000\/tcp goofy_curran\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker run -d -\x3cspan class=\x22hljs-selector-tag\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e9000\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e lzqs\/deploy\n\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3ed0db9a5d0c8826171e501b0e86afd444fca8144b1105e63dae8d621bdda7a77\n\n\x26gt; docker ps -\x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e\nCONTAINER ID  IMAGE           COMMAND      CREATED              STATUS             PORTS                    NAMES\n\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3ed0db9a5d0c8  lzqs\/deploy:\x3cspan class=\x22hljs-number\x22\x3e1.0\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22npm start\x22\x3c\/span\x3e  About \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e minute ago   Up About \x3cspan class=\x22hljs-selector-tag\x22\x3ea\x3c\/span\x3e minute  \x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e.\x3cspan class=\x22hljs-number\x22\x3e0.0\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e9000\x3c\/span\x3e-\x26gt;\x3cspan class=\x22hljs-number\x22\x3e8000\x3c\/span\x3e\/tcp goofy_curran\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ccode\x3edocker exec -it \x26lt;CONTAINER ID\x26gt; \/bin\/bash\x3c\/code\x3e 可以进入容器中执行，方便我们查看内部文件和调试\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3e docker exec -it 1d0db9a5d0c8 \/bin\/bash\n\nroot@1d0db9a5d0c8:\/app#\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode class=\x22shell\x22\x3e\x26gt; docker exec -it \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3ed0db9a5d0c8 \/bin\/bash\n\nroot\x3cspan class=\x22hljs-variable\x22\x3e@1d0db9a5d0c8\x3c\/span\x3e\x3cspan class=\x22hljs-symbol\x22\x3e:\/app\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e#\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e战功，访问部署的docker应用，\x3ccode\x3e\x26lt;服务器的IP\x26gt;:9000\x3c\/code\x3e，效果如下图：\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010541796\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010541796\x22 alt=\x22deploy\x22 title=\x22deploy\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e小结\x3c\/h3\x3e\n\x3cp\x3e七月流火，程序员的好日子要到了，当然也是大家的好日子快到了，适宜的温度应该更加高产。关于docker的研究还在进行中，为了前端更好的发展，让我们继续燥起来吧，毕竟没有什么是一段JS解决不了的。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Docker部署基于Nodejs的Web应用-实战篇</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010541792">https://segmentfault.com/a/1190000010541792</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/g10wper34i/" target="_blank">https://alili.tech/archive/g10wper34i/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>