<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="再谈移动端适配和点5像素的由来"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>再谈移动端适配和点5像素的由来 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/4zkauvdwqt/",
				"appid": "1613049289050283", 
				"title": "再谈移动端适配和点5像素的由来 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-02T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/yofndlbrn6r/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/snv43p810ji/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&text=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&text=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&title=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&is_video=false&description=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&title=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&title=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&title=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f4zkauvdwqt%2f&title=%e5%86%8d%e8%b0%88%e7%a7%bb%e5%8a%a8%e7%ab%af%e9%80%82%e9%85%8d%e5%92%8c%e7%82%b95%e5%83%8f%e7%b4%a0%e7%9a%84%e7%94%b1%e6%9d%a5"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">再谈移动端适配和点5像素的由来</h1><div class="meta"><div class="postdate"><time datetime="2019-02-02" itemprop="datePublished">2019-02-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e前言\x3c\/h1\x3e\n\x3cp\x3e这篇文章的内容如题目一样，主要分为两个部分，\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e谈谈业内主流的移动端适配解决方案\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e点5像素的由来和实现方法\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e建议在读这篇文章的时候先读下这篇文章\x3ca href=\x22https:\/\/github.com\/zhiqiang21\/blog\/issues\/29\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《高清屏概念解析与检测设备像素比的方法_20161005》\x3c\/a\x3e，因为这些文章涉及的很多概念在这篇文章中都会提到。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e\x3cstrong\x3e1.再谈移动端适配\x3c\/strong\x3e\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e1.1百分比解决方案的缺点\x3c\/h3\x3e\n\x3cp\x3e在我们的项目中大量的使用百分比来解决页面在宽度上的自适应，其实在高度上并没有很好的自适应。所以在我们的前端页面会出现一些比较奇怪的问题。比如下面这样：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081492?w=623\x26amp;h=871\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081492?w=623\x26amp;h=871\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e还有一个比较明显的问题就是：\x3cstrong\x3e在任何机型上我们的按钮的高度是不会变化自适应的，所以小屏手机我们的按钮看起来很臃肿。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e1.2一些常用单位的概念解析\x3c\/h3\x3e\n\x3cp\x3e在谈我为什么在我们的项目中引入\x3ccode\x3erem\x3c\/code\x3e单位的时候，先来详细的了解几个常用的单位概念。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3epx像素（Pixel）\x3c\/code\x3e。相对长度单位。像素\x3ccode\x3epx\x3c\/code\x3e是相对于显示器屏幕分辨率而言的（也就是说是跟物理设备有关的）。拿高清屏和普通屏来做对比就是普通屏幕的\x3cstrong\x3e1个像素点\x3c\/strong\x3e就是\x3cstrong\x3e1个物理像素点\x3c\/strong\x3e，而高清屏的\x3cstrong\x3e1个像素点\x3c\/strong\x3e是\x3cstrong\x3e4个物理像素点\x3c\/strong\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eem\x3c\/code\x3e相对长度单位。相对于当前对象内文本的字体尺寸。如当前对行内文本的字体尺寸未被人为设置，则相对于浏览器的默认字体尺寸。\x3ccode\x3eem\x3c\/code\x3e单位的特点：1. em的值并不是固定的；2. em会继承父级元素的字体大小。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3erem\x3c\/code\x3e相对长度单位。rem是CSS3新增的一个相对单位，这个单位引起了广泛关注。这个单位与em有什么区别呢？区别在于使用rem为元素设定字体大小时，仍然是相对大小，但相对的只是HTML根元素。这个单位可谓集相对大小和绝对大小的优点于一身，通过它既可以做到只修改根元素就成比例地调整所有字体大小，又可以避免字体大小逐层复合的连锁反应。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e任意浏览器的默认字体高都是16px\x3c\/strong\x3e。所有未经调整的浏览器都符合: 1rem=16px。那么12px=0.75rem,10px=0.625rem。为了简化font-size的换算，需要在css中的html选择器中声明font-size=62.5%，这就使rem值变为 16px*62.5%=10px, 这样12px=1.2rem, 10px=1rem, 也就是说只需要将原来的px数值除以10，然后换上rem作为单位就行了。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e注意：当我们在根节点\x3ccode\x3e\x26lt;html\x26gt;\x3c\/code\x3e上设置了\x3ccode\x3efont-size\x3c\/code\x3e基准值以后，在文档中有使用\x3ccode\x3erem\x3c\/code\x3e单位的属性值都是相对于根节点\x3ccode\x3efont-size\x3c\/code\x3e的一个相对值。比如说一些元素的属性如\x3ccode\x3ewidth\x3c\/code\x3e \x3ccode\x3eheight\x3c\/code\x3e \x3ccode\x3emargin\x3c\/code\x3e等。也正是这个原因，现在很多网站的移动端网站都在使用\x3ccode\x3erem\x3c\/code\x3e单位作为适配工具。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e在使用\x3ccode\x3erem\x3c\/code\x3e的时候比较麻烦的就是\x3ccode\x3epx\x3c\/code\x3e和\x3ccode\x3erem\x3c\/code\x3e换算的问题。上面的\x3cstrong\x3e除10\x3c\/strong\x3e的方案是比较简单的。但是根据设置基准值的不同换算方法也不一样。如果我们使用scss来写我们的样式表的话，解决方法就比较简单了，代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@function px2rem($px){\n    @return ($px\/10)\/2 \x2b rem;  \/\/  相当于$px\/20  \x2brem\n}\n\nwidth:px2rem(100px);   \/\/5rem\nheight:px2rem(200px);  \/\/10rem\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22scss hljs\x22\x3e\x3ccode class=\x22scss\x22\x3e@function px2rem(\x3cspan class=\x22hljs-variable\x22\x3e$px\x3c\/span\x3e){\n    @return (\x3cspan class=\x22hljs-variable\x22\x3e$px\x3c\/span\x3e\/\x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e)\/\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e \x2b rem;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/  相当于$px\/20  \x2brem\x3c\/span\x3e\n}\n\n\x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:px2rem(\x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e);   \x3cspan class=\x22hljs-comment\x22\x3e\/\/5rem\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:px2rem(\x3cspan class=\x22hljs-number\x22\x3e200px\x3c\/span\x3e);  \x3cspan class=\x22hljs-comment\x22\x3e\/\/10rem\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e1.3为什么引入 rem 单位\x3c\/h3\x3e\n\x3cp\x3e由上面的内容已经知道百分比单位在多屏幕适配上的缺点和\x3ccode\x3erem\x3c\/code\x3e单位的优点。那么\x3ccode\x3erem\x3c\/code\x3e单位能为我们的开发带来什么呢？来看一个常见的多列布局，淘宝移动端的商品列表页，如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081493?w=812\x26amp;h=580\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081493?w=812\x26amp;h=580\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e设计稿（不管是iphone6的二倍稿还是iphone5的二倍稿）中给展示商品的坑位的宽高比是固定的。为了能够使这个列表在不同的屏幕上达到最佳的显示效果，需要保持宽度和高度比一致。如果使用百分比肯定是满足不了这个需求的，因为高度上我们没有办法控制。\x3c\/p\x3e\n\x3cp\x3eiphone6和iphone5的屏幕宽度和高度比不一样，当我们使用百分比做多列布局的时候就会出现下面的这种情况：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081494?w=1148\x26amp;h=832\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081494?w=1148\x26amp;h=832\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e所以为了满足商品坑位在不同屏幕上的宽高比一致，淘宝使用的是\x3ccode\x3erem\x3c\/code\x3e的解决方案，也是目前最好的解决方案。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e1.3为什么将计算根元素的\x3ccode\x3efont-size\x3c\/code\x3e值的js放在\x3ccode\x3ehead\x3c\/code\x3e标签中\x3c\/h3\x3e\n\x3cp\x3e设置根节点\x3ccode\x3efont-size\x3c\/code\x3e值的方法，第一种是使用css的\x3ccode\x3eMedia queries\x3c\/code\x3e，示例代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@media (min-device-width : 375px) and (max-device-width : 667px) and (-webkit-min-device-pixel-ratio : 2){\n      html{font-size: 37.5px;}\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e@\x3cspan class=\x22hljs-keyword\x22\x3emedia\x3c\/span\x3e (min-device-width : \x3cspan class=\x22hljs-number\x22\x3e375px\x3c\/span\x3e) and (max-device-width : \x3cspan class=\x22hljs-number\x22\x3e667px\x3c\/span\x3e) and (-webkit-min-device-pixel-ratio : \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e){\n      \x3cspan class=\x22hljs-selector-tag\x22\x3ehtml\x3c\/span\x3e{\x3cspan class=\x22hljs-attribute\x22\x3efont-size\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e37.5px\x3c\/span\x3e;}\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的这种方式在我之前做过的项目中使用了一段时间。上面的设置方法有一个很明显的问题\x3ccode\x3efont-size\x3c\/code\x3e是在一个屏幕宽度的区间上有一个基准值。像安卓手机种类的繁多，屏幕大小就更多的情况下，上面的方法很鸡肋。\x3c\/p\x3e\n\x3cp\x3e第二种解决方案，\x3cstrong\x3e就是使用JavaScript根据当前屏幕的宽度动态计算\x3ccode\x3efont-size\x3c\/code\x3e值，这种方法可以保证屏幕宽度连续变化的时候，\x3ccode\x3efont-size\x3c\/code\x3e基准值也是连续变化的\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e计算方法可以参考这篇文章\x3ca href=\x22https:\/\/github.com\/zhiqiang21\/blog\/issues\/1\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《根据iPhone6设计稿动态计算rem值》\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e那么最后一个问题也来了：为什么将计算rem单位的js放在head标签里面？\x3c\/p\x3e\n\x3cp\x3e一句话总结：\x3cstrong\x3e在浏览器中文档流是从上往下加载渲染的。为了保证发生不必要的\x3cem\x3e重绘\x3c\/em\x3e或者是\x3cem\x3e重排\x3c\/em\x3e肯定是越早给根节点设置\x3ccode\x3efont-size\x3c\/code\x3e值越好。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e1.4什么情况下使用rem来布局和注意的问题\x3c\/h3\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e整体的布局还是使用百分比\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用rem的最佳场景是,遇到例如多列带有图片的列表,常常需要图片固定宽高比例\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e研究了一些网站，比如淘宝，对字体字体一般情况建议使用px\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e出现\x3ccode\x3e1px\x3c\/code\x3e像素线的地方，仍旧使用\x3ccode\x3eborder-width:1px;\x3c\/code\x3e而不是\x3ccode\x3eborder-width:.1rem;\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e\x3cstrong\x3e2.点5像素的由来\x3c\/strong\x3e\x3c\/h2\x3e\n\x3cp\x3e在前言中推荐阅读的那篇文章中已经知道在 \x3ccode\x3e高清屏(Retina) \x3c\/code\x3e中控制显示的最小的物理单元包括4个基本的像素点，而普通屏幕1个点像素就是1个物理像素单元。所以在\x3ccode\x3e高清屏（Retina）\x3c\/code\x3e出来之前，就算我们在css中写 \x3ccode\x3e0.5px\x3c\/code\x3e，对于显示屏幕也是不识别的。但是在\x3ccode\x3e高清屏（Retina）\x3c\/code\x3e中我们可以通过间接的方法实现\x3ccode\x3e0.5px\x3c\/code\x3e的效果。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e下面的这张图可能能让我们迅速回忆上篇文章的内容\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081495?w=1664\x26amp;h=718\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081495?w=1664\x26amp;h=718\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e来看一段简单的示例代码加深理解：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;item1\x26quot;\x3e\x3c\/div\x3e\n\x3cdiv class=\x26quot;item2\x26quot;\x3e\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ecss代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.item1{\n    width:100px;\n    height:50px;\n    border-top:1px solid #000;\n    float: left;\n    margin-top:10px;\n}\n\n.item2{\n    width:100px;\n    height:50px;\n    margin-top:10px;\n    border-top:.5px solid #de1dfb;\n    float: left;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.item1\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e50px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder-top\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#000\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: left;\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin-top\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10px\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.item2\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e50px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin-top\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e10px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder-top\x3c\/span\x3e:.\x3cspan class=\x22hljs-number\x22\x3e5px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#de1dfb\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3efloat\x3c\/span\x3e: left;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3echrome中的显示效果如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081496?w=918\x26amp;h=122\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081496?w=918\x26amp;h=122\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e我把这张图截取下来放到 \x3cstrong\x3ePS\x3c\/strong\x3e 中放大可以很明显的看到一些问题。就是高清屏实际上是用了两排的物理像素点来显示\x3ccode\x3e1px\x3c\/code\x3e的像素线。且不做特殊处理的话\x3ccode\x3e1px\x3c\/code\x3e和\x3ccode\x3e0.5px\x3c\/code\x3e的在\x3cstrong\x3eChrome浏览器\x3c\/strong\x3e中显示效果是相同的。也就是说\x3cstrong\x3eChrome浏览器\x3c\/strong\x3e不识别\x3ccode\x3e0.5px\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081497?w=736\x26amp;h=268\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081497?w=736\x26amp;h=268\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e但是相同的代码我在 \x3cstrong\x3esafari浏览器\x3c\/strong\x3e中的效果却是下面的效果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081498?w=544\x26amp;h=290\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081498?w=544\x26amp;h=290\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e下面的效果是我在PS中做了放大后的效果。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081499?w=1032\x26amp;h=354\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081499?w=1032\x26amp;h=354\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e所以，我们可以得出一个结论：对于\x3ccode\x3e0.5px\x3c\/code\x3e不同浏览器对它的识别是存在差异的。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e以下这张图是一位网友对一些常用设备是否识别\x3ccode\x3e0.5px\x3c\/code\x3e做的统计：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081500?w=832\x26amp;h=377\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081500?w=832\x26amp;h=377\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e其实从视觉的感受上来说\x3ccode\x3e0.5px\x3c\/code\x3e像素的显示效果确实是比\x3ccode\x3e1px\x3c\/code\x3e的显示效果要好很多。大多数情况下也更符合设计稿上的\x3ccode\x3e1px\x3c\/code\x3e线的效果。那么我们有没有办法可以让\x3ccode\x3e1px\x3c\/code\x3e在不同的浏览器和设备中显示真正的\x3cstrong\x3e1像素\x3c\/strong\x3e的效果呢？\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e答案是肯定定的。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e2.1传统的实现方法，也就是我们的项目中正在使用的方法：\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e伪元素 \x2b css3的缩放巧妙地实现；\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e基本步骤就是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e设置目标元素定位参照\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e给目标元素添加一个伪元素before或者after，并设置绝对定位\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e给伪元素添上1px的边框\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e设置伪元素的宽高为目标元素的2倍\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e缩小0.5倍（变回目标元素的大小）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用border-box把border包进来\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e先来看一个\x3ccode\x3e1像素\x3c\/code\x3e和\x3ccode\x3e0.5像素\x3c\/code\x3e的显示效果，下面的截图是在chrome中：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081501?w=500\x26amp;h=494\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081501?w=500\x26amp;h=494\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e实现的代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;item4\x26quot;\x3e测试用的边框\x3c\/div\x3e\n\x3cdiv class=\x26quot;item5\x26quot;\x3e测试用的边框\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item4\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e测试用的边框\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item5\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e测试用的边框\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.item4, .item5 {\n    width: 200px;\n    height: 100px;\n    position: relative;\n}\n\n.item4 {\n    border: 1px solid #000;\n}\n\n.item5::before {\n    content: \x27\x27;\n    position: absolute;\n    width: 200%;\n    height: 200%;\n    border: 1px solid #000;\n    transform-origin: 0 0;\n    transform: scale(0.5, 0.5);\n    box-sizing: border-box;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.item4\x3c\/span\x3e, \x3cspan class=\x22hljs-selector-class\x22\x3e.item5\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: relative;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.item4\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#000\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-selector-class\x22\x3e.item5\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e::before\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200%\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200%\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#000\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3etransform-origin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3escale\x3c\/span\x3e(0.5, 0.5);\n    \x3cspan class=\x22hljs-attribute\x22\x3ebox-sizing\x3c\/span\x3e: border-box;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以很明显的看到缩放前和缩放后的效果。在ps中把上面的截图放大很多倍以后我们可以看到显示细节。\x3cstrong\x3e缩放以后确实是使用的最小的物理像素单元来显示边框。\x3c\/strong\x3e如下图：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081502?w=840\x26amp;h=532\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081502?w=840\x26amp;h=532\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e注意：按照css3 \x3ccode\x3etransform\x3c\/code\x3e 的\x3ccode\x3escale\x3c\/code\x3e的定义，理论上边框可以任意细（1\/n px）\x3c\/strong\x3e。但是上图中已经是物理设备能够使用的最小的物理单元了，那么我们继续缩放会有什么现象呢？\x3c\/p\x3e\n\x3cp\x3e使用一下代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;item6\x26quot;\x3e测试用的边框\x3c\/div\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item6\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e测试用的边框\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.item6::before {\n    content: \x27\x27;\n    position: absolute;\n    width: 400%;\n    height: 400%;\n    border: 1px solid #000;\n    transform-origin: 0 0;\n    transform: scale(0.25, 0.25);\n    box-sizing: border-box;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22css hljs\x22\x3e\x3ccode class=\x22css\x22\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.item6\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e::before\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n    \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e400%\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e400%\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3eborder\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1px\x3c\/span\x3e solid \x3cspan class=\x22hljs-number\x22\x3e#000\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3etransform-origin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3escale\x3c\/span\x3e(0.25, 0.25);\n    \x3cspan class=\x22hljs-attribute\x22\x3ebox-sizing\x3c\/span\x3e: border-box;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3echrome中显示效果如下，可以很明显的看到颜色变浅了，但是是否变得更细了我们肉眼无法分辨：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081503?w=556\x26amp;h=696\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081503?w=556\x26amp;h=696\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在PS中放大以后的效果：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007081504?w=826\x26amp;h=644\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007081504?w=826\x26amp;h=644\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e很明显可以看到线并没有变细，但是线的颜色确实是变浅了。这样的结果也符合我们的预期，就是已经到了物理设备能够显示一块颜色的最小的物理单元了。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e2.2js动态设置\x3ccode\x3eviewport\x3c\/code\x3e的方案\x3c\/h3\x3e\n\x3cp\x3e一些大厂（所谓的淘宝）的解决方案就是使用js动态获取屏幕的\x3cstrong\x3e设备像素比\x3c\/strong\x3e，然后动态设置\x3ccode\x3eviewport\x3c\/code\x3e。当然也是我认为目前最好的解决方案。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22meta.setAttribute(\x27content\x27, \x27initial-scale=\x27 \x2b 1\/dpr \x2b \x27, maximum-scale=\x27 \x2b 1\/dpr \x2b \x27, minimum-scale=\x27 \x2b 1\/dpr \x2b \x27, user-scalable=no\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3emeta.setAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27initial-scale=\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\/dpr \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27, maximum-scale=\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\/dpr \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27, minimum-scale=\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\/dpr \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27, user-scalable=no\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们知道，一般我们获取到的视觉稿大部分是iphone6的，所以我们看到的尺寸一般是双倍大小的，在使用rem之前，我们一般会自觉的将标注\/2，其实这也并无道理，但是当我们配合rem使用时，完全可以按照视觉稿上的尺寸来设置。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e设计给的稿子双倍的原因是iphone6这种屏幕属于高清屏，也即是设备像素比(device pixel ratio)dpr比较大，所以显示的像素较为清晰。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e一般手机的dpr是1，iphone4，iphone5这种高清屏是2，iphone6s plus这种高清屏是3，可以通过js的window.devicePixelRatio获取到当前设备的dpr，所以iphone6给的视觉稿大小是（*2）750×1334了。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e拿到了dpr之后，我们就可以在viewport meta头里，取消让浏览器自动缩放页面，而自己去设置viewport的content例如（这里之所以要设置viewport是因为我们要实现border1px的效果，在scale的影响下，高清屏中就会显示成0.5px的效果）\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch1 id=\x22articleHeader10\x22\x3e总结：\x3c\/h1\x3e\n\x3cp\x3e由以上两个部分的内容可以知道，不管是在做多终端适配还是实现点5像素的线，都是存在css和js两种解决方案的。两种方案相比来说，我都认为使用JavaScript的解决方案都胜一筹。唯一的缺点就是会在html的head标签中引入一段js代码 。\x3c\/p\x3e\n\x3cp\x3e记得刚入行的时候，业内有一个叫“雅虎军规”的东西，是好多前端做页面优化参考的标准。其中有一条就是要将js文件放在\x3ccode\x3ebody\x3c\/code\x3e标签的底部。到现在很多年了，时代在变化，我们的网络带宽也在提升，“雅虎军规”中的一些内容，可能有些已经不适合我们现在应用开发的场景。而且我觉的做技术不应该拘泥于已有的一些规定，而应该按照我们的场景选择适合我们的技术和解决方案。\x3c\/p\x3e\n\x3cp\x3e纵然有瑕疵，有些也是可以通过技术手段来解决的。比如在\x3ccode\x3ehead\x3c\/code\x3e标签中引入计算\x3ccode\x3efont-size\x3c\/code\x3e和检测\x3ccode\x3e设备独立像素比\x3c\/code\x3e的js的时候，会担心js的执行阻塞页面的渲染。而我们完全可以通过\x3ccode\x3ereview\x3c\/code\x3e的方式确定js代码的执行不会出现阻塞，而影响文档流的加载。\x3c\/p\x3e\n\x3cp\x3e还是那句话：\x3cstrong\x3e没有十全十美的技术方案，只有适合不合适当前业务场景的技术方案。\x3c\/strong\x3e。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader11\x22\x3e参考文章\x3c\/h1\x3e\n\x3cp\x3e[css3的字体大小单位[rem]到低好在哪里](\x3ca href=\x22https:\/\/www.zhihu.com\/question\/21504656)\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.zhihu.com\/questio...\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.html-js.com\/article\/Mobile-terminal-H5-mobile-terminal-HD-multi-screen-adaptation-scheme%203041\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e移动端高清、多屏适配方案\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/amfe\/article\/issues\/17\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e使用Flexible实现手淘H5页面的终端适配\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/amfe\/lib-flexible\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elib-flexible源代码\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/zhiqiang21\/blog\/blob\/master\/README.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000005987143\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000005987143\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>再谈移动端适配和点5像素的由来</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007081489">https://segmentfault.com/a/1190000007081489</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/4zkauvdwqt/" target="_blank">https://alili.tech/archive/4zkauvdwqt/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>