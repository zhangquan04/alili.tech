<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="轻松10步用es6写出俄罗斯方块"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>轻松10步用es6写出俄罗斯方块 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/sxywlh8l8o/",
				"appid": "1613049289050283", 
				"title": "轻松10步用es6写出俄罗斯方块 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-27T02:31:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/vlny2qmbo4f/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/0skcvoxz0cqg/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&text=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&text=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&title=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&is_video=false&description=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&title=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&title=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&title=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fsxywlh8l8o%2f&title=%e8%bd%bb%e6%9d%be10%e6%ad%a5%e7%94%a8es6%e5%86%99%e5%87%ba%e4%bf%84%e7%bd%97%e6%96%af%e6%96%b9%e5%9d%97"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">轻松10步用es6写出俄罗斯方块</h1><div class="meta"><div class="postdate"><time datetime="2019-01-27" itemprop="datePublished">2019-01-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e目的\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e为熟悉es6增加趣味性\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提高开发动力\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ebalabalabala....编不下去了\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e注意\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22俄罗斯方块用es6写,无经过babel转es5,示例请用支持es6的chrome\n俄罗斯方块用es6写,无经过babel转es5,示例请用支持es6的chrome.\n俄罗斯方块用es6写,无经过babel转es5,示例请用支持es6的chrome.\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e俄罗斯方块用es6写,无经过\x3cspan class=\x22hljs-keyword\x22\x3ebabel转es5,示例请用支持es6的chrome\n\x3c\/span\x3e俄罗斯方块用es6写,无经过\x3cspan class=\x22hljs-keyword\x22\x3ebabel转es5,示例请用支持es6的chrome.\n\x3c\/span\x3e俄罗斯方块用es6写,无经过\x3cspan class=\x22hljs-keyword\x22\x3ebabel转es5,示例请用支持es6的chrome.\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e实现\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e第零步:构思\x3ccode\x3e俄罗斯方块\x3c\/code\x3e的形状\x26amp;规则\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e形状\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIuu2?w=1273\x26amp;h=723\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIuu2?w=1273\x26amp;h=723\x22 alt=\x22俄罗斯方块\x22 title=\x22俄罗斯方块\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e每个\x3ccode\x3e方块\x3c\/code\x3e都可看作一个二维数组,需要填充的部分为1,留空为0.\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e规则\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e上方向键 ===\x26gt; 方块顺时针形变\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e左方向键 ===\x26gt; 方块向左移动\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e右方向键 ===\x26gt; 方块向右移动\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e空格键 ===\x26gt; 方块加速下落\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e方块掉落自动掉落\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e方块集齐满一排消除\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e方块到顶部视为失败\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e第一步:让方块出现\x26amp;动起来\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22在`document.body`添加一个方块,并绑定`document.onkeydown`,让方块跟随键盘方向键动起来.\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autohotkey\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e在`document.body`添加一个方块,并绑定`document.onkeydown`,让方块跟随键盘方向键动起来.\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/blob\/master\/first-step\/index.css\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e添加方块样式\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/blob\/master\/first-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e添加js交互\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/first-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e第二步:让方块在规定画布上动起来\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22在`document.body`添加一个画布,每次方块运动前判断对应方向能否移动\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs autohotkey\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e在`document.body`添加一个画布,每次方块运动前判断对应方向能否移动\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIzvR?w=761\x26amp;h=685\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIzvR?w=761\x26amp;h=685\x22 alt=\x22边界设定\x22 title=\x22边界设定\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/second-step\/index.css\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e添加site样式\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/second-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e添加边界限定js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/second-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e第三步:根据数组矩阵画出\x3ccode\x3e俄罗斯方块\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e根据数组矩阵判断值为1的下标,利用得到的下标对各个小方块进行定位,从而得出一整块\x3ccode\x3e俄罗斯方块\x3c\/code\x3e.\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e判断能否移动则根据绘制出的\x3ccode\x3e俄罗斯方块\x3c\/code\x3e取最值,根据最值比对边界即可.\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIzF7?w=761\x26amp;h=685\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIzF7?w=761\x26amp;h=685\x22 alt=\x22偏移量最值比较\x22 title=\x22偏移量最值比较\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/third-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e矩阵判断\x26amp;最值与边界对比js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/third-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e第四步:\x3ccode\x3e俄罗斯方块\x3c\/code\x3e形变\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e利用变量记录\x3ccode\x3e俄罗斯方块\x3c\/code\x3e当前位置\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e数组矩阵顺时针旋转后返回数组矩阵\x26amp;每个方块的偏移量\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e利用矩阵判断\x3ccode\x3e俄罗斯方块\x3c\/code\x3e能移动的边界\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIzWU?w=729\x26amp;h=491\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIzWU?w=729\x26amp;h=491\x22 alt=\x22方块形变\x22 title=\x22方块形变\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/fourth-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e改用变量代替常量\x26amp;方块形变js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/fourth-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e第五步:\x3ccode\x3e俄罗斯方块\x3c\/code\x3e自由下落\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e利用setTimeout方法指定一定时间下方块下落20px\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e每次下落期间判断当前\x3ccode\x3e方块\x3c\/code\x3e可移动边界\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当前\x3ccode\x3e方块\x3c\/code\x3e不可再位移时,\x3ccode\x3e方块\x3c\/code\x3e变灰,新的\x3ccode\x3e方块\x3c\/code\x3e出现\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/fifth-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e方块自由下落\x26amp;统一边界js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/fifth-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e第六步:\x3ccode\x3e俄罗斯方块\x3c\/code\x3e消除\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e每次\x3ccode\x3e俄罗斯方块\x3c\/code\x3e下落结束时,判断每一行小方块个数\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3e方块\x3c\/code\x3e个数等于画布宽度\/\x3ccode\x3e方块\x3c\/code\x3e,则取出该行\x3ccode\x3e方块\x3c\/code\x3e集合并从\x3ccode\x3edocument.body\x3c\/code\x3e消除\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e消除后将高度高于该消除行的\x3ccode\x3e方块\x3c\/code\x3e掉落一个\x3ccode\x3e方块\x3c\/code\x3e高度\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIED6?w=609\x26amp;h=580\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIED6?w=609\x26amp;h=580\x22 alt=\x22方块消除\x22 title=\x22方块消除\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/sixth-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e消除行js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/sixth-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e第七步:加速下落\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e让\x3ccode\x3e方块\x3c\/code\x3e在按空格键的时候,下落2个单位的BLOCK_SIZE,也就是40px\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e需要在\x3ccode\x3ecanMove\x3c\/code\x3e函数中添加\x3ccode\x3edisplacement\x3c\/code\x3e(位移)参数标识\x3ccode\x3e方块\x3c\/code\x3e下落的位移量\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e判断\x3ccode\x3e方块\x3c\/code\x3e是否到达最高位置,需要加上位移量的距离\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/seventh-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e加速下落js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/seventh-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e第八步:判断游戏GG\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e判断已下落\x3ccode\x3e方块\x3c\/code\x3e是否到达画布顶端\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e增加游戏结束填充动画\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/eighth-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e游戏结束js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/eighth-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e第九步:增加随机下落\x3ccode\x3e方块\x3c\/code\x3e\n\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e将\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008181905#articleHeader3\x22\x3e第零步\x3c\/a\x3e的形状添加进变量arrs数组\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e用\x3ccode\x3eMath.random\x3c\/code\x3e在每次初始化\x3ccode\x3e方块\x3c\/code\x3e时,随机挑选arrs中的一个二维数组进行渲染\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/ninth-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e随机方块js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/ninth-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e第十步:增加游戏信息\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e增加计分板\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e增加等级判断\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e增加下一个方块提示\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e增加操作提示\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/tenth-step\/index.css\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e提示info css\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\/tree\/master\/tenth-step\/index.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e游戏信息js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/tenth-step\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本步骤示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader14\x22\x3e传送门\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e写到这里无耻求\x3ccode\x3estar\x3c\/code\x3e \x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22relaxed\x22 title=\x22relaxed\x22\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e写到这里无耻求\x3ccode\x3estar\x3c\/code\x3e \x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22relaxed\x22 title=\x22relaxed\x22\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e写到这里无耻求\x3ccode\x3estar\x3c\/code\x3e \x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22relaxed\x22 title=\x22relaxed\x22\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e若本教程对你有启发或帮助,各位看官请到github上点\x3ccode\x3estar\x3c\/code\x3e,给我动力\x3cimg src=\x22https:\/\/static.alili.techundefined\x22 class=\x22emoji\x22 alt=\x22smirk\x22 title=\x22smirk\x22\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/timmyLan\/tetris\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub地址\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/timmylan.github.io\/tetris\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e本教程示例\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>轻松10步用es6写出俄罗斯方块</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008181905">https://segmentfault.com/a/1190000008181905</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/sxywlh8l8o/" target="_blank">https://alili.tech/archive/sxywlh8l8o/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>