<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Redux概念之二: Redux的三大原则"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Redux概念之二: Redux的三大原则 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/9gngp6sg77/",
				"appid": "1613049289050283", 
				"title": "Redux概念之二: Redux的三大原则 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-27T02:31:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ktc291v9lq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/kn3l7fwd55/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&text=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&text=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&title=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&is_video=false&description=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&title=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&title=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&title=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f9gngp6sg77%2f&title=Redux%e6%a6%82%e5%bf%b5%e4%b9%8b%e4%ba%8c%3a%20Redux%e7%9a%84%e4%b8%89%e5%a4%a7%e5%8e%9f%e5%88%99"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Redux概念之二: Redux的三大原则</h1><div class="meta"><div class="postdate"><time datetime="2019-01-27" itemprop="datePublished">2019-01-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3eRedux里的强硬规则与设计不少，大部份都会与FP(函数式程序开发)、改进原本的Flux架构设计有关。Redux官网文档上的三大基本原则，主要是因为有可能怕初学者不理解Redux中的一些限制或设计，所以先写出来说明，这里面也说明了Redux的设计原理基础是如何，所以强烈建议所有的初学者一定要彻底地理解这三大原则中的意义，多看几遍，对日后的学习会很有帮助。以下分别说明，主要以原文的标题与内容说明，尽可以说明的比较清楚些。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e单一真相来源\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e你的整个应用中的state(状态)，会存储在单一个store(存储)之中的一个对象树状结构里。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eRedux中只有用单一个对象大树结构来的存储整个应用的状态，也就是整个应用中会用到的数据，称之为\x3ccode\x3estore\x3c\/code\x3e(存储)。但要注意的是\x3ccode\x3estore\x3c\/code\x3e(存储)并不是只有单纯的数据而已。\x3ccode\x3estore\x3c\/code\x3e就是应用程序领域的状态，它是类型MVC中的Model(模型的)设计的概念，这设计是由Flux架构而来的，在原本的Flux架构中是允许多个\x3ccode\x3estore\x3c\/code\x3e的结构，Redux简化为只有单一个。\x3c\/p\x3e\n\x3cp\x3eRedux的单一个store的设计有一些好处，对开发者来说，它可以容易调试与观察状态的变化，状态存储于对象树状结构中，也很容易作到重作\/复原(Undo\/Redo)的功能。因为只有一个\x3ccode\x3estore\x3c\/code\x3e，但如果\x3ccode\x3estore\x3c\/code\x3e里要储放多个不同的状态对象，以及每次的更动数据，自然就会变成了对象树状结构(object tree)。\x3c\/p\x3e\n\x3cp\x3e此外，如果你想要从store中取出目前的状态数据，可以用store的\x3ccode\x3egetState()\x3c\/code\x3e方法。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e状态是唯读的\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e唯一能更动状态的是发送一个\x3ccode\x3eaction\x3c\/code\x3e(动作)，\x3ccode\x3eaction\x3c\/code\x3e是一个描述\x22发生了什么事\x22的纯对象\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e这里指的\x22状态\x22，是上面说的储放在store中的状态数据，你\x22不能直接\x22对其中的状态数据更动，只能\x22间接\x22地作这事。这与原先的React中的\x3ccode\x3estate\x3c\/code\x3e与\x3ccode\x3esetState\x3c\/code\x3e的概念有点像，Redux的意思是你不能直接更动\x3ccode\x3estore\x3c\/code\x3e里面所记录的状态值，只能\x22间接\x22地透过发送\x3ccode\x3eaction\x3c\/code\x3e对象来叫\x3ccode\x3estore\x3c\/code\x3e更动状态。\x22间接\x22地更动状态是一个很关键的设计，这是Flux中单向数据流的重点之一，这对于每个动作发生，最终会影响到什么状态上的更动，一个接一个的顺序等等的一种严格的设计。\x3c\/p\x3e\n\x3cp\x3e你可能会认为\x22状态既然是唯读\x22，直接与间接有什么差异，\x22唯读\x22不就代表完全不能更动，这语句是不是有误？\x3c\/p\x3e\n\x3cp\x3e\x22唯读\x22当然就是完全不能更动的意思没错，所以状态对象的更动是并不是在原先的状态对象上变动它，而是由原先状态对象因为动作的加入后，产生一个全新的状态对象，用这全新的状态对象来取代原先的状态对象而已。这在真实世界中或许很难拿比喻来说明，但在软体世界中这很可以很容易达成。\x3c\/p\x3e\n\x3cp\x3e\x22发生了什么事\x22这句，是代表每个\x3ccode\x3eaction\x3c\/code\x3e都会有一个type(类型)，代表这个动作是要作什么用的，或是现在是发生了什么，例如是要新建一笔什么数据，或是删除整个数据等等，动作对象除了要说明它是要作什么之外，也需要包含所影响的数据。\x3c\/p\x3e\n\x3cp\x3e发送一个action(动作)，使用的是\x3ccode\x3estore.dispatch(action)\x3c\/code\x3e语法样式，下面这个例子就是一个要更动状态的代码:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22store.dispatch({\n  type: \x27COMPLETE_TODO\x27,\n  index: 1\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3estore.dispatch({\n  \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27COMPLETE_TODO\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eindex\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e中间的那个纯对象，就叫作\x3ccode\x3eaction\x3c\/code\x3e(动作)，它是一个单纯用于描述发生了什么事与相关数据的纯对象:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  type: \x27COMPLETE_TODO\x27,\n  index: 1\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27COMPLETE_TODO\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eindex\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e还记得我们在React中的\x3ccode\x3estate\x3c\/code\x3e与\x3ccode\x3esetState\x3c\/code\x3e方法的设计吗？\x3ccode\x3estate\x3c\/code\x3e也是不能直接更动的，一定要透过\x3ccode\x3esetState\x3c\/code\x3e方法才能更动它。那这是为什么呢？因为\x3ccode\x3esetState\x3c\/code\x3e不光只是更动\x3ccode\x3estate\x3c\/code\x3e值，它还要作重新渲染的动作，React需要比对目前的状态，与即将要变动的状态，这样才能进移动新渲染的工作。Redux的设计中\x3ccode\x3estore\x3c\/code\x3e是与React中的\x3ccode\x3estate\x3c\/code\x3e相比，它们之间有一些类似的设计。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e更动只能由纯函数来进行\x3c\/h2\x3e\n\x3cblockquote\x3e\x3cp\x3e要指示状态树要如何依actions(动作)来作改变，你需要撰写纯粹的归纳函数(reducers)\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eRedux中的reducer的原型会长得像下面这样，你可以把它当作就是 \x3ccode\x3e之前的状态 \x2b 动作 = 新的状态\x3c\/code\x3e 的公式:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22(previousState, action) =\x3e newState\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e(previousState, action) =\x26gt; newState\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3e注: 你可以参考Redux中\x3ca href=\x22http:\/\/redux.js.org\/docs\/basics\/Reducers.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReducers\x3c\/a\x3e这一章的内容，里面有实例。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e不过，Redux中的reducer一定是纯函数(pure function)，也就是不能有副作用的函数。因此由reducer所产生的新状态，并不是直接修改之前的状态而来，而是一个复制之前状态，然后加上动作改变的部份，产生的一个新的对象，它这样设计是有原因的。\x3c\/p\x3e\n\x3cp\x3eRedux的store设计，并不是原本Flux架构中的store，而是\x3ca href=\x22https:\/\/facebook.github.io\/flux\/docs\/flux-utils.html#reducestore-t\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReduceStore\x3c\/a\x3e，这个ReduceStore是一个在Flux中的\x3ccode\x3estore\x3c\/code\x3e进化版本，在说明中它有一个叫作reduce的方法，说明如下:\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3ereduce(state: T, action: Object): T 归纳(Reduces)目前的state(状态)与一个action(动作)到新的store中的state(状态)。所有的子类都需要实作这个方法。这个方法必须是纯粹而是无副作用。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e那为何要用这个进化的ReduceStore？它最后有说明一段:\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e不需要发送更动事件注意所有继承自ReduceStore的store，不需要手动发送在reduce()中的更动事件...state(状态)会自动地比对在每个dispatch(发送)之前与之后，与自动地作发送更动事件...\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3ccode\x3eReduceStore\x3c\/code\x3e的设计与Redux最一开始的版本差不多是同时间发布的，在开发者之间彼此有交流。Redux的store运用了类似于ReduceStore的设计，所以要更动Redux中的store，需要透过reducer，这是为了简化原本在Flux数据流的实作流程。\x3c\/p\x3e\n\x3cp\x3ereducer在Redux中扮演了十分重要的关键角色，它是一种对store中所存放的状态，要如何因应不同的动作而进行刷新的函数，而store也是由reducer所创建，例如像下面的代码:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ @Reducer\n\/\/\n\/\/ action payload = action.text\n\/\/ 使用纯粹函数的数组unshift，不能有副作用\n\/\/ state(状态)一开始的值是空数组`state=[]`\nfunction todoApp(state = [], action) {\n  switch (action.type) {\n    case \x27ADD_ITEM\x27:\n      return [action.text, ...state]\n    default:\n      return state\n  }\n}\n\n\/\/ @Store\n\/\/\n\/\/ 由reducer创建store\nconst store = createStore(todoApp)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ @Reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ action payload = action.text\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 使用纯粹函数的数组unshift，不能有副作用\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ state(状态)一开始的值是空数组`state=[]`\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etodoApp\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = [], action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (action.type) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27ADD_ITEM\x27\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [action.text, ...state]\n    \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ @Store\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 由reducer创建store\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = createStore(todoApp)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e针对应用中不同功能的状态，可以分别写出不同的reducer，Redux中提供了\x3ccode\x3ecombineReducers\x3c\/code\x3e函数可以合并多个reducer，例如以下的代码:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function todos(state = [], action) {\n  switch (action.type) {\n    case \x27ADD_TODO\x27:\n      return state.concat([ action.text ])\n    default:\n      return state\n  }\n}\n\nfunction counter(state = 0, action) {\n  switch (action.type) {\n    case \x27INCREMENT\x27:\n      return state \x2b 1\n    case \x27DECREMENT\x27:\n      return state - 1\n    default:\n      return state\n  }\n}\n\n\/\/ rootReducer是个组合过的函数，\n\/\/ 这里用的是对象属性初始设置简写法，\n\/\/ combineReducers传参是一个对象\nconst rootReducer = combineReducers({\n  todos,\n  counter\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etodos\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = [], action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (action.type) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27ADD_TODO\x27\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state.concat([ action.text ])\n    \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state\n  }\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ecounter\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (action.type) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27INCREMENT\x27\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27DECREMENT\x27\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ rootReducer是个组合过的函数，\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里用的是对象属性初始设置简写法，\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ combineReducers传参是一个对象\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e rootReducer = combineReducers({\n  todos,\n  counter\n})\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Redux概念之二: Redux的三大原则</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008209999">https://segmentfault.com/a/1190000008209999</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/9gngp6sg77/" target="_blank">https://alili.tech/archive/9gngp6sg77/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>