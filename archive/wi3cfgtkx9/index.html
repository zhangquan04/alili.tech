<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="从零到一：用Phaser.js写意地开发小游戏（Chapter 2 - 搭建游戏的骨架）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>从零到一：用Phaser.js写意地开发小游戏（Chapter 2 - 搭建游戏的骨架） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/wi3cfgtkx9/",
				"appid": "1613049289050283", 
				"title": "从零到一：用Phaser.js写意地开发小游戏（Chapter 2 - 搭建游戏的骨架） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-15T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/84966nl6zcm/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/iq6nuw5ngo/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&text=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&text=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&title=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&is_video=false&description=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&title=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&title=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&title=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fwi3cfgtkx9%2f&title=%e4%bb%8e%e9%9b%b6%e5%88%b0%e4%b8%80%ef%bc%9a%e7%94%a8Phaser.js%e5%86%99%e6%84%8f%e5%9c%b0%e5%bc%80%e5%8f%91%e5%b0%8f%e6%b8%b8%e6%88%8f%ef%bc%88Chapter%202%20-%20%e6%90%ad%e5%bb%ba%e6%b8%b8%e6%88%8f%e7%9a%84%e9%aa%a8%e6%9e%b6%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">从零到一：用Phaser.js写意地开发小游戏（Chapter 2 - 搭建游戏的骨架）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-15" itemprop="datePublished">2019-01-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVMR3L?w=900\x26amp;h=500\x22 src=\x22https:\/\/static.alili.tech\/img\/bVMR3L?w=900\x26amp;h=500\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e写在前面\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009212221\x22\x3e上一节\x3c\/a\x3e我们认识了Phaser.js，也说到了Phaser比较适合开发2D的小游戏，那么接下来的几篇文章会以开发一个移动端的小游戏为例，来介绍如何上手Phaser.js。这一节的主要内容是用Phaser.js搭建游戏的骨架。\x3c\/p\x3e\n\x3ch4\x3e游戏相关的一些概念\x3c\/h4\x3e\n\x3ch5\x3e画布\x3c\/h5\x3e\n\x3cp\x3e一般来说，做游戏的话基于Canvas会比基于DOM性能要好很多，尤其是涉及大量动画的情况下。Phaser会将一切渲染在canvas元素上，于是，毫不夸张地说，你的body标签里可能只包含一个canvas元素。\x3c\/p\x3e\n\x3cp\x3e由于本节开发的目标是一个移动端的小游戏，因此画布一般来说都是充满全屏的。\x3c\/p\x3e\n\x3ch5\x3e场景\x3c\/h5\x3e\n\x3cp\x3e一个完整的游戏都是有分场景的，不是指“迷宫”、“沙漠”这些游戏场景，而是“加载”、“开始”、“游戏”、“结束”等场景。一般来说我们实际做项目的时候也大概是如下四种场景：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e加载——展示进度条和loading动画，主要操作为加载游戏资源，如图片、音频等。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e开始——展示开始按钮、活动规则等，主要是让玩家能有主动开始的操作（很关键，后面会说到）。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e游戏——整个游戏的主要逻辑都在这个场景中，最核心的部分。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e结束——展示游戏最终得分、排名等。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这样的场景的划分也算是描述出了整个游戏的生命周期，我认为上述四个场景是最基本的，缺了哪个场景游戏都不算完整，或者是体验不够完善。\x3c\/p\x3e\n\x3cp\x3e另外，关于再玩一次，有两种方式，一种是回到开始场景，也就是说要再点一次开始游戏，这时候你可以再看看游戏规则等；另一种是直接开始游戏。选用哪一种方式视具体项目而定，比较常见的是直接开始游戏。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVMR9G?w=728\x26amp;h=180\x22 src=\x22https:\/\/static.alili.tech\/img\/bVMR9G?w=728\x26amp;h=180\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch5\x3e对象池\x3c\/h5\x3e\n\x3cp\x3e游戏中生成非常多的元素，我们会需要一个对象池来维护他们，对象池可以理解成是一个Group。那么关于对象池有以下相关的操作：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e尽可能的复用对象，可以减少内存的开销。例如已经移出可视范围的对象（例如跑酷游戏的障碍），重新设置它们的位置，而不是重新创建。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如有确定要销毁的对象，记得显式调用distroy方法（一般游戏框架并不会被销毁killed的对象，它们还能被“复活”）。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e正式开始\x3c\/h4\x3e\n\x3cp\x3e每一步我都会给出示例代码，大家点击示例代码链接旁的“点击预览”即可看到效果。\x3c\/p\x3e\n\x3ch5\x3e第一步：创建实例\x3c\/h5\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e引入Phaser.js\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e创建游戏实例\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e说明：这里宽高设置成320*568是为了方便大家查看示例，实际应用场景应该是\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var width = window.innerWidth;\nvar height = window.innerHeight;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e width = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerWidth;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e height = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.innerHeight;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e示例代码：\x3ca href=\x22https:\/\/jsfiddle.net\/Vincent_Pat\/5j4x4v85\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/jsfiddle.net\/Vincent_...\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22Vincent_Pat\/5j4x4v85\/\x22 data-typeid=\x220\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch5\x3e第二步：定义场景\x3c\/h5\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e定义每个场景的内容\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e将场景添加到游戏实例中\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e说明：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e每个场景都是一个function。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通过\x3ccode\x3egame.state.add\x3c\/code\x3e可以将场景添加到游戏\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e示例代码：\x3ca href=\x22https:\/\/jsfiddle.net\/Vincent_Pat\/euL6ps0y\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/jsfiddle.net\/Vincent_...\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22Vincent_Pat\/euL6ps0y\/\x22 data-typeid=\x220\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch5\x3e第三步：将场景串通\x3c\/h5\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e具体定义每个场景的生命周期\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e从一个场景切换到另一个场景\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e启动游戏\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e说明：\x3c\/p\x3e\n\x3cp\x3e每个场景都有自己的生命周期，常用的生命周期是preload（加载）、create（准备就绪）、update（更新周期）、render（渲染完成）。顺带介绍一下这四个生命周期吧（详细介绍可以查看官方离线文档）：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3epreload - 尽管我们有预加载的场景，但如果你希望能缩短进入页面时加载的时间，可以分摊一些到其他场景，只需要在其他场景加入preload方法即可。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3ecreate - 如果存在preload方法，则会在加载完毕后执行此方法；否则将在进入该场景时直接执行此方法。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eupdate - 更新周期自动执行的方法，例如在play场景的update方法中可以去检测两个物体是否有接触。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3erender - 渲染完毕后执行的方法，例如可以在此方法中勾勒出物体的边缘，来方便观察物体的碰撞区域。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVMSkr?w=2558\x26amp;h=1224\x22 src=\x22https:\/\/static.alili.tech\/img\/bVMSkr?w=2558\x26amp;h=1224\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e示例代码：\x3ca href=\x22https:\/\/jsfiddle.net\/Vincent_Pat\/ymcshatv\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/jsfiddle.net\/Vincent_...\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22Vincent_Pat\/ymcshatv\/\x22 data-typeid=\x220\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3ch4\x3e迈出了第一步\x3c\/h4\x3e\n\x3cp\x3e至此我们已经将游戏的场景设置好，并成功启动了游戏，通过游戏背景颜色的变化可以体验到场景的切换，我们也能了解到整个游戏分为了四部分，每部分有自己的生命周期。\x3c\/p\x3e\n\x3cp\x3e很多教程会从创建主角做起，但我认为先把游戏骨架搭建好了，再丰富每个场景里面的细节，会更容易理解整个游戏的运行过程。\x3c\/p\x3e\n\x3cp\x3e代码没有很多行，我也都用ES5来写，阅读起来应该不费劲。这一节包括后面的章节的内容都不会太多，方便大家消化。同时也尽可能的介绍每一步是怎么做的。\x3c\/p\x3e\n\x3cp\x3e搭建好游戏的骨架后，我们总算是迈出了第一步。\x3c\/p\x3e\n\x3ch4\x3e未完待续\x3c\/h4\x3e\n\x3ch5\x3e回顾：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009212221\x22\x3eChapter 1 - 认识Phaser.js\x3c\/a\x3e\n\x3c\/h5\x3e\n\x3ch5\x3e下一节：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009252244\x22 target=\x22_blank\x22\x3eChapter 3 - 加载游戏资源\x3c\/a\x3e\n\x3c\/h5\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>从零到一：用Phaser.js写意地开发小游戏（Chapter 2 - 搭建游戏的骨架）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009226335">https://segmentfault.com/a/1190000009226335</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/wi3cfgtkx9/" target="_blank">https://alili.tech/archive/wi3cfgtkx9/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>