<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="实例讲解react&#43;react-router&#43;redux"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>实例讲解react&#43;react-router&#43;redux | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/kljhw25tv5/",
				"appid": "1613049289050283", 
				"title": "实例讲解react&#43;react-router&#43;redux | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-29T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/b9gktimg665/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/m285un1rgd/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&text=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&text=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&title=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&is_video=false&description=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&title=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&title=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&title=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkljhw25tv5%2f&title=%e5%ae%9e%e4%be%8b%e8%ae%b2%e8%a7%a3react%2breact-router%2bredux"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">实例讲解react&#43;react-router&#43;redux</h1><div class="meta"><div class="postdate"><time datetime="2019-01-29" itemprop="datePublished">2019-01-29</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e\x3cstrong\x3e总括：\x3c\/strong\x3e 本文采用react\x2bredux\x2breact-router\x2bless\x2bes6\x2bwebpack,以实现一个简易备忘录(todolist)为例尽可能全面的讲述使用react全家桶实现一个完整应用的过程。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e代码地址：\x3ca href=\x22https:\/\/github.com\/damonare\/memos\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact全家桶实现一个简易备忘录\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e原文博客地址：\x3ca href=\x22http:\/\/damonare.github.io\/2016\/12\/19\/React%E5%85%A8%E5%AE%B6%E6%A1%B6%E5%AE%9E%E7%8E%B0%E7%AE%80%E6%98%93%E5%A4%87%E5%BF%98%E5%BD%95\/#more\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact全家桶实现一个简易备忘录\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e知乎专栏\x26amp;\x26amp;简书专题：\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/damonare\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端进击者（知乎）\x3c\/a\x3e\x26amp;\x26amp;\x3ca href=\x22http:\/\/www.jianshu.com\/collection\/bbaa63e264f5\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端进击者（简书）\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e博主博客地址：\x3ca href=\x22http:\/\/damonare.cn\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDamonare的个人博客\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e人生不失意，焉能暴己知。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e技术说明\x3c\/h3\x3e\n\x3cblockquote\x3e\n\x3cp\x3e技术架构：本备忘录使用react\x2breact-router\x2bredux\x2bless\x2bES6\x2bwebpack实现;\x3c\/p\x3e\n\x3cp\x3e页面UI参照：\x3ca href=\x22http:\/\/www.todolist.cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTodoList官网\x3c\/a\x3e实现;\x3c\/p\x3e\n\x3cp\x3e在线演示地址：\x3ca href=\x22http:\/\/damonare.cn\/memos\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDamonare的备忘录\x3c\/a\x3e;\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e功能说明\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e支持回车添加新事项;\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e支持删除事项(点击X符号);\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e支持状态转换具体包括：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e新建事项-\x26gt;正在进行(点击checkbox选项)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e正在进行-\x26gt;已完成(点击文字内容本身)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e正在进行-\x26gt;新建事项(点击checkbox选项)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e已完成-\x26gt;正在进行(点击文字本身)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e支持判断输入空字符，过长字符(20个汉字以内);\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e支持搜索;\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e支持本地化存储;\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e支持状态的展开隐藏(点击标题)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e兼容手机端(iPhone6及以上)\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e支持路由切换\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e正文\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e1. React浅谈\x3c\/h3\x3e\n\x3ch4\x3e1.1  组件化\x3c\/h4\x3e\n\x3cp\x3e​    毫无疑问，当谈到\x3ccode\x3eReact\x3c\/code\x3e的时候不能避免的会提到组件化思想。React刚开始想解决的问题只是UI这一层面的问题，也就是MVC中view层面的问题，不成想如今越滚越大，从最早的UI引擎变成了一整套前后端通吃的 Web App 解决方案。对于\x3ccode\x3eReact\x3c\/code\x3e组件的理解同样要站在view层面的角度出发，一个完整的页面是由大大小小的组件堆叠而成，就好像搭积木，每一块积木都是一个组件，组件套组件组成了用户所能看到的完整的页面。\x3c\/p\x3e\n\x3ch4\x3e1.2  JSX语法糖\x3c\/h4\x3e\n\x3cp\x3e​    使用\x3ccode\x3eReact\x3c\/code\x3e，不一定非要使用\x3ccode\x3eJSX\x3c\/code\x3e语法，可以使用原生的JS进行开发。但是\x3ccode\x3eReact\x3c\/code\x3e作者强烈建议我们使用\x3ccode\x3eJSX\x3c\/code\x3e，因为\x3ccode\x3eJSX\x3c\/code\x3e在定义类似HTML这种树形结构时，十分的简单明了。这里简单的讲下\x3ccode\x3eJSX\x3c\/code\x3e的由来。\x3c\/p\x3e\n\x3cp\x3e​    比如，下面一个div元素，我们用HTML语法描述为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;test\x26quot;\x3e\n  \x3cspan\x3eTest\x3c\/span\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3eTest\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果换做使用javascript描述这个元素呢？最好的方式可以简单的转化为\x3ccode\x3ejson\x3c\/code\x3e对象，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  type:\x26quot;div\x26quot;,\n  props:{\n    className:\x26quot;test\x26quot;,\n    children:{\n      type:\x26quot;span\x26quot;,\n      props:{\n        children:\x26quot;Test\x26quot;\n      }\n    }\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  type:\x3cspan class=\x22hljs-string\x22\x3e\x22div\x22\x3c\/span\x3e,\n  props:{\n    className:\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e,\n    children:{\n      type:\x3cspan class=\x22hljs-string\x22\x3e\x22span\x22\x3c\/span\x3e,\n      props:{\n        children:\x3cspan class=\x22hljs-string\x22\x3e\x22Test\x22\x3c\/span\x3e\n      }\n    }\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样我们就可以在javascript中创建一个\x3ccode\x3eVirtual DOM\x3c\/code\x3e（虚拟DOM）了。当然，这样是没法复用的，我们再把它封装一下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Div=\x3e({text}){\n  return {\n    type:\x26quot;div\x26quot;,\n    props:{\n      className:\x26quot;test\x26quot;,\n      children:{\n        type:\x26quot;span\x26quot;,\n        props:{\n          children: text,\n        },\n      },\n    },\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Div=\x26gt;({text}){\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22div\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eprops\x3c\/span\x3e:{\n      \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e:{\n        \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22span\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eprops\x3c\/span\x3e:{\n          \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: text,\n        },\n      },\n    },\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来再实现这个div就可以直接调用Div(\x27Test\x27)来创建。但上述结构看起来实在让人不爽，写起来也很容易写混，一旦结构复杂了，很容易让人找不着北，于是\x3ccode\x3eJSX\x3c\/code\x3e语法应运而生。我们用写HTML的方式写这段代码，再经过翻译器转换成javascript后交给浏览器执行。上述代码用\x3ccode\x3eJSX\x3c\/code\x3e重写：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Div =()=\x3e(\n\x3cdiv className=\x26quot;test\x26quot;\x3e\n  \x3cspan\x3eTest\x3c\/span\x3e\n\x3c\/div\x3e\n);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode class=\x22jsx\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Div =\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e(\n\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3eTest\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e多么简单明了！！！具体的\x3ccode\x3eJSX语法\x3c\/code\x3e不多说了，学习更多戳这：\x3ca href=\x22http:\/\/reactjs.cn\/react\/docs\/jsx-in-depth.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJSX in Depth\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e1.3  Virtual DOM\x3c\/h4\x3e\n\x3cp\x3e其实上面已经提到了\x3ccode\x3eVirtual DOM\x3c\/code\x3e，它的存在也是\x3ccode\x3eReact\x3c\/code\x3e长久不衰的原因之一，虚拟DOM的概念并不是FB首创却在FB的手上大火了起来(后台是多么重要)。\x3c\/p\x3e\n\x3cp\x3e我们知道真实的页面对应了一个DOM树，在传统页面的开发模式中，每次需要更新页面时，都需要对DOM进行更新，DOM操作十分昂贵，为减少对于真实DOM的操作，诞生了\x3ccode\x3eVirtual DOM\x3c\/code\x3e的概念，也就是用javascript把真实的DOM树描述了一遍，使用的也就是我们刚刚说过的\x3ccode\x3eJSX\x3c\/code\x3e语法。对比如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007862106?w=500\x26amp;h=304\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007862106?w=500\x26amp;h=304\x22 alt=\x22Virtual DOM原理\x22 title=\x22Virtual DOM原理\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e每次数据更新之后，重新计算\x3ccode\x3eVirtual DOM\x3c\/code\x3e，并和上一次的\x3ccode\x3eVirtual DOM\x3c\/code\x3e对比，对发生的变化进行批量更新。React也提供了\x3ccode\x3eshouldComponentUpdate\x3c\/code\x3e生命周期回调，来减少数据变化后不必要的\x3ccode\x3eVirtual DOM\x3c\/code\x3e对比过程，提升了性能。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eVirtual DOM\x3c\/code\x3e虽然渲染方式比传统的DOM操作要好一些，但并不明显，因为对比DOM节点也是需要计算的，最大的好处在于可以很方便的和其它平台集成，比如\x3ccode\x3ereact-native\x3c\/code\x3e就是基于\x3ccode\x3eVirtual DOM\x3c\/code\x3e渲染出原生控件。具体渲染出的是\x3ccode\x3eWeb DOM\x3c\/code\x3e还是\x3ccode\x3eAndroid\x3c\/code\x3e控件或是\x3ccode\x3eiOS\x3c\/code\x3e控件就由平台决定了。所以我们说\x3ccode\x3ereact\x3c\/code\x3e的出现是一场革命，一次对于\x3ccode\x3enative app\x3c\/code\x3e的宣战,就像\x3ccode\x3ereact-native\x3c\/code\x3e那句口号——\x3cstrong\x3eLearn Once,Write Anywhere\x3c\/strong\x3e.\x3c\/p\x3e\n\x3ch4\x3e1.4 函数式编程\x3c\/h4\x3e\n\x3cp\x3e​    过去编程方式主要是以命令式编程为主，什么意思呢？简单说电脑的思维方式和我们人类的思考方式是不一样的。我们人类的大脑擅长的是分析问题，提出一个解决问题的方案，电脑则是生硬的执行指令，命令式编程就像是给电脑下达命令，让电脑去执行一样，现在主要的编程语言（比如：Java，C，C\x2b\x2b等）都是由命令式编程构建起来的。\x3c\/p\x3e\n\x3cp\x3e​   而函数式编程就不一样了，这是模仿我们人类的思维方式发明出来的。例如：操作某个数组的每一个元素然后返回一个新数组，如果是计算机的思考方式，会这样想：创建一个新数组=\x26gt;遍历旧数组=\x26gt;给新数组赋值。如果是人类的思考方式，会这样想：创建一个数组方法，作用在旧数组上，返回新数组。这样此方法可以被重复利用。而这就是函数式编程了。\x3c\/p\x3e\n\x3ch4\x3e1.5 数据流\x3c\/h4\x3e\n\x3cp\x3e在React中，数据的流动是单向的，即从父节点传递到子节点。也因此组件是简单的，他们只需要从父组件获取props渲染即可。如果顶层的props改变了，React会递归的向下遍历整个组件树，重新渲染所有使用这个属性的组件。那么父组件如何获取子组件数据呢？很简单，通过回调就可以了，父组件定义某个方法供给子组件调用，子组件调用方法传递给父组件数据，Over。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e2. React-router\x3c\/h3\x3e\n\x3cp\x3e这东西我觉得没啥难度，官方例子都很不错，跟着官方例子来一遍基本就明白到底是个啥玩意了，官方例子：\x3ca href=\x22https:\/\/github.com\/reactjs\/react-router-tutorial\/tree\/master\/lessons\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cstrong\x3ereact-router-tutorial。\x3c\/strong\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e完事以后可以再看一下阮一峰老师的教程，主要是对一些API的讲解：\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2016\/05\/react_router.html?utm_source=tool.lu\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact Router 使用教程\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e还有啥不明白的欢迎评论留言共同探讨。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e3. Redux\x3c\/h3\x3e\n\x3ch4\x3e3.1 简介\x3c\/h4\x3e\n\x3cp\x3e随着 JavaScript 单页应用开发日趋复杂，\x3cstrong\x3eJavaScript 需要管理比任何时候都要多的 state （状态）\x3c\/strong\x3e。 这些 state 可能包括服务器响应、缓存数据、本地生成尚未持久化到服务器的数据，也包括 UI 状态，如激活的路由，被选中的标签，是否显示加载动效或者分页器等等。如果一个 model 的变化会引起另一个 model 变化，那么当 view 变化时，就可能引起对应 model 以及另一个 model 的变化，依次地，可能会引起另一个 view 的变化。乱！\x3c\/p\x3e\n\x3cp\x3e这时候\x3ccode\x3eRedux\x3c\/code\x3e就强势登场了，现在你可以把\x3ccode\x3eReact\x3c\/code\x3e的model看作是一个个的子民，每一个子民都有自己的一个状态，纷纷扰扰，各自维护着自己状态，我行我素，那哪行啊！太乱了，我们需要一个King来领导大家，我们就可以把\x3ccode\x3eRedux\x3c\/code\x3e看作是这个King。网罗所有的组件组成一个国家，掌控着一切子民的状态！防止有人叛乱生事！\x3c\/p\x3e\n\x3cp\x3e这个时候就把组件分成了两种：容器组件(King或是路由)和展示组件(子民)。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e容器组件：即\x3ccode\x3eredux\x3c\/code\x3e或是\x3ccode\x3erouter\x3c\/code\x3e,起到了维护状态，出发action的作用，其实就是King高高在上下达指令。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e展示组件：不维护状态，所有的状态由容器组件通过\x3ccode\x3eprops\x3c\/code\x3e传给他，所有操作通过回调完成。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth align=\x22center\x22\x3e \x3c\/th\x3e\n\x3cth align=\x22center\x22\x3e展示组件\x3c\/th\x3e\n\x3cth align=\x22center\x22\x3e容器组件\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3e作用\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e描述如何展现（骨架、样式）\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e描述如何运行（数据获取、状态更新）\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3e直接使用 Redux\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e否\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e是\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3e数据来源\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3eprops\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e监听 Redux state\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3e数据修改\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e从 props 调用回调函数\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e向 Redux 派发 actions\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3e调用方式\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e手动\x3c\/td\x3e\n\x3ctd align=\x22center\x22\x3e通常由 React Redux 生成\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cp\x3eRedux三大部分：\x3ccode\x3estore\x3c\/code\x3e,\x3ccode\x3eaction\x3c\/code\x3e,\x3ccode\x3ereducer\x3c\/code\x3e。相当于King的直系下属。\x3c\/p\x3e\n\x3cp\x3e那么也可以看出\x3ccode\x3eRedux\x3c\/code\x3e只是一个状态管理方案，完全可以单独拿出来使用，这个King不仅仅可以是React的，去Angular，Ember那里也是可以做King的。在React中维系King和组件关系的库叫做\x3ccode\x3e\x26nbsp;react-redux\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e， 它主要有提供两个东西：\x3ccode\x3eProvider\x3c\/code\x3e 和\x3ccode\x3e connect\x3c\/code\x3e，具体使用文后说明。\x3c\/p\x3e\n\x3cp\x3e提供几个Redux的学习地址：\x3ca href=\x22http:\/\/cn.redux.js.org\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方教程-中文版\x3c\/a\x3e，\x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2016\/09\/redux_tutorial_part_one_basic_usages.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRedux 入门教程（一）：基本用法\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e3.2 Store\x3c\/h4\x3e\n\x3cp\x3eStore 就是保存数据的地方，它实际上是一个\x3ccode\x3eObject tree\x3c\/code\x3e。整个应用只能有一个 Store。这个Store可以看做是King的首相，掌控一切子民(组件)的活动(state)。\x3c\/p\x3e\n\x3cp\x3eRedux 提供\x3ccode\x3ecreateStore\x3c\/code\x3e这个函数，用来生成 Store。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { createStore } from \x27redux\x27;\nconst store = createStore(func);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = createStore(func);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ecreateStore接受一个函数作为参数，返回一个Store对象(首相诞生记)\x3c\/p\x3e\n\x3cp\x3e我们来看一下Store(首相)的职责：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e维持应用的 state；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提供\x26nbsp;\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/api\/Store.html#getState\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3egetState()\x3c\/code\x3e\x3c\/a\x3e\x26nbsp;方法获取 state；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提供\x26nbsp;\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/api\/Store.html#dispatch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3edispatch(action)\x3c\/code\x3e\x3c\/a\x3e\x26nbsp;方法更新 state；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通过\x26nbsp;\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/api\/Store.html#subscribe\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3esubscribe(listener)\x3c\/code\x3e\x3c\/a\x3e\x26nbsp;注册监听器;\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通过\x26nbsp;\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/api\/Store.html#subscribe\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3esubscribe(listener)\x3c\/code\x3e\x3c\/a\x3e\x26nbsp;返回的函数注销监听器。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e3.3 action\x3c\/h4\x3e\n\x3cp\x3eState 的变化，会导致 View 的变化。但是，用户接触不到 State，只能接触到 View。所以，State 的变化必须是 View 导致的。Action 就是 View 发出的通知，表示 State 应该要发生变化了。即store的数据变化来自于用户操作。action就是一个通知，它可以看作是首相下面的邮递员，通知子民(组件)改变状态。它是 store 数据的\x3cstrong\x3e唯一\x3c\/strong\x3e来源。一般来说会通过\x26nbsp;\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/api\/Store.html#dispatch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3estore.dispatch()\x3c\/code\x3e\x3c\/a\x3e\x26nbsp;将 action 传到 store。\x3c\/p\x3e\n\x3cp\x3eAction 是一个对象。其中的\x3ccode\x3etype\x3c\/code\x3e属性是必须的，表示 Action 的名称。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const action = {\n  type: \x27ADD_TODO\x27,\n  payload: \x27Learn Redux\x27\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e action = {\n  \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27ADD_TODO\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3epayload\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27Learn Redux\x27\x3c\/span\x3e\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eAction创建函数\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3eAction 创建函数\x3c\/strong\x3e\x26nbsp;就是生成 action 的方法。“action” 和 “action 创建函数” 这两个概念很容易混在一起，使用时最好注意区分。\x3c\/p\x3e\n\x3cp\x3e在 Redux 中的 action 创建函数只是简单的返回一个 action:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function addTodo(text) {\n  return {\n    type: ADD_TODO,\n    text\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaddTodo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: ADD_TODO,\n    text\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样做将使 action 创建函数更容易被移植和测试。\x3c\/p\x3e\n\x3ch4\x3e3.4 reducer\x3c\/h4\x3e\n\x3cp\x3e\x3cstrong\x3eAction\x3c\/strong\x3e\x26nbsp;只是描述了\x3cstrong\x3e有事情发生了\x3c\/strong\x3e这一事实，并没有指明应用如何更新 state。而这正是 reducer 要做的事情。也就是邮递员(action)只负责通知，具体你(组件)如何去做，他不负责，这事情只能是你们村长(reducer)告诉你如何去做才能符合社会主义核心价值观，如何做才能对建设共产主义社会有利。\x3c\/p\x3e\n\x3cp\x3e专业解释: \x3cstrong\x3eStore 收到 Action 以后，必须给出一个新的 State，这样 View 才会发生变化。这种 State 的计算过程就叫做 Reducer。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eReducer 是一个函数，它接受 Action 和当前 State 作为参数，返回一个新的 State。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const reducer = function (state, action) {\n  \/\/ ...\n  return new_state;\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducer = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3estate, action\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e new_state;\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e3.5 数据流\x3c\/h4\x3e\n\x3cp\x3e\x3cstrong\x3e严格的单向数据流\x3c\/strong\x3e是 Redux 架构的设计核心。\x3c\/p\x3e\n\x3cp\x3eRedux 应用中数据的生命周期遵循下面 4 个步骤：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e调用\x3c\/strong\x3e\x26nbsp;\x3ca href=\x22http:\/\/cn.redux.js.org\/docs\/api\/Store.html#dispatch\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3estore.dispatch(action)\x3c\/code\x3e\x3c\/a\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eRedux store 调用传入的 reducer 函数。\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e根 reducer 应该把多个子 reducer 输出合并成一个单一的 state 树。\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3eRedux store 保存了根 reducer 返回的完整 state 树\x3c\/strong\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e工作流程图如下：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007862107?w=600\x26amp;h=277\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007862107?w=600\x26amp;h=277\x22 alt=\x22redux工作原理图\x22 title=\x22redux工作原理图\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3e3.6 Connect\x3c\/h4\x3e\n\x3cp\x3e这里需要再强调一下：Redux 和 React 之间没有关系。Redux 支持 React、Angular、Ember、jQuery 甚至纯 JavaScript。\x3c\/p\x3e\n\x3cp\x3e尽管如此，Redux 还是和\x26nbsp;\x3ca href=\x22http:\/\/facebook.github.io\/react\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact\x3c\/a\x3e\x26nbsp;和\x26nbsp;\x3ca href=\x22https:\/\/github.com\/dekujs\/deku\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDeku\x3c\/a\x3e\x26nbsp;这类框架搭配起来用最好，因为这类框架允许你以 state 函数的形式来描述界面，Redux 通过 action 的形式来发起 state 变化。\x3c\/p\x3e\n\x3cp\x3eRedux 默认并不包含\x26nbsp;\x3ca href=\x22https:\/\/github.com\/reactjs\/react-redux\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact 绑定库\x3c\/a\x3e，需要单独安装。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install --save react-redux\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode class=\x22text\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e--save react-redux\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当然，我们这个实例里是不需要的，所有需要的依赖已经在package.json里配置好了。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eReact-Redux\x3c\/code\x3e 提供\x3ccode\x3econnect\x3c\/code\x3e方法，用于从 UI 组件生成容器组件。\x3ccode\x3econnect\x3c\/code\x3e的意思，就是将这两种组件连起来。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { connect } from \x27react-redux\x27;\nconst TodoList = connect()(Memos);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { connect } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e TodoList = connect()(Memos);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面代码中\x3ccode\x3eMemos\x3c\/code\x3e是个UI组件，\x3ccode\x3eTodoList\x3c\/code\x3e就是由 React-Redux 通过\x3ccode\x3econnect\x3c\/code\x3e方法自动生成的容器组件。\x3c\/p\x3e\n\x3cp\x3e而只是纯粹的这样把Memos包裹起来毫无意义，完整的connect方法这样使用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { connect } from \x27react-redux\x27\nconst TodoList = connect(\n  mapStateToProps\n)(Memos)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { connect } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e TodoList = connect(\n  mapStateToProps\n)(Memos)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面代码中，\x3ccode\x3econnect\x3c\/code\x3e方法接受两个参数：\x3ccode\x3emapStateToProps\x3c\/code\x3e和\x3ccode\x3emapDispatchToProps\x3c\/code\x3e。它们定义了 UI 组件的业务逻辑。前者负责输入逻辑，即将\x3ccode\x3estate\x3c\/code\x3e映射到 UI 组件的参数（\x3ccode\x3eprops\x3c\/code\x3e），后者负责输出逻辑，即将用户对 UI 组件的操作映射成 Action。\x3c\/p\x3e\n\x3ch4\x3e3.7 Provider\x3c\/h4\x3e\n\x3cp\x3e\x26nbsp;这个Provider 其实是一个中间件，它是为了解决让容器组件拿到King的指令(\x3ccode\x3estate\x3c\/code\x3e对象)而存在的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { Provider } from \x27react-redux\x27\nimport { createStore } from \x27redux\x27\nimport todoApp from \x27.\/reducers\x27\nimport App from \x27.\/components\/App\x27\nlet store = createStore(todoApp);\nrender(\n  \x3cProvider store={store}\x3e\n    \x3cApp \/\x3e\n  \x3c\/Provider\x3e,\n  document.getElementById(\x27root\x27)\n)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Provider } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e todoApp \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/reducers\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/components\/App\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e store = createStore(todoApp);\nrender(\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eProvider\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estore\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{store}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eApp\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eProvider\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27root\x27\x3c\/span\x3e)\n)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面代码中，\x3ccode\x3eProvider\x3c\/code\x3e在根组件外面包了一层，这样一来，\x3ccode\x3eApp\x3c\/code\x3e的所有子组件就默认都可以拿到\x3ccode\x3estate\x3c\/code\x3e了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e4.实战备忘录\x3c\/h3\x3e\n\x3cp\x3e讲解之前可以先看一下github上的代码，你可以clone下来学习，也可以在线给我提issue，欢迎戳这:\x3ca href=\x22https:\/\/github.com\/damonare\/memos\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact全家桶实现简易备忘录\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e4.1目录结构\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.\n├── app                 #开发目录\n|   |   \n|   ├──actions          #action的文件\n|   |   \n|   ├──components       #展示组件\n|   |   \n|   ├──containers       #容器组件,主页\n|   |   \n|   ├──reducers         #reducer文件\n|   |\n|   |——routes           #路由文件，容器组件\n|   |\n|   |——static           #静态文件\n|   |\n|   ├──stores           #store配置文件\n|   |\n|   |——main.less        #路由样式\n|   |\n|   └──main.js          #入口文件\n|      \n├── build                #发布目录\n├── node_modules        #包文件夹\n├── .gitignore     \n├── .jshintrc      \n├── webpack.production.config.js  #生产环境配置      \n├── webpack.config.js   #webpack配置文件\n├── package.json        #环境配置\n└── README.md           #使用说明\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gherkin\x22\x3e\x3ccode\x3e.\n├── app                 \x3cspan class=\x22hljs-comment\x22\x3e#开发目录\x3c\/span\x3e\n|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   ├──actions          #action的文件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   ├──components       #展示组件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   ├──containers       #容器组件,主页\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   ├──reducers         #reducer文件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\n|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e——routes           #路由文件，容器组件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\n|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e——static           #静态文件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\n|\x3cspan class=\x22hljs-string\x22\x3e   ├──stores           #store配置文件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\n|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e——main.less        #路由样式\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e   \x3c\/span\x3e|\n|\x3cspan class=\x22hljs-string\x22\x3e   └──main.js          #入口文件\n\x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e      \n├── build                #发布目录\n├── node_modules        #包文件夹\n├── .gitignore     \n├── .jshintrc      \n├── webpack.production.config.js  #生产环境配置      \n├── webpack.config.js   #webpack配置文件\n├── package.json        #环境配置\n└── README.md           #使用说明\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来，我们只关注app目录就好了。\x3c\/p\x3e\n\x3ch4\x3e4.2入口文件\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport ReactDOM from \x27react-dom\x27;\nimport {Route, IndexRoute, browserHistory, Router} from \x27react-router\x27;\nimport {createStore} from \x27redux\x27;\nimport {Provider} from \x27react-redux\x27;\nimport App from \x27.\/container\/App\x27;\nimport AllMemosRoute from \x27.\/routes\/AllMemosRoute\x27;\nimport TodoRoute from \x27.\/routes\/TodoRoute\x27;\nimport DoingRoute from \x27.\/routes\/DoingRoute\x27;\nimport DoneRoute from \x27.\/routes\/DoneRoute\x27;\nimport configureStore from \x27.\/stores\x27;\nimport \x27.\/main.less\x27;\nconst store = configureStore();\nReactDOM.render(\n    \x3cProvider store={store}\x3e\n        \x3cRouter history={browserHistory}\x3e\n            \x3cRoute path=\x26quot;\/\x26quot;  component={App}\x3e\n                \x3cIndexRoute component={AllMemosRoute}\/\x3e\n                \x3cRoute path=\x26quot;\/todo\x26quot; component={TodoRoute}\/\x3e\n                \x3cRoute path=\x26quot;\/doing\x26quot; component={DoingRoute}\/\x3e\n                \x3cRoute path=\x26quot;\/done\x26quot; component={DoneRoute}\/\x3e\n            \x3c\/Route\x3e\n        \x3c\/Router\x3e\n   \x3c\/Provider\x3e,\n document.body.appendChild(document.createElement(\x27div\x27)))\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ReactDOM \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {Route, IndexRoute, browserHistory, Router} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {createStore} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {Provider} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/container\/App\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e AllMemosRoute \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routes\/AllMemosRoute\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e TodoRoute \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routes\/TodoRoute\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e DoingRoute \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routes\/DoingRoute\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e DoneRoute \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/routes\/DoneRoute\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e configureStore \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/stores\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/main.less\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = configureStore();\nReactDOM.render(\n    \x26lt;Provider store={store}\x26gt;\n        \x26lt;Router history={browserHistory}\x26gt;\n            \x26lt;Route path=\x22\/\x22  component={App}\x26gt;\n                \x26lt;IndexRoute component={AllMemosRoute}\/\x26gt;\n                \x26lt;Route path=\x22\/todo\x22 component={TodoRoute}\/\x26gt;\n                \x26lt;Route path=\x22\/doing\x22 component={DoingRoute}\/\x26gt;\n                \x26lt;Route path=\x22\/done\x22 component={DoneRoute}\/\x26gt;\n            \x26lt;\/Route\x26gt;\n        \x26lt;\/Router\x26gt;\n   \x26lt;\/Provider\x26gt;,\n document.body.appendChild(document.createElement(\x27div\x27)))\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里我们从\x3ccode\x3e react-redux \x3c\/code\x3e中获取到 Provider 组件，我们把它渲染到应用的最外层。\x3cbr\x3e他需要一个属性 store ，他把这个 store 放在context里，给Router(connect)用。\x3c\/p\x3e\n\x3ch4\x3e4.3 Store\x3c\/h4\x3e\n\x3cblockquote\x3e\x3cp\x3eapp\/store\/index.jsx\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { createStore } from \x27redux\x27;\nimport reducer from \x27..\/reducers\x27;\nexport default function configureStore(initialState) {\n  const store = createStore(reducer, initialState);\n  if (module.hot) {\n    \/\/ Enable Webpack hot module replacement for reducers\n    module.hot.accept(\x27..\/reducers\x27, () =\x3e {\n      const nextReducer = require(\x27..\/reducers\x27);\n      store.replaceReducer(nextReducer);\n    });\n  }\n  return store;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e reducer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/reducers\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3econfigureStore\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3einitialState\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e store = createStore(reducer, initialState);\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.hot) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Enable Webpack hot module replacement for reducers\x3c\/span\x3e\n    \x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.hot.accept(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/reducers\x27\x3c\/span\x3e, () =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e nextReducer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/reducers\x27\x3c\/span\x3e);\n      store.replaceReducer(nextReducer);\n    });\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e store;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e4.4 Action 创建函数和常量\x3c\/h4\x3e\n\x3cblockquote\x3e\x3cp\x3eapp\/action\/index.jsx\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x27use strict\x27;\n\/*\n * @author Damonare 2016-12-10\n * @version 1.0.0\n * action 类型\n *\/\nexport const Add_Todo = \x27Add_Todo\x27;\nexport const Change_Todo_To_Doing = \x27Change_Todo_To_Doing\x27;\nexport const Change_Doing_To_Done = \x27Change_Doing_To_Done\x27;\nexport const Change_Done_To_Doing = \x27Change_Done_To_Doing\x27;\nexport const Change_Doing_To_Todo = \x27Change_Doing_To_Todo\x27;\nexport const Search=\x27Search\x27;\nexport const Delete_Todo=\x27Delete_Todo\x27;\n\/*\n * action 创建函数\n * @method  addTodo添加新事项\n * @param  {String} text 添加事项的内容\n *\/\nexport function addTodo(text) {\n  return {\n      type: Add_Todo,\n      text\n  }\n}\n\/*\n * @method  search 查找事项\n * @param  {String} text 查找事项的内容\n *\/\nexport function search(text) {\n  return {\n      type: Search,\n      text\n  }\n}\n\/*\n * @method  changeTodoToDoing 状态由todo转为doing\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\nexport function changeTodoToDoing(index) {\n  return {\n      type: Change_Todo_To_Doing,\n      index\n  }\n}\n\/*\n * @method  changeDoneToDoing 状态由done转为doing\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\nexport function changeDoneToDoing(index) {\n  return {\n      type: Change_Done_To_Doing,\n      index\n  }\n}\n\/*\n * @method  changeDoingToTodo 状态由doing转为todo\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\nexport function changeDoingToTodo(index) {\n  return {\n      type: Change_Doing_To_Todo,\n      index\n  }\n}\n\/*\n * @method  changeDoingToDone 状态由doing转为done\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\nexport function changeDoingToDone(index) {\n  return {\n      type: Change_Doing_To_Done,\n      index\n  }\n}\n\/*\n * @method  deleteTodo 删除事项\n * @param  {Number} index 需要删除的事项的下标\n *\/\nexport function deleteTodo(index) {\n  return {\n      type: Delete_Todo,\n      index\n  }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x27use strict\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * @author Damonare 2016-12-10\n * @version 1.0.0\n * action 类型\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Add_Todo = \x3cspan class=\x22hljs-string\x22\x3e\x27Add_Todo\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Change_Todo_To_Doing = \x3cspan class=\x22hljs-string\x22\x3e\x27Change_Todo_To_Doing\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Change_Doing_To_Done = \x3cspan class=\x22hljs-string\x22\x3e\x27Change_Doing_To_Done\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Change_Done_To_Doing = \x3cspan class=\x22hljs-string\x22\x3e\x27Change_Done_To_Doing\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Change_Doing_To_Todo = \x3cspan class=\x22hljs-string\x22\x3e\x27Change_Doing_To_Todo\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Search=\x3cspan class=\x22hljs-string\x22\x3e\x27Search\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Delete_Todo=\x3cspan class=\x22hljs-string\x22\x3e\x27Delete_Todo\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * action 创建函数\n * @method  addTodo添加新事项\n * @param  {String} text 添加事项的内容\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaddTodo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Add_Todo,\n      text\n  }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * @method  search 查找事项\n * @param  {String} text 查找事项的内容\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esearch\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Search,\n      text\n  }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * @method  changeTodoToDoing 状态由todo转为doing\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echangeTodoToDoing\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eindex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Change_Todo_To_Doing,\n      index\n  }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * @method  changeDoneToDoing 状态由done转为doing\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echangeDoneToDoing\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eindex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Change_Done_To_Doing,\n      index\n  }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * @method  changeDoingToTodo 状态由doing转为todo\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echangeDoingToTodo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eindex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Change_Doing_To_Todo,\n      index\n  }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * @method  changeDoingToDone 状态由doing转为done\n * @param  {Number} index 需要改变状态的事项的下标\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3echangeDoingToDone\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eindex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Change_Doing_To_Done,\n      index\n  }\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * @method  deleteTodo 删除事项\n * @param  {Number} index 需要删除的事项的下标\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edeleteTodo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eindex\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Delete_Todo,\n      index\n  }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在声明每一个返回 action 函数的时候，我们需要在头部声明这个 action 的 type，以便好组织管理。\x3cbr\x3e每个函数都会返回一个 action 对象，所以在 容器组件里面调用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22text =\x3e\n  dispatch(addTodo(text))\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3etext =\x26gt;\n  dispatch(addTodo(text))\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e就是调用\x3ccode\x3edispatch(action)\x3c\/code\x3e\x26nbsp;。\x3c\/p\x3e\n\x3ch4\x3e4.5 Reducers\x3c\/h4\x3e\n\x3cblockquote\x3e\x3cp\x3eapp\/reducers\/index.jsx\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { combineReducers } from \x27redux\x27;\nimport todolist from \x27.\/todos\x27;\n\/\/ import visibilityFilter from \x27.\/visibilityFilter\x27;\n\nconst reducer = combineReducers({\n  todolist\n});\n\nexport default reducer;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { combineReducers } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e todolist \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/todos\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ import visibilityFilter from \x27.\/visibilityFilter\x27;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e reducer = combineReducers({\n  todolist\n});\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e reducer;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\x3cp\x3eapp\/reducers\/todos.jsx\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import {\n    Add_Todo,\n    Delete_Todo,\n    Change_Todo_To_Doing,\n    Change_Doing_To_Done,\n    Change_Doing_To_Todo,\n    Change_Done_To_Doing,\n    Search\n} from \x27..\/actions\x27;\nlet todos;\n(function() {\n    if (localStorage.todos) {\n        todos = JSON.parse(localStorage.todos)\n    } else {\n        todos = []\n    }\n})();\nfunction todolist(state = todos, action) {\n    switch (action.type) {\n            \/*\n        *  添加新的事项\n        *  并进行本地化存储\n        *  使用ES6展开运算符链接新事项和旧事项\n        *  JSON.stringify进行对象深拷贝\n        *\/\n        case Add_Todo:\n            localStorage.setItem(\x27todos\x27, JSON.stringify([\n                ...state, {\n                    todo: action.text,\n                    istodo: true,\n                    doing: false,\n                    done: false\n                }\n            ]));\n            return [\n                ...state, {\n                    todo: action.text,\n                    istodo: true,\n                    doing: false,\n                    done: false\n                }\n            ];\n            \/*\n            *  将todo转为doing状态，注意action.index的类型转换\n            *\/\n        case Change_Todo_To_Doing:\n            localStorage.setItem(\x27todos\x27, JSON.stringify([\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: false,\n                    doing: true,\n                    done: false\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ]));\n            return [\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: false,\n                    doing: true,\n                    done: false\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ];\n            \/*\n            *  将doing转为done状态\n            *\/\n        case Change_Doing_To_Done:\n            localStorage.setItem(\x27todos\x27, JSON.stringify([\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: false,\n                    doing: false,\n                    done: true\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ]));\n            return [\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: false,\n                    doing: false,\n                    done: true\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ];\n            \/*\n            *  将done转为doing状态\n            *\/\n        case Change_Done_To_Doing:\n            localStorage.setItem(\x27todos\x27, JSON.stringify([\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: false,\n                    doing: true,\n                    done: false\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ]));\n            return [\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: false,\n                    doing: true,\n                    done: false\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ];\n            \/*\n            *  将doing转为todo状态\n            *\/\n        case Change_Doing_To_Todo:\n            localStorage.setItem(\x27todos\x27, JSON.stringify([\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: true,\n                    doing: false,\n                    done: false\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ]));\n            return [\n                ...state.slice(0, action.index),\n                {\n                    todo:state[action.index].todo,\n                    istodo: true,\n                    doing: false,\n                    done: false\n                },\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ];\n            \/*\n            *  删除某个事项\n            *\/\n        case Delete_Todo:\n            localStorage.setItem(\x27todos\x27, JSON.stringify([\n                ...state.slice(0, action.index),\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ]));\n            return [\n                ...state.slice(0, action.index),\n                ...state.slice(parseInt(action.index) \x2b 1)\n            ];\n            \/*\n            *  搜索\n            *\/\n        case Search:\n        let text=action.text;\n        let reg=eval(\x26quot;\/\x26quot;\x2btext\x2b\x26quot;\/gi\x26quot;);\n            return state.filter(item=\x3e item.todo.match(reg));\n        default:\n            return state;\n    }\n}\nexport default todolist;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {\n    Add_Todo,\n    Delete_Todo,\n    Change_Todo_To_Doing,\n    Change_Doing_To_Done,\n    Change_Doing_To_Todo,\n    Change_Done_To_Doing,\n    Search\n} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/actions\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e todos;\n(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (localStorage.todos) {\n        todos = \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.parse(localStorage.todos)\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        todos = []\n    }\n})();\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etodolist\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate = todos, action\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (action.type) {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*\n        *  添加新的事项\n        *  并进行本地化存储\n        *  使用ES6展开运算符链接新事项和旧事项\n        *  JSON.stringify进行对象深拷贝\n        *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Add_Todo:\n            localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27todos\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify([\n                ...state, {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e: action.text,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                }\n            ]));\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n                ...state, {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e: action.text,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                }\n            ];\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*\n            *  将todo转为doing状态，注意action.index的类型转换\n            *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Change_Todo_To_Doing:\n            localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27todos\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify([\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ]));\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ];\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*\n            *  将doing转为done状态\n            *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Change_Doing_To_Done:\n            localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27todos\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify([\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ]));\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ];\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*\n            *  将done转为doing状态\n            *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Change_Done_To_Doing:\n            localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27todos\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify([\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ]));\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ];\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*\n            *  将doing转为todo状态\n            *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Change_Doing_To_Todo:\n            localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27todos\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify([\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ]));\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                {\n                    \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e:state[action.index].todo,\n                    \x3cspan class=\x22hljs-attr\x22\x3eistodo\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edoing\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3edone\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n                },\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ];\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*\n            *  删除某个事项\n            *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Delete_Todo:\n            localStorage.setItem(\x3cspan class=\x22hljs-string\x22\x3e\x27todos\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify([\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ]));\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e [\n                ...state.slice(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, action.index),\n                ...state.slice(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(action.index) \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)\n            ];\n            \x3cspan class=\x22hljs-comment\x22\x3e\/*\n            *  搜索\n            *\/\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e Search:\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e text=action.text;\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e reg=\x3cspan class=\x22hljs-built_in\x22\x3eeval\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e\x2btext\x2b\x3cspan class=\x22hljs-string\x22\x3e\x22\/gi\x22\x3c\/span\x3e);\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state.filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e=\x26gt;\x3c\/span\x3e item.todo.match(reg));\n        \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e:\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e state;\n    }\n}\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e todolist;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e具体的展示组件这里就不罗列代码了，感兴趣的可以戳这：\x3ca href=\x22https:\/\/github.com\/damonare\/memos\/tree\/master\/app\/components\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e备忘录展示组件地址\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e后记\x3c\/h2\x3e\n\x3cp\x3e严格来说，这个备忘录并不是使用的react全家桶，毕竟还有一部分less代码，不过这一个应用也算是比较全面的使用了react\x2breact-router\x2bredux，作为react全家桶技术学习的练手的小项目再适合不过了。如果您对这个小东西感兴趣，欢迎戳这:\x3ca href=\x22https:\/\/github.com\/damonare\/memos\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact全家桶实现简易备忘录\x3c\/a\x3e给个star。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>实例讲解react+react-router+redux</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007862103">https://segmentfault.com/a/1190000007862103</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/kljhw25tv5/" target="_blank">https://alili.tech/archive/kljhw25tv5/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>