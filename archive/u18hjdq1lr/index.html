<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="在 Ubuntu 上使用 SSL/TLS 搭建一个安全的 FTP 服务器"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>在 Ubuntu 上使用 SSL/TLS 搭建一个安全的 FTP 服务器 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/u18hjdq1lr/",
				"appid": "1613049289050283", 
				"title": "在 Ubuntu 上使用 SSL/TLS 搭建一个安全的 FTP 服务器 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-23T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/wuxqtauyqk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/1pzzfeqcwcii/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&text=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&text=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&title=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&is_video=false&description=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&title=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&title=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&title=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fu18hjdq1lr%2f&title=%e5%9c%a8%20Ubuntu%20%e4%b8%8a%e4%bd%bf%e7%94%a8%20SSL%2fTLS%20%e6%90%ad%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%ae%89%e5%85%a8%e7%9a%84%20FTP%20%e6%9c%8d%e5%8a%a1%e5%99%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">在 Ubuntu 上使用 SSL/TLS 搭建一个安全的 FTP 服务器</h1><div class="meta"><div class="postdate"><time datetime="2019-01-23" itemprop="datePublished">2019-01-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#在-ubuntu-上使用-ssltls-搭建一个安全的-ftp-服务器\x22\x3e\x3c\/a\x3e在 Ubuntu 上使用 SSL\/TLS 搭建一个安全的 FTP 服务器\x3c\/h1\x3e\n\x3cp\x3e在本教程中，我们将介绍如何使用 Ubuntu 16.04 \/ 16.10 中的 SSL \/ TLS 保护 FTP 服务器（FTPS）。\x3c\/p\x3e\n\x3cp\x3e如果你想为基于 CentOS 的发行版安装一个安全的 FTP 服务器，你可以阅读 – \x3ca href=\x22http:\/\/www.tecmint.com\/axel-commandline-download-accelerator-for-linux\/\x22\x3e在 CentOS 上使用 SSL \/ TLS 保护 FTP 服务器\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e在遵循本指南中的各个步骤之后，我们将了解在 FTP 服务器中启用加密服务的基本原理，以确保安全的数据传输至关重要。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#要求\x22\x3e\x3c\/a\x3e要求\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e你必须已经\x3ca href=\x22http:\/\/www.tecmint.com\/install-ftp-server-in-ubuntu\/\x22\x3e在 Ubuntu 上安装和配置好一个 FTP 服务器\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e在我们进行下一步之前，确保本文中的所有命令都将以root身份或者 \x3ca href=\x22http:\/\/www.tecmint.com\/sudoers-configurations-for-setting-sudo-in-linux\/\x22\x3esudo 特权账号\x3c\/a\x3e运行。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#第一步在-ubuntu-上为-ftp-生成-ssltls-证书\x22\x3e\x3c\/a\x3e第一步：在 Ubuntu 上为 FTP 生成 SSL\/TLS 证书\x3c\/h3\x3e\n\x3cp\x3e1、我们将首先在 \x3ccode\x3e\/etc\/ssl\/\x3c\/code\x3e 下创建一个子目录来存储 SSL\/TLS 证书和密钥文件，如果它不存在的话这样做：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs arduino\x22\x3e$ sudo \x3cspan class=\x22hljs-built_in\x22\x3emkdir\x3c\/span\x3e \/etc\/ssl\/\x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e2、 现在我们在一个单一文件中生成证书和密钥，运行下面的命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs groovy\x22\x3e$ sudo openssl req -x509 -nodes -keyout \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3essl\x3cspan class=\x22hljs-regexp\x22\x3e\/private\/\x3c\/span\x3evsftpd.pem -out \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3essl\x3cspan class=\x22hljs-regexp\x22\x3e\/private\/\x3c\/span\x3evsftpd.pem -days \x3cspan class=\x22hljs-number\x22\x3e365\x3c\/span\x3e -newkey \x3cspan class=\x22hljs-string\x22\x3ersa:\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2048\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e上面的命令将提示你回答以下问题，不要忘了输入合适于你情况的值：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs less\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eCountry\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eName\x3c\/span\x3e (\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e letter code) \x3cspan class=\x22hljs-selector-attr\x22\x3e[XX]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:IN\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eState\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eor\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eProvince\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eName\x3c\/span\x3e (full name) \x3cspan class=\x22hljs-selector-attr\x22\x3e[]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:Lower\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eParel\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eLocality\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eName\x3c\/span\x3e (eg, city) \x3cspan class=\x22hljs-selector-attr\x22\x3e[Default City]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:Mumbai\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eOrganization\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eName\x3c\/span\x3e (eg, company) \x3cspan class=\x22hljs-selector-attr\x22\x3e[Default Company Ltd]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:TecMint.com\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eOrganizational\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eUnit\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eName\x3c\/span\x3e (eg, section) \x3cspan class=\x22hljs-selector-attr\x22\x3e[]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:Linux\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eand\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eOpen\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eSource\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eCommon\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eName\x3c\/span\x3e (eg, your name or your server\x27s hostname) \x3cspan class=\x22hljs-selector-attr\x22\x3e[]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:tecmint\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eEmail\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eAddress\x3c\/span\x3e \x3cspan class=\x22hljs-selector-attr\x22\x3e[]\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:admin\x3c\/span\x3e@\x3cspan class=\x22hljs-selector-tag\x22\x3etecmint\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.com\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#第二步在-ubuntu-上配置-vsftpd-来使用-ssltls\x22\x3e\x3c\/a\x3e第二步：在 Ubuntu 上配置 vsftpd 来使用 SSL\/TLS\x3c\/h3\x3e\n\x3cp\x3e3、在我们进行 vsftpd 配置之前，对于那些\x3ca href=\x22http:\/\/www.tecmint.com\/how-to-install-and-configure-ufw-firewall\/\x22\x3e已启用 UFW 防火墙\x3c\/a\x3e的用户，你们必须打开端口 \x3ccode\x3e990\x3c\/code\x3e 和 \x3ccode\x3e40000\x3c\/code\x3e - \x3ccode\x3e50000\x3c\/code\x3e，来在 vsftpd 配置文件中分别启用 TLS 连接端口和被动端口的端口范围：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo ufw allow 990\/tcp\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo ufw allow 40000:50000\/tcp\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo ufw status\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e4、现在，打开 vsftpd 配置文件并定义 SSL 详细信息：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo vi \/etc\/vsftpd\/vsftpd.conf\x3c\/span\x3e\n或\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo nano \/etc\/vsftpd\/vsftpd.conf\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e然后，添加或找到选项 \x3ccode\x3essl_enable\x3c\/code\x3e，并将它的值设置为 \x3ccode\x3eYES\x3c\/code\x3e 来激活使用 SSL ，同样，因为 TLS 比 SSL 更安全，我们将通过启用 \x3ccode\x3essl_tlsv1\x3c\/code\x3e 选项限制 vsftpd 只使用 TLS：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ini\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3essl_enable\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eYES\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3essl_tlsv1\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eYES\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3essl_sslv2\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eNO\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3essl_sslv3\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eNO\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e5、 接下来，使用 \x3ccode\x3e＃\x3c\/code\x3e 字符注释掉下面的行，如下所示：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs gradle\x22\x3e#rsa_cert_file=\x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3essl\x3cspan class=\x22hljs-regexp\x22\x3e\/private\/\x3c\/span\x3essl-cert-snakeoil.pem\n#rsa_private_key_file=\x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/\x3c\/span\x3essl\x3cspan class=\x22hljs-regexp\x22\x3e\/private\/\x3c\/span\x3essl-cert-snakeoil.key\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e然后，添加以下行以定义 SSL 证书和密钥文件的位置（LCTT 译注：或径直修改也可）：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs makefile\x22\x3ersa_cert_file=\/etc\/ssl\/\x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e\/vsftpd.pem\nrsa_private_key_file=\/etc\/ssl\/\x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e\/vsftpd.pem\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e6、现在，我们也可以阻止匿名用户使用 SSL 登录，并且迫使所有的非匿名登录使用安全的 SSL 链接来传输数据和在登录期间发送密码：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ini\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3eallow_anon_ssl\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eNO\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eforce_local_data_ssl\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eYES\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3eforce_local_logins_ssl\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eYES\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e7、此外，我们可以使用以下选项在 FTP 服务器中添加更多的安全功能 。对于选项 \x3ccode\x3erequire_ssl_reuse=YES\x3c\/code\x3e，它表示所有的 SSL 数据链接都需重用已经建立的 SSL 会话�（需要证明客户端拥有 FTP 控制通道的主密钥），但是一些客户端不支持它，如果没有客户端问题，出于安全原因不应该关闭（默认开启）。（LCTT 译注：原文此处理解有误，译者修改。）\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ini\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3erequire_ssl_reuse\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eNO\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e此外，我们可以通过 \x3ccode\x3essl_ciphers\x3c\/code\x3e 选项来设置 vsftpd 允许使用那些加密算法。 这将有助于挫败攻击者使用那些已经发现缺陷的加密算法的尝试：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ini\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3essl_ciphers\x3c\/span\x3e=HIGH\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e8、 然后，我们定义被动端口的端口范围（最小和最大端口）。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ini\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3epasv_min_port\x3c\/span\x3e=\x3cspan class=\x22hljs-number\x22\x3e40000\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3epasv_max_port\x3c\/span\x3e=\x3cspan class=\x22hljs-number\x22\x3e50000\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e9、 要启用 SSL 调试，把 openSSL 连接诊断记录到 vsftpd 日志文件中，我们可以使用 \x3ccode\x3edebug_ssl\x3c\/code\x3e 选项：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ini\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3edebug_ssl\x3c\/span\x3e=\x3cspan class=\x22hljs-literal\x22\x3eYES\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e最后，保存配置文件并且关闭它。然后重启 vsftpd 服务：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e systemctl restart vsftpd\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#第三步在-ubuntu-上使用-ssl--tls-连接验证-ftp\x22\x3e\x3c\/a\x3e第三步：在 Ubuntu 上使用 SSL \/ TLS 连接验证 FTP\x3c\/h3\x3e\n\x3cp\x3e10、 执行所有上述配置后，通过尝试[在命令行中使用 FTP] \x3ca href=\x22http:\/\/www.tecmint.com\/sftp-command-examples\/\x22\x3e5\x3c\/a\x3e 来测试 vsftpd 是否现在使用了 SSL \/ TLS 连接，如下所示。\x3c\/p\x3e\n\x3cp\x3e从下面的输出来看，这里有一个错误的信息告诉我们 vsftpd 仅允许用户（非匿名用户）从支持加密服务的安全客户端登录。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e$ ftp 192.168.56.10\nConnected \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e 192.168.56.10  (192.168.56.10).\n220 Welcome \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e TecMint.com FTP service.\nName (192.168.56.10:root) : ravi\n530 Non-anonymous sessions must use encryption.\nLogin failed.\n421\x3cspan class=\x22hljs-built_in\x22\x3e Service \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3enot\x3c\/span\x3e available, remote\x3cspan class=\x22hljs-built_in\x22\x3e server \x3c\/span\x3ehas closed\x3cspan class=\x22hljs-built_in\x22\x3e connection\n\x3c\/span\x3eftp\x26gt;\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e该命令不支持加密服务从而导致了上述错误。因此，要安全连接到启用了加密服务的 FTP 服务器，我们需要一个默认支持 SSL\/TLS 连接的 FTP 客户端，例如 FileZilla。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#第四步在客户端上安装filezillastep来安全地连接ftp\x22\x3e\x3c\/a\x3e第四步：在客户端上安装FileZillaStep来安全地连接FTP\x3c\/h3\x3e\n\x3cp\x3e11、FileZilla 是一个强大的，广泛使用的跨平台 FTP 客户端，支持在 SSL\/TLS 上的 FTP。为了在 Linux 客户端机器上安装 FileZilla，使用下面的命令。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e---------\x3c\/span\x3e On Debian\/Ubuntu \x3cspan class=\x22hljs-params\x22\x3e---------\x3c\/span\x3e\n$ sudo apt-get install filezilla   \n\x3cspan class=\x22hljs-params\x22\x3e---------\x3c\/span\x3e On CentOS\/RHEL\/Fedora \x3cspan class=\x22hljs-params\x22\x3e---------\x3c\/span\x3e \n\x3cspan class=\x22hljs-comment\x22\x3e# yum install epel-release filezilla\x3c\/span\x3e\n\x3cspan class=\x22hljs-params\x22\x3e---------\x3c\/span\x3e On Fedora 22\x2b \x3cspan class=\x22hljs-params\x22\x3e---------\x3c\/span\x3e \n$ sudo dnf install filezilla\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e12、 一旦安装完成，打开它然后点击File=\x26gt;Sites Manager或者（按Ctrl\x2bS）来获取下面的Site Manager。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2017\/02\/Filezilla-Site-Manager.png\x22\x3e\x3cimg src=\x22https:\/\/p1.ssl.qhimg.com\/t01cd74c5b1a2a6a21c.png\x22 alt=\x22Filezilla Site Manager\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eFilezilla Site Manager\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e13、 现在，定义主机\/站点名字，添加 IP 地址，定义使用的协议，加密和登录类型，如下面的屏幕（使用适用于你方案的值）：\x3c\/p\x3e\n\x3cp\x3e点击 New Site 按钮来配置一个新的站点\/主机连接。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eHost: 192.168.56.10\x3c\/li\x3e\n\x3cli\x3eProtocol: FTP – File Transfer Protocol\x3c\/li\x3e\n\x3cli\x3eEncryption: Require explicit FTP over #推荐\x3c\/li\x3e\n\x3cli\x3eLogon Type: Ask for password #推荐\x3c\/li\x3e\n\x3cli\x3eUser: 用户名\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2017\/02\/Configure-New-FTP-Site-on-Filezilla.png\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t016aa1f72566dcba7e.png\x22 alt=\x22在Filezilla上配置新的FTP站点\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e在 Filezilla 上配置新的 FTP 站点\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e14、 然后从上面的界面单击连接以输入密码，然后验证用于 SSL \/ TLS 连接的证书，并再次单击确定以连接到 FTP 服务器：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2017\/02\/Verify-FTP-SSL-Certificate-1.png\x22\x3e\x3cimg src=\x22https:\/\/p4.ssl.qhimg.com\/t01913f1dc2c8fd9b2b.png\x22 alt=\x22验证FTP的SSL证书\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e验证 FTP 的 SSL 证书\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e15、现在，你应该通过 TLS 连接成功地登录到了 FTP 服务器，检查连接状态部分，来获取有关下面接口的更多信息。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2017\/02\/Connected-Ubuntu-FTP-Server.png\x22\x3e\x3cimg src=\x22https:\/\/p4.ssl.qhimg.com\/t01591e8374d15af757.png\x22 alt=\x22连接Ubuntu的FTP服务器\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e连接 Ubuntu 的 FTP 服务器\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e16、 最后，让我们在文件夹中\x3ca href=\x22http:\/\/www.tecmint.com\/sftp-command-examples\/\x22\x3e从本地的机器传送文件到 FTP 服务器\x3c\/a\x3e, 查看 FileZilla 界面的下端来查看有关文件传输的报告。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/www.tecmint.com\/wp-content\/uploads\/2017\/02\/Transfer-Files-Securely-using-FTP.png\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01370cee582cd9091c.png\x22 alt=\x22使用Filezilla安全的传输FTP文件\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e使用 Filezilla 安全的传输 FTP 文件\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e就这样！ 始终记住，安装 FTP 服务器而不启用加密服务具有某些安全隐患。 正如我们在本教程中解释的，您可以在 Ubuntu 16.04 \/ 16.10 中配置 FTP 服务器使用 SSL \/ TLS 连接来实现安全性。\x3c\/p\x3e\n\x3cp\x3e如果你在 FTP 服务器上设置 SSL\/TLS 遇到任何问题，请使用以下评论表单来分享您对本教程\/主题的问题或想法。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e作者简介：\x3c\/p\x3e\n\x3cp\x3eAaron Kili 是 Linux 和 F.O.S.S 爱好者，即将成为 Linux SysAdmin 和网络开发人员，目前是 TecMint 的内容创作者，他喜欢在电脑上工作，并坚信分享知识。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22http:\/\/www.tecmint.com\/secure-ftp-server-using-ssl-tls-on-ubuntu\/\x22\x3ehttp:\/\/www.tecmint.com\/secure-ftp-server-using-ssl-tls-on-ubuntu\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22http:\/\/www.tecmint.com\/author\/aaronkili\/\x22\x3eAaron Kili\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/DockerChen\x22\x3eDockerChen\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>在 Ubuntu 上使用 SSL/TLS 搭建一个安全的 FTP 服务器</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/setting-up-a-secure-ftp-server-using-ssl-tls-on-ubuntu">https://www.zcfy.cc/article/setting-up-a-secure-ftp-server-using-ssl-tls-on-ubuntu</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/u18hjdq1lr/" target="_blank">https://alili.tech/archive/u18hjdq1lr/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>