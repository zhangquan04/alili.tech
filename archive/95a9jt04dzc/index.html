<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React进阶—性能优化"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React进阶—性能优化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/95a9jt04dzc/",
				"appid": "1613049289050283", 
				"title": "React进阶—性能优化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-17T02:30:25"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/q522jummsvs/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/e4rpuyrcaps/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&text=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&text=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&title=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&is_video=false&description=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&title=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&title=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&title=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f95a9jt04dzc%2f&title=React%e8%bf%9b%e9%98%b6%e2%80%94%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React进阶—性能优化</h1><div class="meta"><div class="postdate"><time datetime="2019-01-17" itemprop="datePublished">2019-01-17</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3eReact性能优化思路\x3c\/h2\x3e\n\x3cp\x3e软件的性能优化思路就像生活中去看病，大致是这样的：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e使用工具来分析性能瓶颈（找病根）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e尝试使用优化技巧解决这些问题（服药）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用工具测试性能是否确实有提升（疗效确认）\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3eReact性能优化的特殊性\x3c\/h3\x3e\n\x3cp\x3e看过《高性能JavaScript》这本书的小伙伴都知道，JavaScipt的语言特性、数据结构和算法、浏览器机理、网络传输等都可能导致性能问题。同样是web实现，跟传统的技术（如原生js、jQuery）相比, react的性能优化有什么不同呢？\x3c\/p\x3e\n\x3cp\x3e使用jQuery时，要考虑怎么使用选择器来提高元素查找效率、不要在循环体内进行DOM操作、使用事件委托呀等等。到了React这里，这些东西好像都用不上了。是的，因为React有一个很大的不同点，它实现了虚拟DOM，并且接管了DOM的操作。你不能直接去操作DOM来改变UI，你只能通过改变数据源（props和state）来驱动UI的变化。\x3c\/p\x3e\n\x3cp\x3e说起React的性能分析，还得从它的生命周期和渲染机制说起：\x3c\/p\x3e\n\x3ch4\x3eReact组件生命周期\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLyCB?w=2803\x26amp;h=2945\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLyCB?w=2803\x26amp;h=2945\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e当 props 和 state 发生变化时，React会根据shouldComponentUpdate方法来决定是否重新渲染整个组件。\x3c\/p\x3e\n\x3ch4\x3eReact组件树渲染机制\x3c\/h4\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLBVL?w=1164\x26amp;h=742\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLBVL?w=1164\x26amp;h=742\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e父亲组件的props 和 state发生变化时，它和它的子组件、孙子组件等所有后代组件都会重新渲染。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e综上所述，可以得出React的性能优化就是围绕shouldComponentUpdate方法（SCU）来进行的，无外乎两点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e缩短SCU方法的执行时间(或者不执行)。\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e没必要的渲染，SCU应该返回false。\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eReact 性能分析工具\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eWeb通用工具：Chrome DevTools\x3c\/h3\x3e\n\x3cp\x3e最常用到的是Chrome DevTools的Timeline和Profiles。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eTimeline工具栏提供了对于在装载你的Web应用的过程中，时间花费情况的概览，这些应用包括处理DOM事件, 页面布局渲染或者向屏幕绘制元素。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通过Timeline发现是脚本问题时，使用Profiles作进一步分析。Profiles可以提供更加详细的脚本信息。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3eReact特色工具：Perf\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/perf.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePerf\x3c\/a\x3e 是react官方提供的性能分析工具。Perf最核心的方法莫过于\x3ccode\x3ePerf.printWasted(measurements)\x3c\/code\x3e了，该方法会列出那些没必要的组件渲染。很大程度上，React的性能优化就是干掉这些无谓的渲染。\x3c\/p\x3e\n\x3cp\x3e有童鞋开发了Chrome扩展程序“React Perf”（\x3ca href=\x22https:\/\/chrome.google.com\/webstore\/detail\/react-perf\/hacmcodfllhbnekmghgdlplbdnahmhmm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e戳这里\x3c\/a\x3e）。相比自己在代码中插入Perf方法进行分析，这个小工具更加灵活方便，墙裂推荐！\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e案例分析：TodoList\x3c\/h2\x3e\n\x3cp\x3eTodoList的功能很简单，就是对待办事项进行增加和删除操作：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLBOY?w=460\x26amp;h=708\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLBOY?w=460\x26amp;h=708\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React, {PropTypes, Component} from \x27react\x27;\n\nclass TodoItem extends Component {\n\n    static propTypes = {\n        deleteItem: PropTypes.func.isRequired,\n        item: PropTypes.shape({\n            text: PropTypes.string.isRequired,\n            id: PropTypes.number.isRequired,\n        }).isRequired,\n    };\n\n    deleteItem = ()=\x3e{\n        let id = this.props.item.id;\n        this.props.deleteItem(id);\n    };\n\n    render() {\n        return (\n            \x3cdiv\x3e\n                \x3cbutton style=\x22{{\x22width: 30\x22}}\x22 onClick={this.deleteItem}\x3eX\x3c\/button\x3e\n                \x26amp;nbsp;\n                \x3cspan\x3e{this.props.item.text}\x3c\/span\x3e\n            \x3c\/div\x3e\n        );\n    }\n\n}\n\nclass Todos extends Component {\n\n    \/\/ 构造\n    constructor(props) {\n        super(props);\n        \/\/ 初始状态\n        this.state = {\n            items: this.props.initialItems,\n            text: \x27\x27,\n        };\n    }\n\n    static propTypes = {\n        initialItems: PropTypes.arrayOf(PropTypes.shape({\n            text: PropTypes.string.isRequired,\n            id: PropTypes.number.isRequired,\n        }).isRequired).isRequired,\n    };\n\n    addTask = (e)=\x3e {\n        e.preventDefault();\n        this.setState({\n            items: [{id: ID\x2b\x2b, text: this.state.text}].concat(this.state.items),\n            text: \x27\x27,\n        });\n    };\n\n    deleteItem = (itemId)=\x3e {\n        this.setState({\n            items: this.state.items.filter((item) =\x3e item.id !== itemId),\n        });\n    };\n\n    render() {\n        return (\n            \x3cdiv\x3e\n                \x3ch1\x3e待办事项\x3c\/h1\x3e\n                \x3cform onSubmit={this.addTask}\x3e\n                    \x3cinput value={this.state.text} onChange={(v)=\x3e{this.setState({text:v.target.value});\x22}}\x22\/\x3e\n                    \x3cbutton\x3e添加\x3c\/button\x3e\n                \x3c\/form\x3e\n                {this.state.items.map((item) =\x3e {\n                    return (\n                        \x3cTodoItem key={item.id}\n                                  item={item}\n                                  deleteItem={this.deleteItem}\/\x3e\n                    );\n                })}\n            \x3c\/div\x3e\n        );\n    }\n}\n\nlet ID = 0;\nconst items = [];\nfor (let i = 0; i \x3c 1000; i\x2b\x2b) {\n    items.push({id: ID\x2b\x2b, text: \x27事项\x27 \x2b i});\n}\n\nclass TodoList extends Component {\n    render() {\n        return (\n            \x3cTodos initialItems={items}\/\x3e\n        );\n    }\n}\n\nexport default TodoList;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, {PropTypes, Component} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTodoItem\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e propTypes = {\n        \x3cspan class=\x22hljs-attr\x22\x3edeleteItem\x3c\/span\x3e: PropTypes.func.isRequired,\n        \x3cspan class=\x22hljs-attr\x22\x3eitem\x3c\/span\x3e: PropTypes.shape({\n            \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: PropTypes.string.isRequired,\n            \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: PropTypes.number.isRequired,\n        }).isRequired,\n    };\n\n    deleteItem = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e id = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.item.id;\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.deleteItem(id);\n    };\n\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{{\x22width:\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e30\x3c\/span\x3e\x22}}\x22 \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.deleteItem}\x3c\/span\x3e\x26gt;\x3c\/span\x3eX\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x26amp;nbsp;\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e{this.props.item.text}\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n        );\n    }\n\n}\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTodos\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 构造\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n        \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始状态\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n            \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.initialItems,\n            \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n        };\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e propTypes = {\n        \x3cspan class=\x22hljs-attr\x22\x3einitialItems\x3c\/span\x3e: PropTypes.arrayOf(PropTypes.shape({\n            \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: PropTypes.string.isRequired,\n            \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: PropTypes.number.isRequired,\n        }).isRequired).isRequired,\n    };\n\n    addTask = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e {\n        e.preventDefault();\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: [{\x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e: ID\x2b\x2b, \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.text}].concat(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.items),\n            \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n        });\n    };\n\n    deleteItem = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitemId\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n            \x3cspan class=\x22hljs-attr\x22\x3eitems\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.items.filter(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e item.id !== itemId),\n        });\n    };\n\n    render() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x26lt;div\x26gt;\n                \x26lt;h1\x26gt;待办事项\x26lt;\/h1\x26gt;\n                \x26lt;form onSubmit={this.addTask}\x26gt;\n                    \x26lt;input value={this.state.text} onChange={(v)=\x26gt;{this.setState({text:v.target.value});\x22}}\x22\/\x26gt;\n                    \x26lt;button\x26gt;添加\x26lt;\/button\x26gt;\n                \x26lt;\/form\x26gt;\n                {this.state.items.map((item) =\x26gt; {\n                    return (\n                        \x26lt;TodoItem key={item.id}\n                                  item={item}\n                                  deleteItem={this.deleteItem}\/\x26gt;\n                    );\n                })}\n            \x26lt;\/div\x26gt;\n        );\n    }\n}\n\nlet ID = 0;\nconst items = [];\nfor (let i = 0; i \x26lt; 1000; i\x2b\x2b) {\n    items.push({id: ID\x2b\x2b, text: \x27事项\x27 \x2b i});\n}\n\nclass TodoList extends Component {\n    render() {\n        return (\n            \x26lt;Todos initialItems={items}\/\x26gt;\n        );\n    }\n}\n\nexport default TodoList;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e在待办事项输入框里输入一个字母\x3c\/strong\x3e，接下来我们以这个行为为例来进行性能分析和优化。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e第一次优化\x3c\/h3\x3e\n\x3cp\x3e使用Chrome开发者工具的Timeline记录下这个过程：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLBSD?w=1994\x26amp;h=1268\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLBSD?w=1994\x26amp;h=1268\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e重点关注出现的红色块，代表这个行为存在性能问题。从上图我们可以看出，耗时的\x3ccode\x3eEvent(keypress)\x3c\/code\x3e长条花了98.8ms,其中98.5ms用于脚本处理，可见脚本问题是罪魁祸首。\x3c\/p\x3e\n\x3cp\x3e接着，我们使用Profiles来进一步分析脚本问题：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLBSX?w=1480\x26amp;h=488\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLBSX?w=1480\x26amp;h=488\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e对Total Time进行降序排列，发现耗时最长的是dispatchEvent，来自react源码。这时，我们就可以确定是react这一层出现了性能问题。\x3c\/p\x3e\n\x3cp\x3e嗯，轮到Perf出场了：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLBUk?w=1764\x26amp;h=350\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLBUk?w=1764\x26amp;h=350\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e上图表示，有1000次不必要的渲染发生在TodoItem组件上. \x3c\/p\x3e\n\x3cp\x3e打开react面板，我们来看看组件的层次和相应的state、props值：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLBUZ?w=1748\x26amp;h=1158\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLBUZ?w=1748\x26amp;h=1158\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eTodoItem是Todos的子组件，当我们在输入框输入字母“s”时，Todos的state值发生改变时，文章开头所说的react的渲染机制导致Todos下的1000个TodoItem组件都会重新渲染一次。但是，TodoItem的展现其实没有任何变化。\x3cbr\x3e从代码中，我们可以看出，TodoItem组件展现只跟props（deleteItem、item）相关。props没有变化，TodoItem就没必要渲染。\x3c\/p\x3e\n\x3cp\x3e所以，我们应该优化下TodoItem的SCU方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class TodoItem extends Component {\n    \n    ...\n    \n    \/\/在props没有变化的时候返回false，不重新渲染\n    shouldComponentUpdate(nextState,nextProps) {\n        if(this.props.item == nextProps.item \x26amp;\x26amp; this.props.deleteItem == nextProps.deleteItem){\n            return false;\n        }\n        return true;\n    }\n\n    render() {\n       ... \n    }\n\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTodoItem\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \n    ...\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/在props没有变化的时候返回false，不重新渲染\x3c\/span\x3e\n    shouldComponentUpdate(nextState,nextProps) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.item == nextProps.item \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.deleteItem == nextProps.deleteItem){\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    }\n\n    render() {\n       ... \n    }\n\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e(PS: TodoItem中的SCU方法，使用的是浅比较，也可以使用PureComponent代替。实际项目中，往往需要使用复杂的深比较，可以考虑使用\x3ca href=\x22https:\/\/facebook.github.io\/immutable-js\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eImmutable.js\x3c\/a\x3e)\x3c\/p\x3e\n\x3cp\x3e验证下优化效果，使用Perf测试，发现1000个多余的渲染被干掉了！\x3cbr\x3e再次使用Timeline分析，\x3ccode\x3eEvent(keypress)\x3c\/code\x3e耗时从98.5ms降到了26.49ms，性能提升了2.7倍：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLBYw?w=1514\x26amp;h=892\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLBYw?w=1514\x26amp;h=892\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e疗效还不错！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e第二次优化\x3c\/h3\x3e\n\x3cp\x3e通过SCU返回false，我们避免了无谓的渲染。但是，我们还是调用了1000次TodoItem的SCU方法，这也是一笔不小的性能开支。\x3c\/p\x3e\n\x3cp\x3e是否可以不用调用呢？通过合理地规划组件粒度，可以做到：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/将增加待办事项抽象成一个组件\nclass AddItem extends Component{\n     constructor(props) {\n       super(props);\n       this.state = {\n           text:\x26quot;\x26quot;\n       };\n     }\n\n    static PropTypes = {\n      addTask:PropTypes.func.isRequired\n    };\n\n    addTask = (e)=\x3e{\n        e.preventDefault();\n        this.props.addTask(this.state.text);\n    };\n\n    render(){\n        return (\n            \x3cform onSubmit={this.addTask}\x3e\n                \x3cinput value={this.state.text} onChange={(v)=\x3e{this.setState({text:v.target.value});\x22}}\x22\/\x3e\n                \x3cbutton\x3e添加\x3c\/button\x3e\n            \x3c\/form\x3e\n        );\n\n    }\n}\n\nclass Todos extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: this.props.initialItems,\n        };\n    }\n\n    static propTypes = {\n        initialItems: PropTypes.arrayOf(PropTypes.shape({\n            text: PropTypes.string.isRequired,\n            id: PropTypes.number.isRequired,\n        }).isRequired).isRequired,\n    };\n\n    addTask = (text)=\x3e{\n        this.setState({\n            items: [{id: ID\x2b\x2b, text:text}].concat(this.state.items),\n            text: \x27\x27,\n        });\n    };\n\n    deleteItem = (itemId)=\x3e{\n        this.setState({\n            items: this.state.items.filter((item) =\x3e item.id !== itemId),\n        });\n    };\n\n    render() {\n        return (\n            \x3cdiv\x3e\n                \x3ch1\x3e待办事项V3\x3c\/h1\x3e\n                \x3cAddItem addTask={this.addTask}\/\x3e\n                {this.state.items.map((item) =\x3e {\n                    return (\n                        \x3cTodoItem key={item.id}\n                                  item={item}\n                                  deleteItem={this.deleteItem}\/\x3e\n                    );\n                })}\n            \x3c\/div\x3e\n        );\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/将增加待办事项抽象成一个组件\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAddItem\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e\x3c\/span\x3e{\n     \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n       \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n       \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n           \x3cspan class=\x22hljs-attr\x22\x3etext\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\n       };\n     }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e PropTypes = {\n      \x3cspan class=\x22hljs-attr\x22\x3eaddTask\x3c\/span\x3e:PropTypes.func.isRequired\n    };\n\n    addTask = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)=\x26gt;\x3c\/span\x3e{\n        e.preventDefault();\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.addTask(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.text);\n    };\n\n    render(){\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n            \x26lt;form onSubmit={this.addTask}\x26gt;\n                \x26lt;input value={this.state.text} onChange={(v)=\x26gt;{this.setState({text:v.target.value});\x22}}\x22\/\x26gt;\n                \x26lt;button\x26gt;添加\x26lt;\/button\x26gt;\n            \x26lt;\/form\x26gt;\n        );\n\n    }\n}\n\nclass Todos extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: this.props.initialItems,\n        };\n    }\n\n    static propTypes = {\n        initialItems: PropTypes.arrayOf(PropTypes.shape({\n            text: PropTypes.string.isRequired,\n            id: PropTypes.number.isRequired,\n        }).isRequired).isRequired,\n    };\n\n    addTask = (text)=\x26gt;{\n        this.setState({\n            items: [{id: ID\x2b\x2b, text:text}].concat(this.state.items),\n            text: \x27\x27,\n        });\n    };\n\n    deleteItem = (itemId)=\x26gt;{\n        this.setState({\n            items: this.state.items.filter((item) =\x26gt; item.id !== itemId),\n        });\n    };\n\n    render() {\n        return (\n            \x26lt;div\x26gt;\n                \x26lt;h1\x26gt;待办事项V3\x26lt;\/h1\x26gt;\n                \x26lt;AddItem addTask={this.addTask}\/\x26gt;\n                {this.state.items.map((item) =\x26gt; {\n                    return (\n                        \x26lt;TodoItem key={item.id}\n                                  item={item}\n                                  deleteItem={this.deleteItem}\/\x26gt;\n                    );\n                })}\n            \x26lt;\/div\x26gt;\n        );\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e把增加待办事项抽象成一个AddItem组件。这样一来，组件树从原来的\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLB03?w=612\x26amp;h=430\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLB03?w=612\x26amp;h=430\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e变成\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLB04?w=700\x26amp;h=470\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLB04?w=700\x26amp;h=470\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e输入信息时触发变化的text这个state值，被下放到AddItem组件来管理，因此不会导致兄弟组件（TodoItem）的重新渲染。\x3c\/p\x3e\n\x3cp\x3e再次运行Timeline测试，这时\x3ccode\x3eEvent(keypress)\x3c\/code\x3e耗时从26.49ms降到了7.98ms,性能提升了2.3倍：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVLB1R?w=1268\x26amp;h=872\x22 src=\x22https:\/\/static.alili.tech\/img\/bVLB1R?w=1268\x26amp;h=872\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e至此，性能优化完毕~\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React进阶—性能优化</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008925295">https://segmentfault.com/a/1190000008925295</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/95a9jt04dzc/" target="_blank">https://alili.tech/archive/95a9jt04dzc/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>