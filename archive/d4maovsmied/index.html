<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[译注] MVVM 模式"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[译注] MVVM 模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/d4maovsmied/",
				"appid": "1613049289050283", 
				"title": "[译注] MVVM 模式 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-02T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/l6tt5znfp4r/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/pkedmi91nzr/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&text=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&text=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&title=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&is_video=false&description=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&title=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&title=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&title=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fd4maovsmied%2f&title=%5b%e8%af%91%e6%b3%a8%5d%20MVVM%20%e6%a8%a1%e5%bc%8f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[译注] MVVM 模式</h1><div class="meta"><div class="postdate"><time datetime="2019-02-02" itemprop="datePublished">2019-02-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e原文：\x3ca href=\x22https:\/\/github.com\/kuitos\/kuitos.github.io\/issues\/35\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/kuitos\/kui...\x3c\/a\x3e\x3cbr\x3e全部文章：\x3ca href=\x22https:\/\/github.com\/kuitos\/kuitos.github.io\/issues\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/kuitos\/kui...\x3c\/a\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader0\x22\x3e[译注] MVVM 模式\x3c\/h1\x3e\n\x3cblockquote\x3e\x3cp\x3e原文：\x3ca href=\x22https:\/\/msdn.microsoft.com\/en-us\/library\/hh848246.aspx\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eThe MVVM Pattern\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eMVVM 模式跟 Silverlight 这类 XAML 应用平台是天生合拍的。这是因为 MVVM 模式利用了Silverlight 的一些特殊能力，比如说 数据绑定，命令，行为等。MVVM 跟其他一些将表现及UI布局 与展示层逻辑的职责进行分离的模式很相似；如果你对 MVC 模式熟悉的话，你会发现它与 MVVM 之间存在很多相似的概念。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e译者注：XAML(Extensible Application Markup Language)是微软为构建GUI程序而创建的一种标记语言，你可以将它等同于 web 体系中 HTML。以下译文中，web 开发者可以将 XAML 统一代入为 HTML。Silverlight 则是微软开发的一个 富互联网应用(Rich Internet Application) 开发平台。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eMVVM 模式的设计动机\x3c\/h2\x3e\n\x3cp\x3e诸如 Windows Forms，WPF，Silverlight 以及 Windows Phone 这类开发技术都提供了一个默认的体验，那就是它可以让开发者从工具箱中拖拽控件到设计面板，然后在代码文件中编写一定格式的代码就能完成整个开发。但是随着这类应用的增长规模及作用范围的变化，复杂的维护性问题就会随之而来。由于 UI控件 与 业务逻辑 之间的紧耦合，相应带来的问题就是 UI 变更的代价增大，以及难以编写针对性的单元测试。\x3c\/p\x3e\n\x3cp\x3e使用 MVVM 模式来实现应用的主要动机有以下几点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e它提供了一系列分离的概念。紧耦合，难变化，脆弱的代码导致了各种各样的长期维护的问题，最后导致了客户对交付的软件较低的满意度。在应用逻辑及 UI 之间进行干净的分离将会让应用更容易测试，维护以及拓展。它提高了代码的重用性同时使得 开发-设计 的工作流变为可能。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e它与 XAML 平台是天生合拍的。MVVM 模式的关键推动力来自于 Silverlight 平台丰富的数据绑定技术栈及一些依赖属性。这些东西的组合提供了 UI 到 VM(译者注：view model 视图模型后面统一简称 VM) 之间的连接方式。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e它使得 开发-设计 的工作流成为可能。当 UI XAML 不是与代码紧耦合时，设计师们就很容易去自由的发挥他们的创造力，从而做出一个更优秀的产品。\x3cstrong\x3e(译者：简单来说就是 视图层 跟 M\/VM 层的开发可以是正交的。)\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e它增强了应用的可测试性。将 UI 逻辑转移到一个可以独立实例化的类中，可以让单元测试的编写更加容易。\x3cstrong\x3e(译者：这一点其实非常重要)\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3eMVVM 模式\x3c\/h2\x3e\n\x3cp\x3eModel-View-ViewModel 的模式可以用到所有的 XAML 平台上。它的意图是在 UI 控件和它们的逻辑之间进行一个纯净的概念分离。\x3c\/p\x3e\n\x3cp\x3eMVVM 模式中有三个核心的组件：model(模型)，view(视图) 以及 view-model(视图模型)(译者注：为保证交流中术语的一致性，model、view、view-model后面均不作翻译)，它们彼此间扮演一个截然不同的角色。下面的插图展示了这三个组件之间的关系：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000004838984\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000004838984\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e每个组件之间都是相互解耦的，这也使得：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e组件可以被交换\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e内部实现可以在不影响其他组件的情况下修改\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e组件可以独立的运作\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e隔离的单元测试\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e除了理解这三个组件的职责，理解组件之间是如何交互的也同样重要。在最高的层级上，view 能感知到 view-model，view-model 能感知到 model，但是 model 并不会察觉到 view-model 的存在，同样的，view-model 也察觉不到 view。\x3c\/p\x3e\n\x3cp\x3eview-model 将 model 类 与 view 隔离开来，这也使得 model 可以独立于 view 进行演化。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eView\x3c\/h3\x3e\n\x3cp\x3eview 的职责是用来定义 结构、布局，及用户在屏幕上看到的外观表现。理想情况下，view 仅通过 XAML 定义，以及一些有限的不包含业务逻辑的代码。\x3c\/p\x3e\n\x3cp\x3e在一个 Windows Phone 应用中，view 通常是一个页面。除此之外，一个 view 也可以是一个父 view 的子组件，或者一个 ItemsControl 中的 DataTemplate对象。\x3c\/p\x3e\n\x3cp\x3e一个 view 可以有自己的 view-model，或者继承自父级 view 的 view-model。\x3cstrong\x3e视图通过绑定，或者调用 view-model 上的方法来获取数据。\x3c\/strong\x3e在运行期间，UI 控件将会响应 view-model 属性触发的变化通知，从而改变 view。\x3c\/p\x3e\n\x3cp\x3e有一些 view 上的交互会触发 view-model 上的代码执行，比如说按钮点击或者选项选中事件。如果这个控件是一个命令源，这个控件的 Command 属性可以在 view-model 上绑定成一个 ICommand 属性。当这个控件的命令被调用，view-model 上相应的代码就会被执行。除了命令，行为也能被附加到 view 的一个对象中，然后监听命令调用及事件触发。作为回应，这个行为之后可以调用 view-mode 上的 ICommand 或者方法。\x3cstrong\x3e(译者：web 领域里这些就是指的模板上的事件绑定语法，通常由框架提供)\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3eModel\x3c\/h3\x3e\n\x3cp\x3emodel 在 MVVM 中是应用的域模型(domain model)实现，它\x3cstrong\x3e包含数据模型以及相应的业务和校验逻辑\x3c\/strong\x3e。model 对象的例子包括，数据仓库(repositories)，业务对象，数据转换对象(DTOs)，POCO对象，以及生成的实体及代理对象。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e译者：一个 model 应该包含基本的模型数据、基本的业务逻辑、业务规则、数据转换、依赖校验逻辑等。这里要提到的一个概念就是，域模型分为两个类型，一类是贫血的(Anemic domain model)，一类是非贫血的(non-anemic)。贫血的域模型只包含基础的数据信息，而不含有其他数据校验、业务规则等逻辑，它更像是一种数据库结构在代码层面的还原。在贫血域模型设计中，业务逻辑通常作为一个独立的代码部分，用来转换模型对象的状态，且各个处理之间可以组合嵌套（用过Redux的同学有没有觉得很熟悉的感觉？）。在面向对象设计领域，这通常被视为一个反模式。（OO与FP之间的冲突）\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eView Model\x3c\/h3\x3e\n\x3cp\x3eview-mode 作为 view 和 model 的中间人，它的职责是用于处理 view 的逻辑。\x3cstrong\x3e通常情况下，view-model 与 model 之间的交互是通过调用 model 类中的方法来完成的。之后 view-model 依据 model 中的数据提供一种方便 view 使用的格式。\x3c\/strong\x3eview-model 从 model 中获取数据然后使其对 view 可用的同时，为了让 view 操作起来更简单，可能会通过一些方式做数据格式转换。view-model 还提供了一些命令的实现让应用的用户可以在 view 中使用。比如说，当用户点击了 UI 中的一个 button，这个动作可以触发 view-model 中的一个命令。view-model 同样有职责去定义一些某些方面会影响 view 展示的逻辑状态的变化，比如说一个表明一些操作是挂起的状态。\x3c\/p\x3e\n\x3cp\x3e为了让 view-model 参与到与 view 的双向数据绑定当中，它的属性必须触发 PropertyChanged 事件。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e(译者注：后面这两段是基于 .NET 平台的具体代码实践，换算到 web 领域，基本上说的就是在 VM 中监听数据变化，然后做出对应的反应。)\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eView-model 通过实现 INotifyPropertyChanged 接口以及属性变化时触发的 PropertyChanged 事件来满足这个需求。当属性发生变更时，监听者可以适当做回应。\x3c\/p\x3e\n\x3cp\x3e对于集合而言，相应的提供了视图友好的工具System.Collections.ObjectModel.ObservableCollection\x26lt;T\x26gt; 。这个工具实现了集合变更通知，从而减轻了开发者自己在集合上实现 INotifyCollectionChanged 接口的负担。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e译者：这里提到了一个很重要的事情，就是 vm 获取到 model 中的数据后，可能需要做一些相应的数据格式化，以方便 view 使用。在 ng1.x 及 vue1.x 中，这类操作通常是通过在视图模板上绑定过滤器语法实现的(\x3ccode\x3eng-bind=\x22model | upperCase\x22\x3c\/code\x3e)，然而 MVVM 定义中，数据转换\/格式化 的操作本身也是属于 VM 的一部分。这也是为什么我非常赞同 vue2 中废除 filter 的一部分原因：\x3ca href=\x22https:\/\/github.com\/vuejs\/vue\/issues\/2756#issuecomment-215503966\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eVue 2.0 - Bring back filters please\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e连接 View Models 到 Views\x3c\/h2\x3e\n\x3cp\x3eMVVM 利用了 Silverlight 中的数据绑定能力以及行为和事件触发器来管理 view 和 view-model 之间的联系。这些能力将业务代码需要出现在视图代码中必要性变得很低。\x3c\/p\x3e\n\x3cp\x3e有很多用来连接 view-model 和 view 的方法，包括直接的关系以及基于容器的方式。然而，所有的方式共有的一个目标就是，给 view 的 DataContext 属性分配一个 view-model。\x3c\/p\x3e\n\x3cp\x3eViews 可以与 view models 在独立代码文件里建立连接，也可以直接在 view 中。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e译者：这里提到了 silverlight 里的 DataContext，换到 web 领域的 MVVM 框架里我们可以理解成作用域，即框架通过给某个视图的作用域分配一个 view-model 的方式，来完成 view 和 view-model 的衔接。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eCode-Behind(独立代码)\x3c\/h3\x3e\n\x3cp\x3e一个 view 的代码可以是在独立代码文件中，于此同时 view-model 需要分配成它的 DataContext 属性。这可以是通过一个简单的 view 初始化一个新的 view-model 然后分配给它的 DataContext 属性来完成，也可以通过 view 使用控制反转(IOC)容器注入一个 view-model 来实现。\x3c\/p\x3e\n\x3cp\x3e\x3cdel\x3e但是，在独立代码中 连接一个 view-model 到 view 中的做法是不推荐的，它可能给同时使用 VS 及 MSB(Microsoft Expression Blend®) 设计软件的设计师造成问题。\x3c\/del\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3eView\x3c\/h3\x3e\n\x3cp\x3e如果一个 view-model 没有任何的构造器参数，它可以被当做 view 的 DataContext 来实例化。一个通常的实现方法是使用一个 view-model 定位器。这个资源可以公开应用的 view models 作为属性，从而使得独立的 view 可以绑定上去。这种方式意味着应用只有一个类用来连接 view models 到 views。此外，它仍然让开发者可以自由选择手动执行 view-model 定位器内的连接，或者使用一个依赖注入容器。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e译者：框架实现指导\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3eMVVM 的优势\x3c\/h2\x3e\n\x3cp\x3eMVVM 使得完美的 开发-设计 工作流变为可能，它具备以下优点：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e开发期间，工程师和设计师可以更独立并行的在各自的组件上工作。设计师可以专注于 view，如果他们使用 Expression Blend，他们可以轻松的生成示例数据，而这个时候开发者只需要专注于 view model 和 model 组件。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e开发者可以为 view-model 和 model 编写单元测试，而不用去管 view。view-model 的单元测试可以完全模拟在 view 上用的那些功能。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e由于 view 是完全由 XAML 实现的，这也让应用的 UI 重新设计变得简单，而且还不用去触碰到逻辑代码。一个新的版本的 view 应该依然可以与之前已存在的 view-model 一起运行。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果已经存在一个封装好了已有业务逻辑的 model ，改这个 model 可能会比较困难或有风险。在这个场景中，view-model 应该作为一个 model 类的适配器，从而避免 model 的代码需要做大的变动。(译者注：也就是说，view-model 应该对 model 中的数据做一些基础转换，从而去适配新的 view 或交互逻辑)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e更多关于 MVVM 的信息，参考以下文档： \x3ca href=\x22https:\/\/msdn.microsoft.com\/en-us\/library\/gg405484(v=pandp.40\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eImplementing the MVVM Pattern\x3c\/a\x3e.aspx) \x3ca href=\x22https:\/\/msdn.microsoft.com\/en-us\/library\/gg405494(v=pandp.40\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAdvanced MVVM Scenarios\x3c\/a\x3e.aspx)\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e译者按：\x3c\/h2\x3e\n\x3cp\x3eMVVM 作为2005年微软提出来的 UI 架构，我认为在经过这么多年的检验之后，还是非常值得信赖的。虽然在这一两年随着 React 的兴起，以及在前端领域“起死回生”的函数式编程，MVVM 被各种错误或‘恶意’的解读导致其花式被黑。但是在我看来，MVVM 作为一个完整的 GUI 架构，跟 Flux 流派的数据层架构本身理念上是并不冲突的。我们依然可以 M\/VM 层实践 Flux。\x3c\/p\x3e\n\x3cp\x3e我认为就前端领域而言，MVVM 最大的意义在于，如果我们能很干净的分离出应用的 view 和 M\/VM，我们就可以使得整个应用的业务模型能独立于框架运行。相比于现在换一个框架就\x3cstrong\x3e重写\x3c\/strong\x3e一次应用的做法(老实说我受够了而且觉得没什么价值)，再结合当前前端‘欣欣向荣’的状态，如果能做到只需要花费很小的代价，我们就能快速的享受到新技术带来的红利，那基本上就非常美好了。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[译注] MVVM 模式</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007047009">https://segmentfault.com/a/1190000007047009</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/d4maovsmied/" target="_blank">https://alili.tech/archive/d4maovsmied/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>