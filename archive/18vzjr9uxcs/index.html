<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="太急了点吧？贴吧PWA20天就出炉了"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>太急了点吧？贴吧PWA20天就出炉了 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/18vzjr9uxcs/",
				"appid": "1613049289050283", 
				"title": "太急了点吧？贴吧PWA20天就出炉了 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-12T02:30:24"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/zhuh59xrqfl/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/h8mmqc892l6/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&text=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&text=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&title=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&is_video=false&description=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&title=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&title=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&title=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f18vzjr9uxcs%2f&title=%e5%a4%aa%e6%80%a5%e4%ba%86%e7%82%b9%e5%90%a7%ef%bc%9f%e8%b4%b4%e5%90%a7PWA20%e5%a4%a9%e5%b0%b1%e5%87%ba%e7%82%89%e4%ba%86"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">太急了点吧？贴吧PWA20天就出炉了</h1><div class="meta"><div class="postdate"><time datetime="2019-01-12" itemprop="datePublished">2019-01-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e\x22老司机开车 从不需要理由 喜欢我 就来点我吧\x22   \x3cbr\x3e\x3ca href=\x22http:\/\/tieba.freeedit.cn\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e易杭贴吧--新鲜出炉的中文社区 http:\/\/tieba.freeedit.cn\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009824428?w=500\x26amp;h=160\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009824428?w=500\x26amp;h=160\x22 alt=\x22易杭贴吧--新鲜出炉的中文社区\x22 title=\x22易杭贴吧--新鲜出炉的中文社区\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1. 前述\x3c\/h2\x3e\n\x3cp\x3e最近一直在写一个发贴子的应用，前不久才刚刚“完工”（其实还有很多需要改进的地方）。  \x3cbr\x3e这个应用是仿着上一个版本的百度贴吧来写的，最初的打算是想要完成百度贴吧的最主要的那部分基本功能，但真正做起来，却不是一件简单的事。    \x3c\/p\x3e\n\x3cp\x3e这个项目一共用了近二十天的时间，我在这段时间内，既踩了很多的坑，也学到了很多的知识。  \x3cbr\x3e踩的坑越多，修复的bug越多，看的东西越多，就越觉得自己知识浅陋。  \x3cbr\x3e很多的东西，都是自己用过了之后，才会恍然大悟。看上一百遍，还真的不如自己动手写一遍。  \x3cbr\x3e所以我想将这个应用的构建过程和在这段时间内的心得体会记一记。自己呢，也能在写的过程中，对应用中的某些问题进行反思。  \x3c\/p\x3e\n\x3cp\x3e@-v-@\x3c\/p\x3e\n\x3cp\x3e其实自己从来没有这么完整地做过一个这样的项目。  \x3cbr\x3e从应用的选题、界面的设计、工具的选择，到环境的搭建、应用的部署，最后到应用的测试和修复，全部依赖于自己。  \x3cbr\x3e我既算是这个应用的“UI设计师”，也算是这个应用的“前端工程师”、“后端工程师”、“数据库工程师”，以及“项目架构师”。（突然就把自己说得高大上了，哭笑不得~）  \x3c\/p\x3e\n\x3cp\x3e不过，自己一个人要演这么多的角色，其中的困难很大。  \x3cbr\x3e近二十天的时间里，我不断地去尝试打磨作品的细节，希望能做好每一个环节。  \x3cbr\x3e但即使到了部署的时候，它也仍然只是个布娃娃。  \x3cbr\x3e不过，仍然会使我高兴的是，它至少还可以“动”。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2. 介绍\x3c\/h2\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009824429?w=281\x26amp;h=500\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009824429?w=281\x26amp;h=500\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这张图就是这个项目第一次打开时的界面。  \x3cbr\x3e当我们不断往右滑的时候，它又会一页页地显示。到了最后一页，它又会很调皮地叫我们返回到第一页，然后点击进入。  \x3cbr\x3e进入以后，就是登录、注册之类的。完成了之后，就会直接进入到app里面，然后就可以搜索发帖了。   \x3c\/p\x3e\n\x3cp\x3e页面展示之类的，我就不写了，同伴们看了，估计也会觉得没什么意思。  \x3cbr\x3e百度贴吧长什么样子，它也就大概长什么样子，只是某些地方，我做了更改和精简（因为实在是没有那么多时间去写这些功能，功能项太多了，单靠自己一个人，根本难以在短时间内做完，笑~）。  \x3cbr\x3e只需要去玩一玩，就知道效果是怎么样的了，所以我就直接给地址吧。  \x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/tieba.freeedit.cn\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e演示 --- 易杭贴吧--新鲜出炉的中文社区 http:\/\/tieba.freeedit.cn\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e源码 --- https:\/\/github.com\/freeedit\/yihang-tieba\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e（项目结构是怎样的，以及如何去运行这个项目，见项目源码地址中的readme文件。）\x3c\/p\x3e\n\x3cp\x3e在这个项目中，我内置了一个彩蛋，大体是长这个样子的 :   \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009824430?w=281\x26amp;h=500\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009824430?w=281\x26amp;h=500\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e嗯嗯，其实我们可以多试几次，每次出现的消息是不一样的，就仿佛有个小机器人在跟我们对话一样。  \x3c\/p\x3e\n\x3cp\x3e其他的效果图，都存放在项目的result文件夹中，地址是：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\/tree\/master\/tieba-design\/result\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/yihang-tieba\/tieba-design\/result\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e最后的最后，放上一个总览图。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009824431\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009824431\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e（写了一大堆有的没的，接下来才算是进入正文。）\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e3. 过程\x3c\/h2\x3e\n\x3cp\x3e最初想做一个和QQ一模一样的聊天工具，但后来又觉得聊天的工具太普遍了，所以就将目标转到了百度贴吧。  \x3cbr\x3e同样都是和别人一起聊天吹水水，贴吧却要显得更好玩一些。（秋名山老司机一枚前来觐见）  \x3cbr\x3e自己也很喜欢贴吧那种“搞笑”、“无畏”的吹水环境。所以后来，就敲定主意做一个贴吧出来。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e3.1 构思\x3c\/h3\x3e\n\x3cp\x3e我将项目分成了四个部分来分步骤完成：  \x3c\/p\x3e\n\x3cp\x3e1 设计 \x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\/tree\/master\/tieba-design\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/yihang-tieba\/tieba-design\x3c\/a\x3e  \x3cbr\x3e2 前端 \x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\/tree\/master\/tieba-client\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/yihang-tieba\/tieba-client\x3c\/a\x3e  \x3cbr\x3e3 后端 \x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\/tree\/master\/tieba-server\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/yihang-tieba\/tieba-server\x3c\/a\x3e  \x3cbr\x3e4 前后端连接 \x2b 将项目部署给主机\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e3.2 设计\x3c\/h3\x3e\n\x3cp\x3e小部分的设计图存放在这里:  （还有一大部分被我失误给删掉了）  \x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\/tree\/master\/tieba-design\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/yihang-tieba\/tieba-design\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e首先在阿里矢量图标库中，选取了近80个svg图，再用icomoon将它们打包成能引入stylus的字体文件。  \x3cbr\x3e（晕死，我误删的部分，就包括了它，导致我下一次想替一个图标，重新打包成新的字体文件都不行）  \x3c\/p\x3e\n\x3cp\x3e接着，我便开始设计底部的五个小图标。本来打算用AI画几个矢量图，但电脑上没装，再加上很久没用过了，不知道还会不会用，就直接用PS来画了。  \x3cbr\x3ePS来画的时候，总感觉，CC2014以后，对矢量图层进行交并补运算好像不一样了，不知道是不是自己的错觉。合并多个矢量图层，总不会出现自己想要的效果（也许是自己还没摸透PS吧）。最后呢，就只能做位图了。  \x3c\/p\x3e\n\x3cp\x3e做完了这些，我才来开始画应用的图标。一个简简单单的吧字，放在一个圆角矩形中，上下两个缺口，底色用#3388ff，搞定！  \x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009824432?w=1280\x26amp;h=96\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009824432?w=1280\x26amp;h=96\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在上图最右边的吧字图标，是用来给PWA图标配的。  \x3cbr\x3e第二个图标，是用来做用户默认的头像的。  \x3cbr\x3e其他几个就是应用图标和底栏图标了。  \x3cbr\x3e（为了给用户一种图标在往上升腾的感觉，我故意将几个线条样式的图标下面，开了个口子。用户可能看着就会很难受，就想要把它下面那根线条补全，然后他就可能会按下去。）  \x3c\/p\x3e\n\x3cp\x3e另外呢，考虑到网络可能会出现问题，图片地址找不到，所以也准备了一个默认的图片背景图。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e3.3 前端\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\/tree\/master\/tieba-client\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/yihang-tieba\/tieba-client\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e最开始想用sass写的，但是后来感觉stylus更简洁，更干净，看上去更好看，然后就选它来处理CSS了。  \x3cbr\x3e决定用stylus之后，就想找个和stylus一样缩进式语法的html预处理器。正好，Jade和它真的是绝配。两个都长得一模一样的，用起来也方便。  \x3cbr\x3e我很庆幸自己选了stylue\x2bpug的组合，要不然，这个应用可能需要一个月才能搞定呢。  \x3c\/p\x3e\n\x3cp\x3e到这儿呢，我的强迫症就犯了。有了CSS和HTML的预处理器，怎么着，JS也要上个“预处理器”吧。  \x3cbr\x3e当时疯狂地想要用TS，其原因并不是因为它很酷（当然，酷也算它的一方面），而是想三剑客不能只有两剑客（babel不算剑客，它顶多是瓶万金油，个人愚见），这样打架不利索。  \x3cbr\x3e（还有一个最最重要的原因，说出来，你们可能会笑死我，它那atom file-icons图标贼好看，绿色偏青色，比JS那个屎黄色好看多了。）  \x3cbr\x3e各位看官笑一笑就行了，飘过飘过...  \x3c\/p\x3e\n\x3cp\x3e回归理智。。。  \x3c\/p\x3e\n\x3cp\x3evue对ts的支持好像还不怎么好，vue-loader是可以用，但用着用着，有些文件引不进来。啊！请原谅我的无知，我真不知道为什么会这样。  \x3cbr\x3e最后，因为搞不定了，还是只要两个剑客就够了，三个剑客容易吵架。再加上从未用过TS，不好掌控大局啊。一旦TS出了BUG，我就得哭晕在厕所，果断放弃好了。强迫症之类的东西，身为一名前端化缘人，果然还是不该有啊。  \x3c\/p\x3e\n\x3cp\x3e最终使用到的一套前端工具，就是这样的：  \x3c\/p\x3e\n\x3cp\x3etemplate: pug   \x3cbr\x3estyle: stylus   \x3cbr\x3escript: babel   \x3cbr\x3edatabase: indexDB  \x3c\/p\x3e\n\x3cp\x3epug stylus babel  \x3cbr\x3evue2 vuex axios\x2bvue-axios vue-router vue-loader  \x3cbr\x3ebetter-scroll flexible animate  \x3cbr\x3ewebpack express webpack-pwa-manifest  \x3cbr\x3eindexDB localStorage\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \x26quot;dependencies\x26quot;: {\n    \x26quot;better-scroll\x26quot;: \x26quot;^0.1.15\x26quot;,\n    \x26quot;flexible\x26quot;: \x26quot;\x26quot;,\n    \x26quot;animate\x26quot;: \x26quot;\x26quot;,\n    \x26quot;axios\x26quot;: \x26quot;^0.16.2\x26quot;,\n    \x26quot;vue\x26quot;: \x26quot;^2.2.6\x26quot;,\n    \x26quot;vue-axios\x26quot;: \x26quot;^2.0.2\x26quot;,\n    \x26quot;vue-router\x26quot;: \x26quot;^2.3.1\x26quot;,\n    \x26quot;vuex\x26quot;: \x26quot;^2.3.1\x26quot;\n  },\n  \x26quot;devDependencies\x26quot;: {\n    \x26quot;babel-preset-stage-2\x26quot;: \x26quot;^6.22.0\x26quot;,\n    \x26quot;eslint\x26quot;: \x26quot;^3.19.0\x26quot;,\n    \x26quot;eslint-config-standard\x26quot;: \x26quot;^6.2.1\x26quot;,\n    \x26quot;express\x26quot;: \x26quot;^4.14.1\x26quot;,\n    \x26quot;pug\x26quot;: \x26quot;^2.0.0-rc.1\x26quot;,\n    \x26quot;stylus\x26quot;: \x26quot;^0.54.5\x26quot;,\n    \x26quot;vue-loader\x26quot;: \x26quot;^11.3.4\x26quot;,\n    \x26quot;webpack\x26quot;: \x26quot;^2.3.3\x26quot;,\n    \x26quot;webpack-pwa-manifest\x26quot;: \x26quot;^2.1.4\x26quot;\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e  \x3cspan class=\x22hljs-string\x22\x3e\x22dependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22better-scroll\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.1.15\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22flexible\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22animate\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22axios\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.16.2\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22vue\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.2.6\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22vue-axios\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.2\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22vue-router\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.3.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22vuex\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.3.1\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22devDependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22babel-preset-stage-2\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.22.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22eslint\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.19.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22eslint-config-standard\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^6.2.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22express\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.14.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22pug\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.0.0-rc.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22stylus\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.54.5\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22vue-loader\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^11.3.4\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22webpack\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.3.3\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22webpack-pwa-manifest\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.1.4\x22\x3c\/span\x3e\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e3.4 后端\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/freeedit\/yihang-tieba\/tree\/master\/tieba-server\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/yihang-tieba\/tieba-server\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e后端倒是没什么可说的（后端的哥哥姐姐们别生气，我说的是自己写的后端，笑~），无非就是用koa搭了个后台，搞一搞跨域问题（以后如果有时间呢，再弄一个token验证一下），然后用mongoose连一下mongodb，写一写schema，做一下limit、skip、populate之类的分页、关联查询，再加上那一套简单的curd操作，没了。  \x3c\/p\x3e\n\x3cp\x3e哦，对了，我写了一个很扯淡的代理方式。  \x3cbr\x3e在应用中的直播那一项，我自己搞不定，不知道怎么做直播，然后又想填补它的空缺。  \x3cbr\x3e重要的是，百度贴吧里面弄一个直播...这个...总感觉有点跑题的味道。（这不是发水贴的地方，直播间也能水贴？）  \x3cbr\x3e当然，最最重要的还是，自己搞不定直播这个功能。  \x3cbr\x3e然后，我就用了个“知道”，来顶替“直播”的位置。（主要是因为，自己经常去贴吧里面搜贴子看，找一些以前别人问过的问题，毕竟有些问题在别的地方找不到答案，或者回答得不好...）  \x3c\/p\x3e\n\x3cp\x3e然后我就需要给用户实时提示，这个地方，我代理的是360问答页面上请求的接口。  \x3cbr\x3e最后用户需要获取到相应的信息，这个地方，我代理的是百度知道的页面，然后把页面上的数据抓下来，形成json文件返回给用户。  \x3c\/p\x3e\n\x3cp\x3e恩恩，360问答的实时提示\x2b百度知道的页面信息，这就是传说中的搜索，自己都被自己搞的笑死了，不过还别说，办法虽然有点那啥，但效果还不错诶，至少用来做一个DEMO，足够了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \x26quot;dependencies\x26quot;: {\n    \x26quot;cheerio\x26quot;: \x26quot;^1.0.0-rc.1\x26quot;,\n    \x26quot;iconv-lite\x26quot;: \x26quot;^0.4.17\x26quot;,\n    \x26quot;koa\x26quot;: \x26quot;^2.2.0\x26quot;,\n    \x26quot;koa-router\x26quot;: \x26quot;^7.1.1\x26quot;,\n    \x26quot;koa-static\x26quot;: \x26quot;^3.0.0\x26quot;,\n    \x26quot;md5\x26quot;: \x26quot;^2.2.1\x26quot;,\n    \x26quot;moment\x26quot;: \x26quot;^2.18.1\x26quot;,\n    \x26quot;mongoose\x26quot;: \x26quot;^4.9.3\x26quot;\n  },\n  \x26quot;devDependencies\x26quot;: {\n    \x26quot;cross-env\x26quot;: \x26quot;^4.0.0\x26quot;,\n    \x26quot;nodemon\x26quot;: \x26quot;^1.11.0\x26quot;\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e  \x3cspan class=\x22hljs-string\x22\x3e\x22dependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22cheerio\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.0.0-rc.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22iconv-lite\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^0.4.17\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22koa\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.2.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22koa-router\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^7.1.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22koa-static\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^3.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22md5\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.2.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22moment\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^2.18.1\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22mongoose\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.9.3\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22devDependencies\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22cross-env\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^4.0.0\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3e\x22nodemon\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22^1.11.0\x22\x3c\/span\x3e\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e3.5 连接\x3c\/h3\x3e\n\x3cp\x3e其实吧，数据在连接时是最麻烦的了。  \x3cbr\x3e因为数据请求需要时间，页面需要等待请求完成，完成之后呢，又得渲染页面，渲染页面的同时呢，又要处理没有数据或数据有问题的情况，而且，这些数据可能还需要存储在vuex中，如果要长期存起来，还要用localStorage或indexDB，贼麻烦。  \x3cbr\x3e稍不注意，就会出bug，而且写着写着，脑袋就有点不够用了。当数据的请求在一个页面里面放多了，那不同的请求之间还可能存在关联性，绕来绕去的，自己都不知道自己在干嘛。  \x3c\/p\x3e\n\x3cp\x3e幸好，我提前将每个vue文件都分离开来，成了几个独立的文件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22xxx-component\n  index.vue      \/\/ 组件的入口\n  template.pug   \/\/ html\n  style.styl     \/\/ css\n  script.js      \/\/ script\n  data.json      \/\/ 组件中使用到的静态数据\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3exxx-component\n  index.vue      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 组件的入口\x3c\/span\x3e\n  template.pug   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ html\x3c\/span\x3e\n  style.styl     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ css\x3c\/span\x3e\n  script.js      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ script\x3c\/span\x3e\n  data.json      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 组件中使用到的静态数据\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对每个文件的写法，也都做了个模板出来。我每次需要写组件的时候，复制一份模板，改一改就好了。  \x3cbr\x3e另外呢，该抽离的地方，我都抽离了，实在是抽不了，或者我搞不定的，就没去动它。  \x3c\/p\x3e\n\x3cp\x3e为了完成这个应用，我连续抽了好几个库文件出来。（readme中有写）   \x3cbr\x3e跨域库、indexDB库、常用的功能函数库、mongoose的Promise版curd库  \x3c\/p\x3e\n\x3cp\x3e这些文件最终都被上传到了我的个人工具库中。 详见  \x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/freeedit\/lib-mini-libs-collection\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3efreeedit\/lib-mini-libs-collection\x3c\/a\x3e  \x3c\/p\x3e\n\x3cp\x3e项目的文件其实打包后也挺大的（904kb），比较手机耗流量。  \x3cbr\x3e为了让项目具有离线存储的能力，减少流量的消耗。  \x3cbr\x3e所以我在项目中用webpack插件配了一个manifest.js文件出来，这就要求需要使用Https。  \x3cbr\x3e但不知是域名方面还是其他什么原因，即使是在我加了https证书之后，也无法访问https，所以最终就只能暂时用http先替着。  \x3cbr\x3e如果浏览器上面显示不安全字样，及浏览器中显示某某WARN信息，那应该就是HTTPS造成的。  \x3c\/p\x3e\n\x3cp\x3e（这个项目没有做SSR优化，一是这个应用没有做的必要，这样会加重服务器的负担，二是自己对这方面不熟，还在起步阶段）  \x3cbr\x3e（可能接下来，我需要认认真真全面学习一下SSR和PWA ServiceWorker了）\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e4. 问题\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e4.1 vue computed\x3c\/h3\x3e\n\x3cp\x3evue computed中的函数好像不能用async\x2bawait（用的时候才发现它会失效），但我当时死脑筋，跳不过去，还是后来在其他地方用定时查询来搞定的。  \x3cbr\x3e不知道还有没有什么别的方法，让computed之中能用async异步获取数据。（虽然我明白，这件事情不该由computed来做）\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e4.2 mongoose populate\x3c\/h3\x3e\n\x3cp\x3e不知道mongoose的populate()函数中，继续嵌套多个同级的populate，怎么写的。（populate的地方之中，又有多个需要populate的地方）  \x3c\/p\x3e\n\x3cp\x3e比如获取文章，然后呢需要populate(\x27floor\x27)，在floor之中，又需要populate(\x27ff\x27)和populate commit数组每一个对象中的一个叫uid的属性。不知道该怎么写，求问。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const postSchema = new Schema({\n  bar: {\n    type: Schema.ObjectId,\n    ref: \x27bar\x27,\n    index: true\n  }\n  lz: {\n    type: Schema.ObjectId,\n    required: true,\n    ref: \x27user\x27,\n    index: true\n  }\n  floor: [{\n    type: Schema.ObjectId,\n    ref: \x27floor\x27,\n    index: true\n  }]\n})\n\nconst floorSchema = new Schema({\n  ff: {\n    type: Schema.ObjectId,\n    required: true,\n    ref: \x27user\x27\n  },\n  commit: [{\n    uid: {\n      type: Schema.ObjectId,\n      ref: \x27user\x27,\n    }\n  }]\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e postSchema = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Schema({\n  \x3cspan class=\x22hljs-attr\x22\x3ebar\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Schema.ObjectId,\n    \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eindex\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  }\n  lz: {\n    \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Schema.ObjectId,\n    \x3cspan class=\x22hljs-attr\x22\x3erequired\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eindex\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  }\n  floor: [{\n    \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Schema.ObjectId,\n    \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27floor\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eindex\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n  }]\n})\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e floorSchema = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Schema({\n  \x3cspan class=\x22hljs-attr\x22\x3eff\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Schema.ObjectId,\n    \x3cspan class=\x22hljs-attr\x22\x3erequired\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3ecommit\x3c\/span\x3e: [{\n    \x3cspan class=\x22hljs-attr\x22\x3euid\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: Schema.ObjectId,\n      \x3cspan class=\x22hljs-attr\x22\x3eref\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27user\x27\x3c\/span\x3e,\n    }\n  }]\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e...\x3cbr\x3e还有好几个问题，一时之间想不起来了。  \x3cbr\x3e有知道的哥哥姐姐们，替我解一解。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e5. 结束语\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e5.1 幻想\x3c\/h3\x3e\n\x3cp\x3e学软件三年，从电脑打字开始，到影视后期处理，再到游戏编程，最后...我选择了前端作为自己的长期学习目标。  \x3cbr\x3e因为，我看到了前端的未来。  \x3cbr\x3e现在的网页，已经在逐渐向app转型了，真的很希望有一天，看到它取代桌面的样子。  \x3cbr\x3e当我们的桌面本身就是一个浏览器的时候，输入任何命令，都能从网络上获取到我想要的东西。我们不需要再去装WPS、迅雷应用了，因为它们已经变成了网页。  \x3cbr\x3e当我们打开这些网页的时候，长的和本地应用一样。而且它们也能像应用一样，被我们安装在电脑上，页面外没有浏览器外壳，桌面最下端也没有什么开始按钮，只有一个搜索框，简单到了极点，这该是多么的棒啊。  \x3cbr\x3e我想，这就是我希望的未来前端。而且前端已经在向这方向靠拢了，我想要为它的发展出一份力。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e5.2 庆幸\x3c\/h3\x3e\n\x3cp\x3e很庆幸，自己没有一来就学习前端。  \x3cbr\x3e最开始，我是奔后期处理去的，也就是PS、AI、AU、AE、MAYA、ZBrush那一套。  \x3cbr\x3e这也算是培养了自己的设计美感（哈哈~歪路子美感）。  \x3cbr\x3e可能很多人觉得，几个小图标，一张PSD图，没什么好设计的，照着做都可以做出来的，但如果没有别人的作为参考，就很不容易了。（特别是要融情于“景”）  \x3cbr\x3e而且，PS的很多概念，和HTML\x2bCSS的布局概念很像，图层、蒙版、背景阴影、渐变、打组，等等这些，都与HTML\x2bCSS不谋而合，就像是天生为它们设计的。  \x3cbr\x3e就是因为早期形成了某些说不出来的概念，所以才能在这个作品中，尝试着把设计的空缺给补上。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e5.3 总结\x3c\/h3\x3e\n\x3cp\x3e在做这个项目的时候，我体会到了大项目的来之不易。  \x3cbr\x3e知易行难，即使是一个看上去并不复杂的应用，要真的做好，也并不是一件简单的事。  \x3cbr\x3e尝试去做的项目越大，就越觉得自己了解得过于泛泛。  \x3cbr\x3e想要做得精细，还是得需要时间不断地去琢磨。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e原文地址：\x3ca href=\x22http:\/\/blog.freeedit.cn\/2017\/06\/12\/Yihang-Tieba-Introduction\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/blog.freeedit.cn\/2017\/06\/12\/Yihang-Tieba-Introduction\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/blog.freeedit.cn\/about\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e易杭 : http:\/\/blog.freeedit.cn\/about\/\x3c\/a\x3e 2017\/6\/12 10:07 8906字\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>太急了点吧？贴吧PWA20天就出炉了</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009824424">https://segmentfault.com/a/1190000009824424</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/18vzjr9uxcs/" target="_blank">https://alili.tech/archive/18vzjr9uxcs/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>