<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="React-router 4 按需加载的实现方式及原理(Code Splitting)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>React-router 4 按需加载的实现方式及原理(Code Splitting) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/qlqfbahle1n/",
				"appid": "1613049289050283", 
				"title": "React-router 4 按需加载的实现方式及原理(Code Splitting) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-14T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/34uimyuvjtx/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/rgn4y4d2oxn/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&text=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&text=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&title=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&is_video=false&description=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&title=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&title=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&title=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqlqfbahle1n%2f&title=React-router%204%20%e6%8c%89%e9%9c%80%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f%e5%8f%8a%e5%8e%9f%e7%90%86%28Code%20Splitting%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">React-router 4 按需加载的实现方式及原理(Code Splitting)</h1><div class="meta"><div class="postdate"><time datetime="2019-01-14" itemprop="datePublished">2019-01-14</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3eReact-router 4\x3c\/h2\x3e\n\x3ch6\x3e介绍了在router4以后，如何去实现按需加载Component，在router4以前，我们是使用getComponent的的方式来实现按需加载的，router4中，getComponent方法已经被移除，下面就介绍一下react-router4是入围和来实现按需加载的。\x3c\/h6\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e1.router3的按需加载方式\x3c\/h3\x3e\n\x3ch6\x3eroute3中实现按需加载只需要按照下面代码的方式实现就可以了。\x3c\/h6\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const about = (location, cb) =\x3e {\n    require.ensure([], require =\x3e {\n        cb(null, require(\x27..\/Component\/about\x27).default)\n    },\x27about\x27)\n}\n\n\/\/配置route\n\x3cRoute path=\x26quot;helpCenter\x26quot; getComponent={about} \/\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e about = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3elocation, cb\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e.ensure([], \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e =\x26gt; {\n        cb(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27..\/Component\/about\x27\x3c\/span\x3e).default)\n    },\x3cspan class=\x22hljs-string\x22\x3e\x27about\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/配置route\x3c\/span\x3e\n\x26lt;Route path=\x3cspan class=\x22hljs-string\x22\x3e\x22helpCenter\x22\x3c\/span\x3e getComponent={about} \/\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2.router4按需加载方式（three steps）\x3c\/h3\x3e\n\x3ch4\x3eone step:\x3c\/h4\x3e\n\x3ch6\x3e创建Bundle.js文件,这个文件其实是个通过bundle-loader包装后的组件来使用，下面会具体讲这个东西。\x3c\/h6\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport PropTypes from \x27prop-types\x27;\n\nclass Bundle extends React.Component {\n  state = {\n    \/\/ short for \x26quot;module\x26quot; but that\x27s a keyword in js, so \x26quot;mod\x26quot;\n    mod: null\n  }\n\n  componentWillMount() {\n    \/\/ 加载初始状态\n    this.load(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.load !== this.props.load) {\n      this.load(nextProps);\n    }\n  }\n\n  load(props) {\n    \/\/ 重置状态\n    this.setState({\n      mod: null\n    });\n    \/\/ 传入组件的组件\n    props.load((mod) =\x3e {\n      this.setState({\n        \/\/ handle both es imports and cjs\n        mod: mod.default ? mod.default : mod\n      });\n    });\n  }\n\n  render() {\n    \/\/ if state mode not undefined,The container will render children\n    return this.state.mod ? this.props.children(this.state.mod) : null;\n  }\n}\n\nBundle.propTypes = {\n  load: PropTypes.func,\n  children: PropTypes.func\n};\n\nexport default Bundle;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e PropTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27prop-types\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eBundle\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  state = {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ short for \x22module\x22 but that\x27s a keyword in js, so \x22mod\x22\x3c\/span\x3e\n    mod: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n  }\n\n  componentWillMount() {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 加载初始状态\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.load(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (nextProps.load !== \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.load) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.load(nextProps);\n    }\n  }\n\n  load(props) {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 重置状态\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n      \x3cspan class=\x22hljs-attr\x22\x3emod\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n    });\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 传入组件的组件\x3c\/span\x3e\n    props.load(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3emod\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ handle both es imports and cjs\x3c\/span\x3e\n        mod: mod.default ? mod.default : mod\n      });\n    });\n  }\n\n  render() {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ if state mode not undefined,The container will render children\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.mod ? \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.props.children(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.mod) : \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e;\n  }\n}\n\nBundle.propTypes = {\n  \x3cspan class=\x22hljs-attr\x22\x3eload\x3c\/span\x3e: PropTypes.func,\n  \x3cspan class=\x22hljs-attr\x22\x3echildren\x3c\/span\x3e: PropTypes.func\n};\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e Bundle;\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3esecond step:\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import aContainer from \x27bundle-loader?lazy!.\/containers\/A\x27\n\nconst A = (props) =\x3e (\n  \x3cBundle load={aContainer}\x3e\n      \/\/这里只是给this.props.child传一个方法，最后在Bundle的render里面调用\n    {(Container) =\x3e \x3cContainer {...props}\/\x3e}\n  \x3c\/Bundle\x3e\n)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e aContainer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27bundle-loader?lazy!.\/containers\/A\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e A = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eprops\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eBundle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eload\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{aContainer}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \/\/这里只是给this.props.child传一个方法，最后在Bundle的render里面调用\n    {(Container) =\x26gt; \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eContainer\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3e...props\x3c\/span\x3e}\/\x26gt;\x3c\/span\x3e}\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eBundle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n)\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3ethird step:\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 render() {\n    return (\n      \x3cdiv\x3e\n        \x3ch1\x3eWelcome!\x3c\/h1\x3e\n        \x3cRoute path=\x26quot;\/about\x26quot; component={About}\/\x3e\n        \x3cRoute path=\x26quot;\/dashboard\x26quot; component={A}\/\x3e\n      \x3c\/div\x3e\n    )\n  }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x26lt;div\x26gt;\n        \x26lt;h1\x26gt;Welcome!\x26lt;\/h1\x26gt;\n        \x26lt;Route path=\x22\/about\x22 component={About}\/\x26gt;\n        \x26lt;Route path=\x22\/dashboard\x22 component={A}\/\x26gt;\n      \x26lt;\/div\x26gt;\n    )\n  }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e3.router4按需加载方方式解析\x3c\/h3\x3e\n\x3ch4\x3e(1).首先解释一下按需加载，通俗的将就是我当前的location在Home,那么我只应该加载Home的东西，而不应该去加载About等等其他的。\x3c\/h4\x3e\n\x3ch4\x3e(2).Bundle.js这个文件的作用\x3c\/h4\x3e\n\x3cp\x3e先看这段代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = function (cb) {\n    __webpack_require__.e\/* require.ensure *\/(2).then((function (require) {\n        cb(__webpack_require__(305));\n    }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n};\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ecb\x3c\/span\x3e) \x3c\/span\x3e{\n    __webpack_require__.e\x3cspan class=\x22hljs-comment\x22\x3e\/* require.ensure *\/\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e).then((\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3erequire\x3c\/span\x3e) \x3c\/span\x3e{\n        cb(__webpack_require__(\x3cspan class=\x22hljs-number\x22\x3e305\x3c\/span\x3e));\n    }).bind(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, __webpack_require__)).catch(__webpack_require__.oe);\n};\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里是我们通过\x3ccode\x3eimport loadDashboard from \x27bundle-loader?lazy!.\/containers\/A\x27\x3c\/code\x3e这种方式引入的container控件。我们使用了bundle-loader将\x3ca href=\x22#\x22\x3eA的源码\x3c\/a\x3e转化成了上面的代码，具体实现大家可以看\x3ca href=\x22#bundle-loader\x22\x3ebundle-loader源码\x3c\/a\x3e，代码很少。\x3c\/p\x3e\n\x3cp\x3e上面说到Bundle.js其实就使用来处理这个文件的，这个文件需要一个callback的参数，在Bundle的load方法中，我们会设置这个callback，当路由要调到A Container这里的时候，就回去加载A Container,然后调用这个callback，这个callback会调用setState方法，将我们之前传入的load设置给mod，然后渲染出来。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e4.webpack进行bundle-loader统一配置\x3c\/h3\x3e\n\x3cp\x3e这里匹配的是src\/routers\/下面的containers文件夹下面所有的js文件，包括二级目录。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  {\n      \/\/ 匹配routers下面所有文件\n      \/\/ ([^\/]\x2b)\\\/?([^\/]*) 匹配xxx\/xxx 或者 xxx\n      test: \/containers\\\/([^\/]\x2b)\\\/?([^\/]*)\\.jsx?$\/,\n      include: path.resolve(__dirname, \x27src\/routers\/\x27),\n      \/\/ loader: \x27bundle-loader?lazy\x27\n      loaders: [\x27bundle-loader?lazy\x27, \x27babel-loader\x27]\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e  {\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 匹配routers下面所有文件\x3c\/span\x3e\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ([^\/]\x2b)\\\/?([^\/]*) 匹配xxx\/xxx 或者 xxx\x3c\/span\x3e\n      test: \x3cspan class=\x22hljs-regexp\x22\x3e\/containers\\\/([^\/]\x2b)\\\/?([^\/]*)\\.jsx?$\/\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3einclude\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27src\/routers\/\x27\x3c\/span\x3e),\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ loader: \x27bundle-loader?lazy\x27\x3c\/span\x3e\n      loaders: [\x3cspan class=\x22hljs-string\x22\x3e\x27bundle-loader?lazy\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27babel-loader\x27\x3c\/span\x3e]\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e5.部分源码\x3c\/h3\x3e\n\x3cp\x3e\x3ca\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e1.bundle-loader的源码\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/*\n    MIT License http:\/\/www.opensource.org\/licenses\/mit-license.php\n    Author Tobias Koppers @sokra\n*\/\nvar loaderUtils = require(\x26quot;loader-utils\x26quot;);\n\nmodule.exports = function() {};\nmodule.exports.pitch = function(remainingRequest) {\n    this.cacheable \x26amp;\x26amp; this.cacheable();\n    var query = loaderUtils.getOptions(this) || {};\n    if(query.name) {\n        var options = {\n            context: query.context || this.options.context,\n            regExp: query.regExp\n        };\n        var chunkName = loaderUtils.interpolateName(this, query.name, options);\n        var chunkNameParam = \x26quot;, \x26quot; \x2b JSON.stringify(chunkName);\n    } else {\n        var chunkNameParam = \x27\x27;\n    }\n    var result;\n    if(query.lazy) {\n        result = [\n            \x26quot;module.exports = function(cb) {\\n\x26quot;,\n            \x26quot;    require.ensure([], function(require) {\\n\x26quot;,\n            \x26quot;        cb(require(\x26quot;, loaderUtils.stringifyRequest(this, \x26quot;!!\x26quot; \x2b remainingRequest), \x26quot;));\\n\x26quot;,\n            \x26quot;    }\x26quot; \x2b chunkNameParam \x2b \x26quot;);\\n\x26quot;,\n            \x26quot;}\x26quot;];\n    } else {\n        result = [\n            \x26quot;var cbs = [], \\n\x26quot;,\n            \x26quot;    data;\\n\x26quot;,\n            \x26quot;module.exports = function(cb) {\\n\x26quot;,\n            \x26quot;    if(cbs) cbs.push(cb);\\n\x26quot;,\n            \x26quot;    else cb(data);\\n\x26quot;,\n            \x26quot;}\\n\x26quot;,\n            \x26quot;require.ensure([], function(require) {\\n\x26quot;,\n            \x26quot;    data = require(\x26quot;, loaderUtils.stringifyRequest(this, \x26quot;!!\x26quot; \x2b remainingRequest), \x26quot;);\\n\x26quot;,\n            \x26quot;    var callbacks = cbs;\\n\x26quot;,\n            \x26quot;    cbs = null;\\n\x26quot;,\n            \x26quot;    for(var i = 0, l = callbacks.length; i \x3c l; i\x2b\x2b) {\\n\x26quot;,\n            \x26quot;        callbacks[i](data);\\n\x26quot;,\n            \x26quot;    }\\n\x26quot;,\n            \x26quot;}\x26quot; \x2b chunkNameParam \x2b \x26quot;);\x26quot;];\n    }\n    return result.join(\x26quot;\x26quot;);\n}\n\n\/*\nOutput format:\n\n    var cbs = [],\n        data;\n    module.exports = function(cb) {\n        if(cbs) cbs.push(cb);\n        else cb(data);\n    }\n    require.ensure([], function(require) {\n        data = require(\x26quot;xxx\x26quot;);\n        var callbacks = cbs;\n        cbs = null;\n        for(var i = 0, l = callbacks.length; i \x3c l; i\x2b\x2b) {\n            callbacks[i](data);\n        }\n    });\n\n*\/\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/*\n    MIT License http:\/\/www.opensource.org\/licenses\/mit-license.php\n    Author Tobias Koppers @sokra\n*\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e loaderUtils = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22loader-utils\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{};\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports.pitch = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eremainingRequest\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.cacheable \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.cacheable();\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e query = loaderUtils.getOptions(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e) || {};\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(query.name) {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e options = {\n            \x3cspan class=\x22hljs-attr\x22\x3econtext\x3c\/span\x3e: query.context || \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.options.context,\n            \x3cspan class=\x22hljs-attr\x22\x3eregExp\x3c\/span\x3e: query.regExp\n        };\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e chunkName = loaderUtils.interpolateName(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, query.name, options);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e chunkNameParam = \x3cspan class=\x22hljs-string\x22\x3e\x22, \x22\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(chunkName);\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e chunkNameParam = \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e result;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(query.lazy) {\n        result = [\n            \x3cspan class=\x22hljs-string\x22\x3e\x22module.exports = function(cb) {\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    require.ensure([], function(require) {\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22        cb(require(\x22\x3c\/span\x3e, loaderUtils.stringifyRequest(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22!!\x22\x3c\/span\x3e \x2b remainingRequest), \x3cspan class=\x22hljs-string\x22\x3e\x22));\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    }\x22\x3c\/span\x3e \x2b chunkNameParam \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22);\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22}\x22\x3c\/span\x3e];\n    } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n        result = [\n            \x3cspan class=\x22hljs-string\x22\x3e\x22var cbs = [], \\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    data;\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22module.exports = function(cb) {\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    if(cbs) cbs.push(cb);\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    else cb(data);\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22}\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22require.ensure([], function(require) {\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    data = require(\x22\x3c\/span\x3e, loaderUtils.stringifyRequest(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22!!\x22\x3c\/span\x3e \x2b remainingRequest), \x3cspan class=\x22hljs-string\x22\x3e\x22);\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    var callbacks = cbs;\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    cbs = null;\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    for(var i = 0, l = callbacks.length; i \x26lt; l; i\x2b\x2b) {\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22        callbacks[i](data);\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22    }\\n\x22\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-string\x22\x3e\x22}\x22\x3c\/span\x3e \x2b chunkNameParam \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22);\x22\x3c\/span\x3e];\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result.join(\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e);\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\nOutput format:\n\n    var cbs = [],\n        data;\n    module.exports = function(cb) {\n        if(cbs) cbs.push(cb);\n        else cb(data);\n    }\n    require.ensure([], function(require) {\n        data = require(\x22xxx\x22);\n        var callbacks = cbs;\n        cbs = null;\n        for(var i = 0, l = callbacks.length; i \x26lt; l; i\x2b\x2b) {\n            callbacks[i](data);\n        }\n    });\n\n*\/\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e2.A的源码\x3c\/h4\x3e\n\x3cp\x3e\x3ca\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport PropTypes from \x27prop-types\x27;\nimport * as reactRedux from \x27react-redux\x27;\nimport BaseContainer from \x27..\/..\/..\/containers\/ReactBaseContainer\x27;\n\nclass A extends BaseContainer {\n  constructor(props) {\n    super(props);\n    this.renderCustom = function renderCustom() {\n      return (\n        \x3cdiv \x3e\n          Hello world In A\n        \x3c\/div\x3e\n      );\n    };\n  }\n  render() {\n    \/\/ 返回父级view\n    return super.render();\n  }\n}\n\nA.propTypes = {\n  dispatch: PropTypes.func,\n};\n\nfunction mapStateToProps(state) {\n  return { state };\n}\n\nexport default reactRedux.connect(mapStateToProps)(A);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e PropTypes \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27prop-types\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e reactRedux \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e BaseContainer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/..\/..\/containers\/ReactBaseContainer\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eA\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eBaseContainer\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.renderCustom = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erenderCustom\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n        \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x26gt;\x3c\/span\x3e\n          Hello world In A\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n      );\n    };\n  }\n  render() {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 返回父级view\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e.render();\n  }\n}\n\nA.propTypes = {\n  \x3cspan class=\x22hljs-attr\x22\x3edispatch\x3c\/span\x3e: PropTypes.func,\n};\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emapStateToProps\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3estate\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e { state };\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e reactRedux.connect(mapStateToProps)(A);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e3.route.js的源码\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport { BrowserRouter, Switch, Link } from \x27react-router-dom\x27;\nimport { Route } from \x27react-router\x27;\nimport PostContainer from \x27..\/containers\/PostsContainer\x27;\n\/\/ 设置trunk文件的名字  the basename of the resource\nimport aContainer from \x27.\/containers\/A\x27;\nimport bContainer from \x27.\/containers\/B\x27;\nimport cContainer from \x27.\/containers\/C\x27;\nimport Bundle from \x27..\/utils\/Bundle\x27;\n\nconst A = () =\x3e (\n  \x3cBundle load={aContainer}\x3e\n    {Component =\x3e \x3cComponent \/\x3e}\n  \x3c\/Bundle\x3e\n)\n\nconst app = () =\x3e\n  \x3cdiv\x3e\n    {\/* path = \x26quot;\/about\x26quot; *\/}\n    {\/* \x26quot;\/about\/\x26quot; 可以，但\x26quot;\/about\/1\x26quot;就不可以了 exact 配置之后，需要路径绝对匹配,多个斜杠没有关系，这里直接在浏览器里面设置还有问题*\/}\n    {\/* path = \x26quot;\/about\/\x26quot; *\/}\n    {\/* \x26quot;\/about\/1\x26quot; 可以，但\x26quot;\/about\x26quot;就不可以了 用了strict，path要大于等于的关系，少一个斜杠都不行 *\/}\n    {\/* exact 和 strick 都用了就必须一模一样，连斜杠都一样 *\/}\n    \x3cLink to=\x26quot;\/about\/\x26quot;\x3e Link to about\x3c\/Link\x3e\n    \x3cRoute  path=\x26quot;\/\x26quot; component={PostContainer} \/\x3e\n    \x3cRoute path=\x26quot;\/about\/\x26quot; component={A} \/\x3e\n    {\/* \x3cRoute path=\x26quot;\/home\x26quot; component={B} \/\x3e\n    \x3cRoute component={C} \/\x3e *\/}\n  \x3c\/div\x3e\n;\nexport default function () {\n  \/\/ 用来判断本地浏览器是否支持刷新\n  const supportsHistory = \x27pushState\x27 in window.history;\n  return (\n    \x3cBrowserRouter forceRefresh={!supportsHistory} keyLength={12}\x3e\n      \x3cdiv\x3e\n        {app()}\n      \x3c\/div\x3e\n    \x3c\/BrowserRouter\x3e\n\n  );\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { BrowserRouter, Switch, Link } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router-dom\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Route } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react-router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e PostContainer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/containers\/PostsContainer\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 设置trunk文件的名字  the basename of the resource\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e aContainer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/A\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e bContainer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/B\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e cContainer \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/containers\/C\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Bundle \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/utils\/Bundle\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e A = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e (\n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eBundle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eload\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{aContainer}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    {Component =\x26gt; \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eComponent\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e}\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eBundle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n)\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e app = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e\n  \x26lt;div\x26gt;\n    {\x3cspan class=\x22hljs-comment\x22\x3e\/* path = \x22\/about\x22 *\/\x3c\/span\x3e}\n    {\x3cspan class=\x22hljs-comment\x22\x3e\/* \x22\/about\/\x22 可以，但\x22\/about\/1\x22就不可以了 exact 配置之后，需要路径绝对匹配,多个斜杠没有关系，这里直接在浏览器里面设置还有问题*\/\x3c\/span\x3e}\n    {\x3cspan class=\x22hljs-comment\x22\x3e\/* path = \x22\/about\/\x22 *\/\x3c\/span\x3e}\n    {\x3cspan class=\x22hljs-comment\x22\x3e\/* \x22\/about\/1\x22 可以，但\x22\/about\x22就不可以了 用了strict，path要大于等于的关系，少一个斜杠都不行 *\/\x3c\/span\x3e}\n    {\x3cspan class=\x22hljs-comment\x22\x3e\/* exact 和 strick 都用了就必须一模一样，连斜杠都一样 *\/\x3c\/span\x3e}\n    \x26lt;Link to=\x3cspan class=\x22hljs-string\x22\x3e\x22\/about\/\x22\x3c\/span\x3e\x26gt; Link to about\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/Link\x26gt;\n    \x26lt;Route  path=\x22\/\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22 component={PostContainer} \/\x26gt;\n    \x26lt;Route path=\x22\x3c\/span\x3e\/about\/\x3cspan class=\x22hljs-string\x22\x3e\x22 component={A} \/\x26gt;\n    {\/* \x26lt;Route path=\x22\x3c\/span\x3e\/home\x3cspan class=\x22hljs-string\x22\x3e\x22 component={B} \/\x26gt;\n    \x26lt;Route component={C} \/\x26gt; *\/}\n  \x26lt;\/div\x26gt;\n;\nexport default function () {\n  \/\/ 用来判断本地浏览器是否支持刷新\n  const supportsHistory = \x27pushState\x27 in window.history;\n  return (\n    \x26lt;BrowserRouter forceRefresh={!supportsHistory} keyLength={12}\x26gt;\n      \x26lt;div\x26gt;\n        {app()}\n      \x26lt;\/div\x26gt;\n    \x26lt;\/BrowserRouter\x26gt;\n\n  );\n}\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e更新(按需加载)\x3c\/h3\x3e\n\x3ch4\x3eoneStep\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React, { Component } from \x26quot;react\x26quot;;\n\nexport default function asyncComponent(importComponent) {\n  class AsyncComponent extends Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        component: null\n      };\n    }\n\n    async componentDidMount() {\n      const { default: component } = await importComponent();\n\n      this.setState({\n        component: component\n      });\n    }\n\n    render() {\n      const C = this.state.component;\n\n      return C ? \x3cC {...this.props} \/\x3e : null;\n    }\n  }\n\n  return AsyncComponent;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React, { Component } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3easyncComponent\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eimportComponent\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAsyncComponent\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n      \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n        \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e\n      };\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e componentDidMount() {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3edefault\x3c\/span\x3e: component } = \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e importComponent();\n\n      \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n        \x3cspan class=\x22hljs-attr\x22\x3ecomponent\x3c\/span\x3e: component\n      });\n    }\n\n    render() {\n      \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e C = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state.component;\n\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e C ? \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eC\x3c\/span\x3e {\x3cspan class=\x22hljs-attr\x22\x3e...this.props\x3c\/span\x3e} \/\x26gt;\x3c\/span\x3e : null;\n    }\n  }\n\n  return AsyncComponent;\n}\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3eSecond Step\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const Buttons = asyncComponent(() =\x3e import(\x26quot;.\/button\x26quot;));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e Buttons = asyncComponent(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/button\x22\x3c\/span\x3e));\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3ebabel 中需要配置一下\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;presets\x26quot;: [\n        [\n          \x26quot;es2015\x26quot;\n        ],\n        \x26quot;stage-1\x26quot;, \/\/ 应用了es7的语法，所以必须有这个配置\n        \x26quot;react\x26quot;\n      ],\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n        [\n          \x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e\n        ],\n        \x3cspan class=\x22hljs-string\x22\x3e\x22stage-1\x22\x3c\/span\x3e, \/\/ 应用了es7的语法，所以必须有这个配置\n        \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e\n      ],\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e文章引用\x3c\/h5\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/henleyedition.com\/implicit-code-splitting-with-react-router-and-webpack\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/henleyedition.com\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/github.com\/ReactTraining\/react-router\/blob\/master\/packages\/react-router-dom\/docs\/guides\/code-splitting.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ereact-router官方文档\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>React-router 4 按需加载的实现方式及原理(Code Splitting)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009539836">https://segmentfault.com/a/1190000009539836</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/qlqfbahle1n/" target="_blank">https://alili.tech/archive/qlqfbahle1n/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>