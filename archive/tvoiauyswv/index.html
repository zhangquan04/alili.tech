<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Angular 2&#43; 监听路由变化动态设置页面标题"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Angular 2&#43; 监听路由变化动态设置页面标题 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/tvoiauyswv/",
				"appid": "1613049289050283", 
				"title": "Angular 2&#43; 监听路由变化动态设置页面标题 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-10T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/fzzefd8o32m/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/qy0tjn4ztff/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&text=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&text=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&title=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&is_video=false&description=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&title=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&title=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&title=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2ftvoiauyswv%2f&title=Angular%202%2b%20%e7%9b%91%e5%90%ac%e8%b7%af%e7%94%b1%e5%8f%98%e5%8c%96%e5%8a%a8%e6%80%81%e8%ae%be%e7%bd%ae%e9%a1%b5%e9%9d%a2%e6%a0%87%e9%a2%98"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Angular 2&#43; 监听路由变化动态设置页面标题</h1><div class="meta"><div class="postdate"><time datetime="2019-01-10" itemprop="datePublished">2019-01-10</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e现在很多web网站都采用了SPA单页应用，单页面有很多优点：用户体验好、应用响应快、对服务器压力小 等等。同时也有一些缺点：首次加载资源太多，不利于SEO，前进、后退、地址栏需要手动管理。今天我们实现\x3ccode\x3eAngular\x3c\/code\x3e单页面应用中路由变化设置页面标题，来优化用户的用户体验。可以先去掘金看下效果。\x3ca href=\x22https:\/\/juejin.im\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e稀土掘金\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e在AngularJS（1.x）中动态设置页面标题通常是通过一个全局$rootScope对象来完成的，通过$rootScope对象监听路由变化获取当前路由信息并映射到页面标题。在Angular（v2 \x2b）中，解决起来要比1.x容易得多，我们可以通过注入一个provider，在路由变化事件中使用provider提供的API来动态更新页面标题。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eTitle Service\x3c\/h2\x3e\n\x3cp\x3e在angular中，我们可以通过Title来设置页面标题。我们从\x3ccode\x3eplatform-browser\x3c\/code\x3e导入\x3ccode\x3eTitle\x3c\/code\x3e, 同时也导入\x3ccode\x3eRouter\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { Title } from \x27@angular\/platform-browser\x27;\nimport { Router } from \x27@angular\/router\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nginx\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-section\x22\x3eimport\x3c\/span\x3e { \x3cspan class=\x22hljs-attribute\x22\x3eTitle\x3c\/span\x3e } from \x3cspan class=\x22hljs-string\x22\x3e\x27\x3cspan class=\x22hljs-variable\x22\x3e@angular\x3c\/span\x3e\/platform-browser\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-section\x22\x3eimport\x3c\/span\x3e { \x3cspan class=\x22hljs-attribute\x22\x3eRouter\x3c\/span\x3e } from \x3cspan class=\x22hljs-string\x22\x3e\x27\x3cspan class=\x22hljs-variable\x22\x3e@angular\x3c\/span\x3e\/router\x27\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e导入之后，我们在组件的构造函数中注入他们\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@Component({\n  selector: \x27app-root\x27,\n  templateUrl: `\n    \x3cdiv\x3e\n      Hello world!\n    \x3c\/div\x3e\n  `\n})\nexport class AppComponent {\n  constructor(private router: Router, private titleService: Title) {}\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-variable\x22\x3e@Component\x3c\/span\x3e({\n  \x3cspan class=\x22hljs-attribute\x22\x3eselector\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27app-root\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attribute\x22\x3etemplateUrl\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3e`\n    \x26lt;div\x26gt;\n      Hello world!\n    \x26lt;\/div\x26gt;\n  `\x3c\/span\x3e\n})\nexport class AppComponent {\n  \x3cspan class=\x22hljs-selector-tag\x22\x3econstructor\x3c\/span\x3e(private \x3cspan class=\x22hljs-attribute\x22\x3erouter\x3c\/span\x3e: Router, private \x3cspan class=\x22hljs-attribute\x22\x3etitleService\x3c\/span\x3e: Title) {}\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在使用\x3ccode\x3eTitle\x3c\/code\x3e之前，我们先看下\x3ccode\x3eTitle\x3c\/code\x3e是如何定义的\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export class Title {\n  \/**\n   * Get the title of the current HTML document.\n   * @returns {string}\n   *\/\n  getTitle(): string { return getDOM().getTitle(); }\n\n  \/**\n   * Set the title of the current HTML document.\n   * @param newTitle\n   *\/\n  setTitle(newTitle: string) { getDOM().setTitle(newTitle); }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haxe\x22\x3e\x3ccode\x3eexport \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTitle\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/**\n   * Get the title of the current HTML document.\n   * @returns {string}\n   *\/\x3c\/span\x3e\n  getTitle(): \x3cspan class=\x22hljs-type\x22\x3estring \x3c\/span\x3e{ \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e getDOM().getTitle(); }\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/**\n   * Set the title of the current HTML document.\n   * @param newTitle\n   *\/\x3c\/span\x3e\n  setTitle(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eTitle\x3c\/span\x3e: string) { getDOM().setTitle(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e\x3cspan class=\x22hljs-type\x22\x3eTitle\x3c\/span\x3e); }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eTitle\x3c\/code\x3e类有两个方法，一个用来获取页面标题\x3ccode\x3egetTitle\x3c\/code\x3e， 一个是用来设置页面标题的\x3ccode\x3esetTitle\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e要更新页面标题，我们可以简单的调用\x3ccode\x3esetTitle\x3c\/code\x3e方法:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@Component({...})\nexport class AppComponent implements OnInit {\n  constructor(private router: Router, private titleService: Title) {}\n  ngOnInit() {\n    this.titleService.setTitle(\x27My awesome app\x27);\n  }\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e@Component\x3c\/span\x3e({...})\nexport \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAppComponent\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eimplements\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eOnInit\x3c\/span\x3e {\x3c\/span\x3e\n  constructor(\x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3erouter:\x3c\/span\x3e Router, \x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3etitleService:\x3c\/span\x3e Title) {}\n  ngOnInit() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.titleService.setTitle(\x3cspan class=\x22hljs-string\x22\x3e\x27My awesome app\x27\x3c\/span\x3e);\n  }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样就可以设置我们的页面标题了，但是很不优雅。我们接着往下看。\x3c\/p\x3e\n\x3cp\x3e在AngularJS中，我们可以使用ui-router为每个路由添加一个自定义对象，自定义的对象在路由器的状态链中继承：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ AngularJS 1.x \x2b ui-router\n.config(function ($stateProvider) {\n  $stateProvider\n    .state(\x27about\x27, {\n      url: \x27\/about\x27,\n      component: \x27about\x27,\n      data: {\n        title: \x27About page\x27\n      }\n    });\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ AngularJS 1.x \x2b ui-router\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-class\x22\x3e.config\x3c\/span\x3e(function ($stateProvider) {\n  $\x3cspan class=\x22hljs-selector-tag\x22\x3estateProvider\x3c\/span\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.state\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27about\x27\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attribute\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attribute\x22\x3ecomponent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27about\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attribute\x22\x3edata\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attribute\x22\x3etitle\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27About page\x27\x3c\/span\x3e\n      }\n    });\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在Angular2\x2b中，我们也可以为每个路由定义一个data对象，然后再在监听路由变化时做一些额外的逻辑处理就可以实现动态设置页面标题。首先，我们定义一个基本的路由：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const routes: Routes = [{\n  path: \x27calendar\x27,\n  component: CalendarComponent,\n  children: [\n    { path: \x27\x27, redirectTo: \x27new\x27, pathMatch: \x27full\x27 },\n    { path: \x27all\x27, component: CalendarListComponent },\n    { path: \x27new\x27, component: CalendarEventComponent },\n    { path: \x27:id\x27, component: CalendarEventComponent }\n  ]\n}];\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3econst \x3cspan class=\x22hljs-string\x22\x3eroutes:\x3c\/span\x3e Routes = [{\n\x3cspan class=\x22hljs-symbol\x22\x3e  path:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27calendar\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e  component:\x3c\/span\x3e CalendarComponent,\n\x3cspan class=\x22hljs-symbol\x22\x3e  children:\x3c\/span\x3e [\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eredirectTo:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27new\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3epathMatch:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27full\x27\x3c\/span\x3e },\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27all\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e CalendarListComponent },\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27new\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e CalendarEventComponent },\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27:id\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e CalendarEventComponent }\n  ]\n}];\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这里定义一个日历应用，他有一个路由\x3ccode\x3e\/calendar\x3c\/code\x3e， 还有三个子路由， \x3ccode\x3e\/all\x3c\/code\x3e对应日历列表页，\x3ccode\x3enew\x3c\/code\x3e对应新建日历，\x3ccode\x3e:id\x3c\/code\x3e对应日历详情。现在，我们定义一个\x3ccode\x3edata\x3c\/code\x3e对象然后设置一个\x3ccode\x3etitle\x3c\/code\x3e属性来作为每个页面的标题。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const routes: Routes = [{\n  path: \x27calendar\x27,\n  component: CalendarComponent,\n  children: [\n    { path: \x27\x27, redirectTo: \x27new\x27, pathMatch: \x27full\x27 },\n    { path: \x27all\x27, component: CalendarListComponent, data: { title: \x27My Calendar\x27 } },\n    { path: \x27new\x27, component: CalendarEventComponent, data: { title: \x27New Calendar Entry\x27 } },\n    { path: \x27:id\x27, component: CalendarEventComponent, data: { title: \x27Calendar Entry\x27 } }\n  ]\n}];\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3econst \x3cspan class=\x22hljs-string\x22\x3eroutes:\x3c\/span\x3e Routes = [{\n\x3cspan class=\x22hljs-symbol\x22\x3e  path:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27calendar\x27\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e  component:\x3c\/span\x3e CalendarComponent,\n\x3cspan class=\x22hljs-symbol\x22\x3e  children:\x3c\/span\x3e [\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3eredirectTo:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27new\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3epathMatch:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27full\x27\x3c\/span\x3e },\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27all\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e CalendarListComponent, \x3cspan class=\x22hljs-string\x22\x3edata:\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3etitle:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27My Calendar\x27\x3c\/span\x3e } },\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27new\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e CalendarEventComponent, \x3cspan class=\x22hljs-string\x22\x3edata:\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3etitle:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27New Calendar Entry\x27\x3c\/span\x3e } },\n    { \x3cspan class=\x22hljs-string\x22\x3epath:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27:id\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3ecomponent:\x3c\/span\x3e CalendarEventComponent, \x3cspan class=\x22hljs-string\x22\x3edata:\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3etitle:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Calendar Entry\x27\x3c\/span\x3e } }\n  ]\n}];\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e好了，路由定义完了，现在我们看下如何监听路由变化\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eRouting events\x3c\/h2\x3e\n\x3cp\x3eAngular路由配置非常简单，但是路由通过Observables使用起来也非常强大。\x3cbr\x3e我们可以在根组件中全局监听路由的变化:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22ngOnInit() {\n  this.router.events\n    .subscribe((event) =\x3e {\n      \/\/ example: NavigationStart, RoutesRecognized, NavigationEnd\n      console.log(event);\n    });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3engOnInit() {\n  \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n    .subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e example: NavigationStart, RoutesRecognized, NavigationEnd\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(event);\n    });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们要做的就是在导航结束时获取到定义的数据然后设置页面标题，可以检查 \x3ca href=\x22https:\/\/angular.cn\/docs\/ts\/latest\/api\/router\/index\/NavigationStart-class.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNavigationStart\x3c\/a\x3e, \x3ca href=\x22https:\/\/angular.cn\/docs\/ts\/latest\/api\/router\/index\/RoutesRecognized-class.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRoutesRecognized\x3c\/a\x3e, \x3ca href=\x22https:\/\/angular.cn\/docs\/ts\/latest\/api\/router\/index\/NavigationEnd-class.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNavigationEnd\x3c\/a\x3e 哪种事件是我们需要的方式，理想情况下\x3ccode\x3eNavigationEnd\x3c\/code\x3e，我们可以这么做：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.router.events\n  .subscribe((event) =\x3e {\n    if (event instanceof NavigationEnd) { \/\/ 当导航成功结束时执行\n      console.log(\x27NavigationEnd:\x27, event);\n    }\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n  .subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd) { \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e 当导航成功结束时执行\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27NavigationEnd:\x27\x3c\/span\x3e, event);\n    }\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样我们就可以在导航成功结束时做一些逻辑了，因为Angular路由器是\x3ccode\x3ereactive\x3c\/code\x3e响应式的，所以我们可以使用 \x3ca href=\x22https:\/\/github.com\/Reactive-Extensions\/RxJS\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eRxJS\x3c\/a\x3e 实现更多的逻辑，我们来导入以下操作符：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import \x27rxjs\/add\/operator\/filter\x27;\nimport \x27rxjs\/add\/operator\/map\x27;\nimport \x27rxjs\/add\/operator\/mergeMap\x27;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x3cspan class=\x22hljs-meta-keyword\x22\x3eimport\x3c\/span\x3e \x27rxjs\/add\/operator\/filter\x27;\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x3cspan class=\x22hljs-meta-keyword\x22\x3eimport\x3c\/span\x3e \x27rxjs\/add\/operator\/map\x27;\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e\x3cspan class=\x22hljs-meta-keyword\x22\x3eimport\x3c\/span\x3e \x27rxjs\/add\/operator\/mergeMap\x27;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们已经添加了 \x3ccode\x3efilter\x3c\/code\x3e，\x3ccode\x3emap\x3c\/code\x3e 和 \x3ccode\x3emergeMap\x3c\/code\x3e 三个操作符，我们可以过滤出导航结束的事件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.router.events\n  .filter(event =\x3e event instanceof NavigationEnd)\n  .subscribe((event) =\x3e {\n    console.log(\x27NavigationEnd:\x27, event);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n  .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e =\x26gt;\x3c\/span\x3e event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd)\n  .subscribe(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27NavigationEnd:\x27\x3c\/span\x3e, event);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其次，因为我们已经注入了Router类，我们可以使用 \x3ca href=\x22https:\/\/angular.cn\/docs\/ts\/latest\/api\/router\/index\/RouterState-interface.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3erouterState\x3c\/a\x3e 来获取路由状态树得到最后一个导航成功的路由：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.router.events\n  .filter(event =\x3e event instanceof NavigationEnd)\n  .map(() =\x3e this.router.routerState.root)\n  .subscribe((event) =\x3e {\n    console.log(\x27NavigationEnd:\x27, event);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n  .filter(event =\x26gt; event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd)\n  .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.routerState.root)\n  .subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27NavigationEnd:\x27\x3c\/span\x3e, event);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然而，一个更好的方式就是使用 \x3ca href=\x22https:\/\/angular.cn\/docs\/ts\/latest\/api\/router\/index\/ActivatedRoute-interface.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eActivatedRoute\x3c\/a\x3e 来代替 \x3ccode\x3erouterState.root\x3c\/code\x3e,  我们可以将其\x3ccode\x3eActivatedRoute\x3c\/code\x3e注入类中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import { Router, NavigationEnd, ActivatedRoute } from \x27@angular\/router\x27;\n\n@Component({...})\nexport class AppComponent implements OnInit {\n  constructor(\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private titleService: Title\n  ) {}\n  ngOnInit() {\n    \/\/ our code is in here\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs nimrod\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { \x3cspan class=\x22hljs-type\x22\x3eRouter\x3c\/span\x3e, \x3cspan class=\x22hljs-type\x22\x3eNavigationEnd\x3c\/span\x3e, \x3cspan class=\x22hljs-type\x22\x3eActivatedRoute\x3c\/span\x3e } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x27@angular\/router\x27;\n\n@\x3cspan class=\x22hljs-type\x22\x3eComponent\x3c\/span\x3e(\x3cspan class=\x22hljs-meta\x22\x3e{...}\x3c\/span\x3e)\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e class \x3cspan class=\x22hljs-type\x22\x3eAppComponent\x3c\/span\x3e implements \x3cspan class=\x22hljs-type\x22\x3eOnInit\x3c\/span\x3e {\n  constructor(\n    private router: \x3cspan class=\x22hljs-type\x22\x3eRouter\x3c\/span\x3e,\n    private activatedRoute: \x3cspan class=\x22hljs-type\x22\x3eActivatedRoute\x3c\/span\x3e,\n    private titleService: \x3cspan class=\x22hljs-type\x22\x3eTitle\x3c\/span\x3e\n  ) {}\n  ngOnInit() {\n    \/\/ our code \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e here\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注入之后我们再来优化下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.router.events\n  .filter(event =\x3e event instanceof NavigationEnd)\n  .map(() =\x3e this.activatedRoute)\n  .subscribe((event) =\x3e {\n    console.log(\x27NavigationEnd:\x27, event);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n  .filter(event =\x26gt; event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd)\n  .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.activatedRoute)\n  .subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27NavigationEnd:\x27\x3c\/span\x3e, event);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们使用 \x3ccode\x3emap\x3c\/code\x3e 转换了我们观察到的内容，返回一个新的对象 \x3ccode\x3ethis.activatedRoute\x3c\/code\x3e 在 \x3ccode\x3estream\x3c\/code\x3e 流中继续执行。 我们使用 \x3ccode\x3efilter(过滤出导航成功结束)\x3c\/code\x3e 和 \x3ccode\x3emap(返回我们的路由状态树)\x3c\/code\x3e 成功地返回我们想要的事件类型 \x3ccode\x3eNavigationEnd\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e接下来是最有意思的部分，我们将创建一个while循环遍历状态树得到最后激活的 route，然后将其作为结果返回到流中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.router.events\n  .filter(event =\x3e event instanceof NavigationEnd)\n  .map(() =\x3e this.activatedRoute)\n  .map(route =\x3e {\n    while (route.firstChild) route = route.firstChild;\n    return route;\n  })\n  .subscribe((event) =\x3e {\n    console.log(\x27NavigationEnd:\x27, event);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n  .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e =\x26gt;\x3c\/span\x3e event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd)\n  .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.activatedRoute)\n  .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (route.firstChild) route = route.firstChild;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e route;\n  })\n  .subscribe(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27NavigationEnd:\x27\x3c\/span\x3e, event);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e接下来我们可以通过路由配置的属性来获取相应的页面标题。然后，我们还需要另外两个运算符：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.router.events\n  .filter(event =\x3e event instanceof NavigationEnd)\n  .map(() =\x3e this.activatedRoute)\n  .map(route =\x3e {\n    while (route.firstChild) route = route.firstChild;\n    return route;\n  })\n  .filter(route =\x3e route.outlet === \x27primary\x27)  \/\/ 过滤出未命名的outlet，\x3crouter-outlet\x3e\n  .mergeMap(route =\x3e route.data)                \/\/ 获取路由配置数据\n  .subscribe((event) =\x3e {\n    console.log(\x27NavigationEnd:\x27, event);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n  .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e =\x26gt;\x3c\/span\x3e event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd)\n  .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.activatedRoute)\n  .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (route.firstChild) route = route.firstChild;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e route;\n  })\n  .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e route.outlet === \x3cspan class=\x22hljs-string\x22\x3e\x27primary\x27\x3c\/span\x3e)  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 过滤出未命名的outlet，\x26lt;router-outlet\x26gt;\x3c\/span\x3e\n  .mergeMap(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e route.data)                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取路由配置数据\x3c\/span\x3e\n  .subscribe(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27NavigationEnd:\x27\x3c\/span\x3e, event);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在我们 \x3ccode\x3etitleService\x3c\/code\x3e 只需要实现：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.subscribe((event) =\x3e this.titleService.setTitle(event[\x27title\x27]));\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.titleService.setTitle(event[\x3cspan class=\x22hljs-string\x22\x3e\x27title\x27\x3c\/span\x3e]));\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e下面看一下最终代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import \x27rxjs\/add\/operator\/filter\x27;\nimport \x27rxjs\/add\/operator\/map\x27;\nimport \x27rxjs\/add\/operator\/mergeMap\x27;\n\nimport { Component, OnInit } from \x27@angular\/core\x27;\nimport { Router, NavigationEnd, ActivatedRoute } from \x27@angular\/router\x27;\nimport { Title } from \x27@angular\/platform-browser\x27;\n\n@Component({...})\nexport class AppComponent implements OnInit {\n  constructor(\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private titleService: Title\n  ) {}\n  ngOnInit() {\n    this.router.events\n      .filter(event =\x3e event instanceof NavigationEnd)\n      .map(() =\x3e this.activatedRoute)\n      .map(route =\x3e {\n        while (route.firstChild) route = route.firstChild;\n        return route;\n      })\n      .filter(route =\x3e route.outlet === \x27primary\x27)\n      .mergeMap(route =\x3e route.data)\n      .subscribe((event) =\x3e this.titleService.setTitle(event[\x27title\x27]));\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs typescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27rxjs\/add\/operator\/filter\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27rxjs\/add\/operator\/map\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27rxjs\/add\/operator\/mergeMap\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Component, OnInit } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/core\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Router, NavigationEnd, ActivatedRoute } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Title } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@angular\/platform-browser\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-meta\x22\x3e@Component\x3c\/span\x3e({...})\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e AppComponent \x3cspan class=\x22hljs-keyword\x22\x3eimplements\x3c\/span\x3e OnInit {\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e router: Router,\n    \x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e activatedRoute: ActivatedRoute,\n    \x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e titleService: Title\n  \x3c\/span\x3e) {}\n  ngOnInit() {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.router.events\n      .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e =\x26gt;\x3c\/span\x3e event \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e NavigationEnd)\n      .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.activatedRoute)\n      .map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (route.firstChild) route = route.firstChild;\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e route;\n      })\n      .filter(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e route.outlet === \x3cspan class=\x22hljs-string\x22\x3e\x27primary\x27\x3c\/span\x3e)\n      .mergeMap(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eroute\x3c\/span\x3e =\x26gt;\x3c\/span\x3e route.data)\n      .subscribe(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.titleService.setTitle(event[\x3cspan class=\x22hljs-string\x22\x3e\x27title\x27\x3c\/span\x3e]));\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e本文翻译自\x3ca href=\x22https:\/\/toddmotto.com\/dynamic-page-titles-angular-2-router-events\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edynamic-page-titles-angular-2-router-events\x3c\/a\x3e, 本人水平有限，如果有翻译不好的地方欢迎大家联系我\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Angular 2+ 监听路由变化动态设置页面标题</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009971757">https://segmentfault.com/a/1190000009971757</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/tvoiauyswv/" target="_blank">https://alili.tech/archive/tvoiauyswv/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>