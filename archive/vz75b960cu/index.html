<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="深入理解CSS外边距折叠（Margin Collapse）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>深入理解CSS外边距折叠（Margin Collapse） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/vz75b960cu/",
				"appid": "1613049289050283", 
				"title": "深入理解CSS外边距折叠（Margin Collapse） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-07T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/cvayxl3wvpi/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/gson261j9kw/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&text=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&text=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&is_video=false&description=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fvz75b960cu%2f&title=%e6%b7%b1%e5%85%a5%e7%90%86%e8%a7%a3CSS%e5%a4%96%e8%be%b9%e8%b7%9d%e6%8a%98%e5%8f%a0%ef%bc%88Margin%20Collapse%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">深入理解CSS外边距折叠（Margin Collapse）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-07" itemprop="datePublished">2019-01-07</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e外边距叠加一直是前端开发必须了解的一个概念，面试一般也会问到这个问题。所以整理一下相关外边距叠加相关的知识点。外边距叠加是什么？什么时候会发生外边距叠加？如何避免外边距叠加？\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么是外边距叠加\x3c\/h2\x3e\n\x3cp\x3e先来看看 \x3ca href=\x22https:\/\/www.w3.org\/TR\/CSS2\/box.html#collapsing-margins\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eW3C\x3c\/a\x3e 对于外边距叠加的定义：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eIn CSS, the adjoining margins of two or more boxes (which might or might not be siblings) can combine to form a single margin. Margins that combine this way are said to collapse, and the resulting combined margin is called a collapsed margin.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e大概意思是：在CSS中，两个或多个毗邻的普通流中的盒子（可能是父子元素，也可能是兄弟元素）在垂直方向上的外边距会发生叠加，这种形成的外边距称之为外边距叠加。\x3c\/p\x3e\n\x3cp\x3e我们可以注意定义中的几个关键字：毗邻、两个或多个、垂直方向和普通流。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e毗邻\x3c\/h3\x3e\n\x3cp\x3e毗邻说明了他们的位置关系，没有被 \x3ccode\x3epadding\x3c\/code\x3e、\x3ccode\x3eborder\x3c\/code\x3e、\x3ccode\x3eclear\x3c\/code\x3e 和 \x3ccode\x3eline box\x3c\/code\x3e 分隔开。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e两个或多个\x3c\/h3\x3e\n\x3cp\x3e两个或多个盒子是指元素之间的相互影响，单个元素不会存在外边距叠加的情况。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e垂直方向\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3eHorizontal margins never collapse.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e只有垂直方向的外边距会发生外边距叠加。水平方向的外边距不存在叠加的情况。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e普通流(in flow)\x3c\/h3\x3e\n\x3cp\x3e啥为普通流？W3C 只对 out of flow 作了定义：\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3eAn element is called out of flow if it is floated, absolutely positioned, or is the root element.An element is called in-flow if it is not out-of-flow.\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e从定义中我们可以知道只要不是 \x3ccode\x3efloat\x3c\/code\x3e、\x3ccode\x3eabsolutely positioned\x3c\/code\x3e 和 \x3ccode\x3eroot element\x3c\/code\x3e 时就是 in flow。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e什么时候会发生外边距叠加\x3c\/h2\x3e\n\x3cp\x3e外边距叠加存在两种情况：一是父子外边距叠加；二是兄弟外边距叠加。\x3c\/p\x3e\n\x3cp\x3eW3C 对于什么是毗邻的外边距也有定义：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3eTwo margins are adjoining if and only if: - both belong to in-flow block-level boxes that participate in the same block formatting context - no line boxes, no clearance, no padding and no border separate them - both belong to vertically-adjacent box edges, i.e. form one of the following pairs:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3etop margin of a box and top margin of its first in-flow child\x3c\/li\x3e\n\x3cli\x3ebottom margin of box and top margin of its next in-flow following sibling\x3c\/li\x3e\n\x3cli\x3ebottom margin of a last in-flow child and bottom margin of its parent if the \x26gt; parent has \x22auto\x22 computed height\x3c\/li\x3e\n\x3cli\x3etop and bottom margins of a box that does not establish a new block formatting context and that has zero computed \x22min-height\x22, zero or \x22auto\x22 computed \x22height\x22, and no in-flow children\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e从定义中我们可以很清楚的知道要符合哪些情况才会发生外边距折叠：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e都属于普通流的块级盒子且参与到相同的块级格式上下文中\x3c\/li\x3e\n\x3cli\x3e没有被padding、border、clear和line box分隔开\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e都属于垂直毗邻盒子边缘：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e盒子的top margin和它第一个普通流子元素的top margin\x3c\/li\x3e\n\x3cli\x3e盒子的bottom margin和它下一个普通流兄弟的top margin\x3c\/li\x3e\n\x3cli\x3e盒子的bottom margin和它父元素的bottom margin\x3c\/li\x3e\n\x3cli\x3e盒子的top margin和bottom margin，且没有创建一个新的块级格式上下文，且有被计算为0的min-height，被计算为0或auto的height，且没有普通流子元素\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3eDemo 1\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.parent1 {\n    height: 20px;\n    background: yellow;\n    margin-bottom: 20px;\n}\n.parent2 {\n    margin: 20px 0 30px;\n}\n.parent3 {\n    height: 20px;\n    background: green;\n    margin-top: 20px;\n}\n.child {\n    background: red;\n    height: 20px;\n    margin: 40px 0 30px;\n}\n\n\x3cdiv class=\x26quot;parent1\x26quot;\x3e\x3c\/div\x3e  \n\x3cdiv class=\x26quot;parent2\x26quot;\x3e  \n    \x3cdiv class=\x26quot;child\x26quot;\x3e\x3c\/div\x3e\n    \x3cdiv class=\x26quot;child\x26quot;\x3e\x3c\/div\x3e\n    \x3cdiv class=\x26quot;child\x26quot;\x3e\x3c\/div\x3e\n\x3c\/div\x3e  \n\x3cdiv class=\x26quot;parent3\x26quot;\x3e\x3c\/div\x3e  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.parent1\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: yellow;\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin-bottom\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.parent2\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e30px\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.parent3\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: green;\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin-top\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.child\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: red;\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e40px\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e30px\x3c\/span\x3e;\n}\n\n\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22parent1\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;  \n\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22parent2\x22\x3c\/span\x3e\x26gt;  \n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22child\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22child\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22child\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n\x26lt;\/div\x26gt;  \n\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22parent3\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个 demo 里的 \x3ccode\x3e.parent2\x3c\/code\x3e 和第一个 \x3ccode\x3e.child\x3c\/code\x3e 的 top margin 叠加，导致 \x3ccode\x3e.parent1\x3c\/code\x3e 和 \x3ccode\x3e.parent2\x3c\/code\x3e 之间的边距为 40px。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eDemo 2\x3c\/h3\x3e\n\x3cp\x3e还是用上面的代码，\x3ccode\x3e.parent2\x3c\/code\x3e 中的 \x3ccode\x3e.child\x3c\/code\x3e 中的 top margin 和 bottom margin 发生外边距叠加，它们之间的外边距为 40px。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3eDemo 3\x3c\/h3\x3e\n\x3cp\x3e还是上面的代码，\x3ccode\x3e.parent2\x3c\/code\x3e 中的最后一个 \x3ccode\x3e.child\x3c\/code\x3e 发生 bottom margin 叠加，\x3ccode\x3e.parent2\x3c\/code\x3e\x3cbr\x3e 和 \x3ccode\x3e.parent3\x3c\/code\x3e 之间的边距为 30px。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eDemo 4\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22.demo {\n    height: 30px;\n    background: red;\n}\n.margin-test {\n    margin: 20px 0 30px;\n}\n\n\x3cdiv class=\x26quot;container\x26quot;\x3e  \n    \x3cdiv class=\x26quot;demo\x26quot;\x3e\x3c\/div\x3e\n    \x3cdiv class=\x26quot;margin-test\x26quot;\x3e\x3c\/div\x3e\n    \x3cdiv class=\x26quot;demo\x26quot;\x3e\x3c\/div\x3e\n\x3c\/div\x3e  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.demo\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e30px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: red;\n}\n\x3cspan class=\x22hljs-selector-class\x22\x3e.margin-test\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e20px\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e30px\x3c\/span\x3e;\n}\n\n\x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22container\x22\x3c\/span\x3e\x26gt;  \n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22demo\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22margin-test\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e class=\x3cspan class=\x22hljs-string\x22\x3e\x22demo\x22\x3c\/span\x3e\x26gt;\x26lt;\/div\x26gt;\n\x26lt;\/div\x26gt;  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个 demo 是上面的第四种情况，元素自身的外边距 \x3ccode\x3etop\x3c\/code\x3e 和 \x3ccode\x3ebottom\x3c\/code\x3e 发生折叠，我们可以看出 \x3ccode\x3e.container\x3c\/code\x3e 的高度为 90px，这里可以看到 \x3ccode\x3emargin-test\x3c\/code\x3e 的 \x3ccode\x3etop\x3c\/code\x3e 和 \x3ccode\x3ebottom\x3c\/code\x3e 外边距发生了折叠。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e如何避免外边距叠加\x3c\/h2\x3e\n\x3cp\x3e上面讲了外边距的叠加，那如何避免呢，其实只要破坏上面讲到的四个条件中的任何一个即可：毗邻、两个或多个、普通流和垂直方向。\x3c\/p\x3e\n\x3cp\x3eW3C也对此做了总结：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eMargins between a floated box and any other box do not collapse (not even between a float and its in-flow children).\x3c\/li\x3e\n\x3cli\x3eMargins of elements that establish new block formatting contexts (such as floats and elements with \x22overflow\x22 other than \x22visible\x22) do not collapse with their in-flow children.\x3c\/li\x3e\n\x3cli\x3eMargins of absolutely positioned boxes do not collapse (not even with their in-flow children).\x3c\/li\x3e\n\x3cli\x3eMargins of inline-block boxes do not collapse (not even with their in-flow children).\x3c\/li\x3e\n\x3cli\x3eThe bottom margin of an in-flow block-level element always collapses with the top margin of its next in-flow block-level sibling, unless that sibling has clearance.\x3c\/li\x3e\n\x3cli\x3eThe top margin of an in-flow block element collapses with its first in-flow block-level child\x22s top margin if the element has no top border, no top padding, and the child has no clearance.\x3c\/li\x3e\n\x3cli\x3eThe bottom margin of an in-flow block box with a \x22height\x22 of \x22auto\x22 and a \x22min-height\x22 of zero collapses with its last in-flow block-level child\x22s bottom margin if the box has no bottom padding and no bottom border and the child\x22s bottom margin does not collapse with a top margin that has clearance.\x3c\/li\x3e\n\x3cli\x3eA box\x22s own margins collapse if the \x22min-height\x22 property is zero, and it has neither top or bottom borders nor top or bottom padding, and it has a \x22height\x22 of either 0 or \x22auto\x22, and it does not contain a line box, and all of its in-flow children\x22s margins (if any) collapse.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e翻译一下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e浮动元素不会与任何元素发生叠加，也包括它的子元素\x3c\/li\x3e\n\x3cli\x3e创建了 BFC 的元素不会和它的子元素发生外边距叠加\x3c\/li\x3e\n\x3cli\x3e绝对定位元素和其他任何元素之间不发生外边距叠加，也包括它的子元素\x3c\/li\x3e\n\x3cli\x3einline-block 元素和其他任何元素之间不发生外边距叠加，也包括它的子元素\x3c\/li\x3e\n\x3cli\x3e普通流中的块级元素的 margin-bottom 永远和它相邻的下一个块级元素的 margin-top 叠加，除非相邻的兄弟元素 clear\x3c\/li\x3e\n\x3cli\x3e普通流中的块级元素（没有 border-top、没有 padding-top）的 margin-top 和它的第一个普通流中的子元素（没有clear）发生 margin-top 叠加\x3c\/li\x3e\n\x3cli\x3e普通流中的块级元素（height为 auto、min-height为0、没有 border-bottom、没有 padding-bottom）和它的最后一个普通流中的子元素（没有自身发生margin叠加或clear）发生 margin-bottom叠加\x3c\/li\x3e\n\x3cli\x3e如果一个元素的 min-height 为0、没有 border、没有padding、高度为0或者auto、不包含子元素，那么它自身的外边距会发生叠加\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e本文首发于有赞技术博客：\x3ca href=\x22http:\/\/tech.youzan.com\/css-margin-collapse\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/tech.youzan.com\/css-ma...\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>深入理解CSS外边距折叠（Margin Collapse）</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010346113">https://segmentfault.com/a/1190000010346113</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/vz75b960cu/" target="_blank">https://alili.tech/archive/vz75b960cu/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>