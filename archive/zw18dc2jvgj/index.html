<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="前端单元测试探索"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>前端单元测试探索 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/zw18dc2jvgj/",
				"appid": "1613049289050283", 
				"title": "前端单元测试探索 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-03T02:30:40"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/zgnjw291zok/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/i56wzh57lq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&text=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&text=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&title=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&is_video=false&description=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&title=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&title=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&title=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzw18dc2jvgj%2f&title=%e5%89%8d%e7%ab%af%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95%e6%8e%a2%e7%b4%a2"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">前端单元测试探索</h1><div class="meta"><div class="postdate"><time datetime="2019-02-03" itemprop="datePublished">2019-02-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\n\x3cp\x3e本文已发布在\x3ca href=\x22http:\/\/gold.xitu.io\/entry\/57dbc89c7db2a24eb1a99604\/detail\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e稀土掘金\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e转载请注明原文链接：\x3ca href=\x22https:\/\/github.com\/ecmadao\/Coding-Guide\/blob\/master\/Notes\/UnitTest\/%E5%89%8D%E7%AB%AF%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%8E%A2%E7%B4%A2.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/ecmadao\/Co...\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e虽然很多公司有自己的测试部门，而且前端开发大多不涉及测试环节，但鉴于目前前端领域的快速发展，其涉及面越来越广，前端开发者们必然不能止步于目前的状态。我觉得学会编写良好的测试，不仅仅有利于自己整理需求、检查代码，更是一个优秀开发者的体现。\x3c\/p\x3e\n\x3cp\x3e首先不得不推荐两篇文章：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/fex.baidu.com\/blog\/2015\/07\/front-end-test\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端自动化测试探索\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/blog.jobbole.com\/64431\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e测试驱动开发（TDD）介绍中的误区\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3eIntro\x3c\/h3\x3e\n\x3cp\x3e\x3cstrong\x3e单元测试到底是什么？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e需要访问数据库的测试不是单元测试\x3c\/p\x3e\n\x3cp\x3e需要访问网络的测试不是单元测试\x3c\/p\x3e\n\x3cp\x3e需要访问文件系统的测试不是单元测试\x3c\/p\x3e\n\x3cp\x3e--- 修改代码的艺术\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3cstrong\x3e我们在单元测试中应该避免什么？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e太多的条件逻辑\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e构造函数中做了太多事情\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3etoo many全局变量\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3etoo many静态方法\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e无关逻辑\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e过多外部依赖\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3eTDD(Test-driven development)\x3c\/h3\x3e\n\x3cp\x3e测试驱动开发（TDD），其基本思路是通过测试来推动整个开发的进行。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e单元测试的首要目的不是为了能够编写出大覆盖率的全部通过的测试代码，而是需要从使用者(调用者)的角度出发，尝试函数逻辑的各种可能性，进而辅助性增强代码质量\x3c\/strong\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e测试是手段而不是目的。测试的主要目的不是证明代码正确，而是帮助发现错误，包括低级的错误\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e测试要快。快速运行、快速编写\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e测试代码保持简洁\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不会忽略失败的测试。一旦团队开始接受1个测试的构建失败，那么他们渐渐地适应2、3、4或者更多的失败。在这种情况下，测试集就不再起作用\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3eIMPORTANT\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e一定不能误解了TDD的核心目的！\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e测试不是为了覆盖率和正确率\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e而是作为实例，告诉开发人员要编写什么代码\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e红灯（代码还不完善，测试挂）-\x26gt; 绿灯（编写代码，测试通过）-\x26gt; 重构（优化代码并保证测试通过）\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e大致过程\x3c\/h4\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e需求分析，思考实现。考虑如何“使用”产品代码，是一个实例方法还是一个类方法，是从构造函数传参还是从方法调用传参，方法的命名，返回值等。这时其实就是在做设计，而且设计以代码来体现。此时测试为红\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e实现代码让测试为绿\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e重构，然后重复测试\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e最终符合所有要求：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e每个概念都被清晰的表达\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eNot Repeat Self\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e没有多余的东西\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e通过测试\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eBDD(Behavior-driven development)\x3c\/h3\x3e\n\x3cp\x3e行为驱动开发（BDD），重点是通过与利益相关者的讨论，取得对预期的软件行为的清醒认识，其\x3cstrong\x3e重点在于沟通\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e大致过程\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e从业务的角度定义具体的，以及可衡量的目标\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e找到一种可以达到设定目标的、对业务最重要的那些功能的方法\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e然后像故事一样描述出一个个具体可执行的行为。其描述方法基于一些通用词汇，这些词汇具有准确无误的表达能力和一致的含义。例如，\x3ccode\x3eexpect\x3c\/code\x3e, \x3ccode\x3eshould\x3c\/code\x3e, \x3ccode\x3eassert\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e寻找合适语言及方法，对行为进行实现\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e测试人员检验产品运行结果是否符合预期行为。最大程度的交付出符合用户期望的产品，避免表达不一致带来的问题\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e测试的分类 \x26amp; 测试工具\x3c\/h3\x3e\n\x3ch4\x3e分类\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3eAPI\/Func UnitTest\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e测试不常变化的函数逻辑\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e测试前后端API接口\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3eUI UnitTest\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e页面自动截图\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e页面DOM元素检查\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e跑通交互流程\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e工具\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/mochajs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMocha\x3c\/a\x3e \x2b \x3ca href=\x22http:\/\/chaijs.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eChai\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/phantomjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePhantomJS\x3c\/a\x3e or \x3ca href=\x22http:\/\/casperjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCasperJS\x3c\/a\x3e or \x3ca href=\x22http:\/\/nightwatchjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNightwatch.js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/SeleniumHQ\/selenium\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eselenium\x3c\/a\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/seleniumhq.github.io\/selenium\/docs\/api\/py\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewith python\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/seleniumhq.github.io\/selenium\/docs\/api\/javascript\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewith js\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e\n\x3ca href=\x22http:\/\/mochajs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emocha\x3c\/a\x3e \x2b \x3ca href=\x22http:\/\/chaijs.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3echai\x3c\/a\x3e的API\/Func UnitTest\x3c\/h3\x3e\n\x3cblockquote\x3e\n\x3cp\x3emocha是一套前端测试工具，我们可以拿它和其他测试工具搭配。\x3c\/p\x3e\n\x3cp\x3e而chai则是BDD\/TDD测试断言库，提供诸如expect这样的测试语法\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch4\x3einitial\x3c\/h4\x3e\n\x3cp\x3e下面两篇文章值得一看：\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/jamesknelson.com\/testing-in-es6-with-mocha-and-babel-6\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTesting in ES6 with Mocha and Babel 6\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/babeljs.io\/docs\/setup\/#installation\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eUsing Babel\x3c\/a\x3e\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch5\x3esetup\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i mocha --save-dev\n$ npm i chai --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ npm i mocha --save-dev\n$ npm i chai --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3eUse with es6\x3c\/h5\x3e\n\x3cp\x3e\x3cem\x3ebabel 6\x2b\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install --save-dev babel-register\n$ npm install babel-preset-es2015 --save-dev\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ npm install --save-dev babel-register\n$ npm install babel-preset-es2015 --save-dev\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ package.json\n{\n  \x26quot;scripts\x26quot;: {\n    \x26quot;test\x26quot;: \x26quot;.\/node_modules\/mocha\/bin\/mocha --compilers js:babel-register\x26quot;\n  },\n  \x26quot;babel\x26quot;: {\n    \x26quot;presets\x26quot;: [\n      \x26quot;es2015\x26quot;\n    ]\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ package.json\x3c\/span\x3e\n{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/node_modules\/mocha\/bin\/mocha --compilers js:babel-register\x22\x3c\/span\x3e\n  },\n  \x3cspan class=\x22hljs-string\x22\x3e\x22babel\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n      \x3cspan class=\x22hljs-string\x22\x3e\x22es2015\x22\x3c\/span\x3e\n    ]\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cem\x3ebabel 5\x2b\x3c\/em\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install --save-dev babel-core\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install --save-dev babel-core\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ package.json\n{\n  \x26quot;scripts\x26quot;: {\n    \x26quot;test\x26quot;: \x26quot;.\/node_modules\/mocha\/bin\/mocha --compilers js:babel-core\/register\x26quot;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ package.json\x3c\/span\x3e\n{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/node_modules\/mocha\/bin\/mocha --compilers js:babel-core\/register\x22\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3eUse with coffeescript\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm install --save coffee-script\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e$ npm install --save coffee-script\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;scripts\x26quot;: {\n    \x26quot;test\x26quot;: \x26quot;.\/node_modules\/mocha\/bin\/mocha --compilers coffee:coffee-script\/register\x26quot;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/node_modules\/mocha\/bin\/mocha --compilers coffee:coffee-script\/register\x22\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3eUse with es6\x2bcoffeescript\x3c\/h5\x3e\n\x3cp\x3eAfter done both...\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;scripts\x26quot;: {\n    \x26quot;test\x26quot;: \x26quot;.\/node_modules\/mocha\/bin\/mocha --compilers js:babel-core\/register,coffee:coffee-script\/register\x26quot;\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e{\n  \x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22test\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22.\/node_modules\/mocha\/bin\/mocha --compilers js:babel-core\/register,coffee:coffee-script\/register\x22\x3c\/span\x3e\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# $ mocha\n$ npm t\n$ npm test\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# $ mocha\x3c\/span\x3e\n$ npm t\n$ npm \x3cspan class=\x22hljs-built_in\x22\x3etest\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3echai\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import chai from \x27chai\x27;\n\nconst assert = chai.assert;\nconst expect = chai.expect;\nconst should = chai.should();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e chai \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27chai\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e assert = chai.assert;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e expect = chai.expect;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e should = chai.should();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22foo.should.be.a(\x27string\x27);\nfoo.should.equal(\x27bar\x27);\nlist.should.have.length(3);\nobj.should.have.property(\x27name\x27);\n\nexpect(foo).to.be.a(\x27string\x27);\nexpect(foo).to.equal(\x27bar\x27);\nexpect(list).to.have.length(3);\nexpect(obj).to.have.property(\x27flavors\x27);\n\nassert.typeOf(foo, \x27string\x27);\nassert.equal(foo, \x27bar\x27);\nassert.lengthOf(list, 3);\nassert.property(obj, \x27flavors\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3efoo.should.be.a(\x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e);\nfoo.should.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e);\nlist.should.have.length(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\nobj.should.have.property(\x3cspan class=\x22hljs-string\x22\x3e\x27name\x27\x3c\/span\x3e);\n\nexpect(foo).to.be.a(\x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e);\nexpect(foo).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e);\nexpect(list).to.have.length(\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\nexpect(obj).to.have.property(\x3cspan class=\x22hljs-string\x22\x3e\x27flavors\x27\x3c\/span\x3e);\n\nassert.typeOf(foo, \x3cspan class=\x22hljs-string\x22\x3e\x27string\x27\x3c\/span\x3e);\nassert.equal(foo, \x3cspan class=\x22hljs-string\x22\x3e\x27bar\x27\x3c\/span\x3e);\nassert.lengthOf(list, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\nassert.property(obj, \x3cspan class=\x22hljs-string\x22\x3e\x27flavors\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3eTest\x3c\/h4\x3e\n\x3cp\x3e测试的一个基本思路是，自身从函数的调用者出发，对函数进行各种情况的调用，查看其容错程度、返回结果是否符合预期。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import chai from \x27chai\x27;\nconst assert = chai.assert;\nconst expect = chai.expect;\nconst should = chai.should();\n\ndescribe(\x27describe a test\x27, () =\x3e {\n\n  it(\x27should return true\x27, () =\x3e {\n      let example = true;\n      \/\/ expect\n      expect(example).not.to.equal(false);\n      expect(example).to.equal(true);\n      \/\/ should\n      example.should.equal(true);\n      example.should.be.a(boolen);\n      [1, 2].should.have.length(2);\n  });\n  \n  it(\x27should check an object\x27, () =\x3e {\n    \/\/ 对于多层嵌套的Object而言..\n    let nestedObj = {\n        a: {\n          b: 1\n      }\n    };\n    let nestedObjCopy = Object.assign({}, nestedObj);\n    nestedObj.a.b = 2;\n    \n    \/\/ do a function to change nestedObjCopy.a.b \n    expect(nestedObjCopy).to.deep.equal(nestedObj);\n    expect(nestedObjCopy).to.have.property(\x27a\x27);\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e chai \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27chai\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e assert = chai.assert;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e expect = chai.expect;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e should = chai.should();\n\ndescribe(\x3cspan class=\x22hljs-string\x22\x3e\x27describe a test\x27\x3c\/span\x3e, () =\x26gt; {\n\n  it(\x3cspan class=\x22hljs-string\x22\x3e\x27should return true\x27\x3c\/span\x3e, () =\x26gt; {\n      \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e example = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ expect\x3c\/span\x3e\n      expect(example).not.to.equal(\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n      expect(example).to.equal(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ should\x3c\/span\x3e\n      example.should.equal(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n      example.should.be.a(boolen);\n      [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e].should.have.length(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e);\n  });\n  \n  it(\x3cspan class=\x22hljs-string\x22\x3e\x27should check an object\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 对于多层嵌套的Object而言..\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e nestedObj = {\n        \x3cspan class=\x22hljs-attr\x22\x3ea\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3eb\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n      }\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e nestedObjCopy = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({}, nestedObj);\n    nestedObj.a.b = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ do a function to change nestedObjCopy.a.b \x3c\/span\x3e\n    expect(nestedObjCopy).to.deep.equal(nestedObj);\n    expect(nestedObjCopy).to.have.property(\x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e);\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3eAsynTest\x3c\/h4\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/staxmanade.com\/2015\/11\/testing-asyncronous-code-with-mochajs-and-es7-async-await\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTesting Asynchronous Code with MochaJS and ES7 async\/await\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3emocha无法自动监听异步方法的完成，需要我们在完成之后手动调用\x3ccode\x3edone()\x3c\/code\x3e方法\x3c\/p\x3e\n\x3cp\x3e而如果要在回调之后使用异步测试语句，则需要使用\x3ccode\x3etry\/catch\x3c\/code\x3e进行捕获。成功则\x3ccode\x3edone()\x3c\/code\x3e，失败则\x3ccode\x3edone(error)\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 普通的测试方法\nit(\x26quot;should work\x26quot;, () =\x3e{\n  console.log(\x26quot;Synchronous test\x26quot;);\n});\n\/\/ 异步的测试方法\nit(\x26quot;should work\x26quot;, (done) =\x3e{\n  setTimeout(() =\x3e {\n    try {\n        expect(1).not.to.equal(0);\n        done(); \/\/ 成功\n    } catch (err) {\n        done(err); \/\/ 失败\n    }\n  }, 200);\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 普通的测试方法\x3c\/span\x3e\nit(\x3cspan class=\x22hljs-string\x22\x3e\x22should work\x22\x3c\/span\x3e, () =\x26gt;{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x22Synchronous test\x22\x3c\/span\x3e);\n});\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 异步的测试方法\x3c\/span\x3e\nit(\x3cspan class=\x22hljs-string\x22\x3e\x22should work\x22\x3c\/span\x3e, (done) =\x26gt;{\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n        expect(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e).not.to.equal(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n        done(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 成功\x3c\/span\x3e\n    } \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (err) {\n        done(err); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 失败\x3c\/span\x3e\n    }\n  }, \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e);\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e异步测试有两种方法完结：\x3ccode\x3edone\x3c\/code\x3e或者返回\x3ccode\x3ePromise\x3c\/code\x3e。而通过返回\x3ccode\x3ePromise\x3c\/code\x3e，则不再需要编写笨重的\x3ccode\x3etry\/catch\x3c\/code\x3e语句\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22it(\x26quot;Using a Promise that resolves successfully with wrong expectation!\x26quot;, function() {\n    var testPromise = new Promise(function(resolve, reject) {\n        setTimeout(function() {\n            resolve(\x26quot;Hello World!\x26quot;);\n        }, 200);\n    });\n\n    return testPromise.then(function(result){\n        expect(result).to.equal(\x26quot;Hello!\x26quot;);\n    });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eit(\x3cspan class=\x22hljs-string\x22\x3e\x22Using a Promise that resolves successfully with wrong expectation!\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e testPromise = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) \x3c\/span\x3e{\n        setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            resolve(\x3cspan class=\x22hljs-string\x22\x3e\x22Hello World!\x22\x3c\/span\x3e);\n        }, \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e);\n    });\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e testPromise.then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e)\x3c\/span\x3e{\n        expect(result).to.equal(\x3cspan class=\x22hljs-string\x22\x3e\x22Hello!\x22\x3c\/span\x3e);\n    });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e\x3ca href=\x22https:\/\/github.com\/node-nock\/nock\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emock\x3c\/a\x3e\x3c\/h4\x3e\n\x3cblockquote\x3e\x3cp\x3emock是一个接口模拟库，我们可以通过它来模拟代码中的一些异步操作\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3eReact单元测试\x3c\/h3\x3e\n\x3ch4\x3eTest React Component\x3c\/h4\x3e\n\x3cp\x3eReact组件无法直接通过上述方法进行测试，需要安装\x3ca href=\x22https:\/\/github.com\/airbnb\/enzyme\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eenzyme\x3c\/a\x3e依赖。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22$ npm i --save-dev enzyme\n#\n$ npm i --save-dev react-addons-test-utils\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e$ npm i --save-dev enzyme\n\x3cspan class=\x22hljs-comment\x22\x3e#\x3c\/span\x3e\n$ npm i --save-dev react-addons-test-utils\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e假设有这样一个组件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ ...省略部分import代码\nclass TestComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    let {num} = props;\n    this.state = {\n      clickNum: num\n    }\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  handleClick() {\n    let {clickNum} = this.state;\n    this.setState({\n      clickNum: clickNum \x2b 1\n    });\n  }\n\n  render() {\n    let {clickNum} = this.state;\n    return (\n      \x3cdiv className=\x26quot;test_component\x26quot;\x3e\n        {clickNum}\n        \x3cspan onClick={this.handleClick}\x3e点我加1\x3c\/span\x3e\n      \x3c\/div\x3e\n    )\n  }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...省略部分import代码\x3c\/span\x3e\n\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eTestComponent\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eextends\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eReact\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eComponent\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e(props) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e(props);\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e {num} = props;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state = {\n      \x3cspan class=\x22hljs-attr\x22\x3eclickNum\x3c\/span\x3e: num\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleClick = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.handleClick.bind(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e)\n  }\n\n  handleClick() {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e {clickNum} = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state;\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.setState({\n      \x3cspan class=\x22hljs-attr\x22\x3eclickNum\x3c\/span\x3e: clickNum \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\n    });\n  }\n\n  render() {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e {clickNum} = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.state;\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e (\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclassName\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22test_component\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        {clickNum}\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eonClick\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{this.handleClick}\x3c\/span\x3e\x26gt;\x3c\/span\x3e点我加1\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n    )\n  }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用样例：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import React from \x27react\x27;\nimport {expect} from \x27chai\x27;\nimport {shallow} from \x27enzyme\x27;\n\nimport TestComponent from \x27..\/components\/TestComponent\x27;\n\ndescribe(\x27Test TestComponent\x27, () =\x3e {\n  \/\/ 创建一个虚拟的组件\n  const wrapper = shallow(\n      \x3cTestComponent num={10} \/\x3e\/\n  );\n\n  \/* \n  * 之后，我们可以:\n  * 通过wrapper.state()拿到组件的state\n  * 通过wrapper.instance()拿到组件实例，以此调用组件内的方法\n  * 通过wrapper.find()找到组件内的子组件\n  * 但是，无法通过wrapper.props()拿到组件的props\n  *\/\n\n  \/\/ 测试该组件组外层的class\n  it(\x27should render with currect wrapper\x27, () =\x3e {\n    expect(wrapper.is(\x27.test_component\x27)).to.equal(true);\n  });\n\n  \/\/ 测试该组件初始化的state\n  it(\x27should render with currect state\x27, () =\x3e {\n    expect(wrapper.state()).to.deep.equal({\n      clickNum: 10\n    });\n  });\n\n  \/\/ 测试组件的方法\n  it(\x27should add one\x27, () =\x3e {\n    wrapper.instance().handleClick();\n    expect(wrapper.state()).to.deep.equal({\n      clickNum: 11\n    });\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e React \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {expect} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27chai\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {shallow} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27enzyme\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e TestComponent \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/components\/TestComponent\x27\x3c\/span\x3e;\n\ndescribe(\x3cspan class=\x22hljs-string\x22\x3e\x27Test TestComponent\x27\x3c\/span\x3e, () =\x26gt; {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建一个虚拟的组件\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e wrapper = shallow(\n      \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eTestComponent\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3enum\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{10}\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\/\n  );\n\n  \/* \n  * 之后，我们可以:\n  * 通过wrapper.state()拿到组件的state\n  * 通过wrapper.instance()拿到组件实例，以此调用组件内的方法\n  * 通过wrapper.find()找到组件内的子组件\n  * 但是，无法通过wrapper.props()拿到组件的props\n  *\/\n\n  \/\/ 测试该组件组外层的class\n  it(\x27should render with currect wrapper\x27, () =\x26gt; {\n    expect(wrapper.is(\x27.test_component\x27)).to.equal(true);\n  });\n\n  \/\/ 测试该组件初始化的state\n  it(\x27should render with currect state\x27, () =\x26gt; {\n    expect(wrapper.state()).to.deep.equal({\n      clickNum: 10\n    });\n  });\n\n  \/\/ 测试组件的方法\n  it(\x27should add one\x27, () =\x26gt; {\n    wrapper.instance().handleClick();\n    expect(wrapper.state()).to.deep.equal({\n      clickNum: 11\n    });\n  });\n});\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3eTest Redux\x3c\/h4\x3e\n\x3cp\x3eredux身为纯函数，非常便于mocha进行测试\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 测试actions\nimport * as ACTIONS from \x27..\/redux\/actions\x27;\n\ndescribe(\x27test actions\x27, () =\x3e {\n  it(\x27should return an action to create a todo\x27, () =\x3e {\n    let expectedAction = {\n        type: ACTIONS.NEW_TODO,\n        todo: \x27this is a new todo\x27\n    };\n     expect(ACTIONS.addNewTodo(\x27this is a new todo\x27)).to.deep.equal(expectedAction);\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 测试actions\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e ACTIONS \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/redux\/actions\x27\x3c\/span\x3e;\n\ndescribe(\x3cspan class=\x22hljs-string\x22\x3e\x27test actions\x27\x3c\/span\x3e, () =\x26gt; {\n  it(\x3cspan class=\x22hljs-string\x22\x3e\x27should return an action to create a todo\x27\x3c\/span\x3e, () =\x26gt; {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e expectedAction = {\n        \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: ACTIONS.NEW_TODO,\n        \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27this is a new todo\x27\x3c\/span\x3e\n    };\n     expect(ACTIONS.addNewTodo(\x3cspan class=\x22hljs-string\x22\x3e\x27this is a new todo\x27\x3c\/span\x3e)).to.deep.equal(expectedAction);\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 测试reducer\nimport * as REDUCERS from \x27..\/redux\/reducers\x27;\nimport * as ACTIONS from \x27..\/redux\/actions\x27;\n\ndescribe(\x27todos\x27, () =\x3e {\n  let todos = [];\n  it(\x27should add a new todo\x27, () =\x3e {\n      todos.push({\n        todo: \x27new todo\x27,\n        complete: false\n    });\n    expect(REDUCERS.todos(todos, {\n        type: ACTIONS.NEW_TODO,\n        todo: \x27new todo\x27\n    })).to.deep.equal([\n      {\n          todo: \x27new todo\x27,\n          complete: false\n      }\n    ]);\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 测试reducer\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e REDUCERS \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/redux\/reducers\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e ACTIONS \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/redux\/actions\x27\x3c\/span\x3e;\n\ndescribe(\x3cspan class=\x22hljs-string\x22\x3e\x27todos\x27\x3c\/span\x3e, () =\x26gt; {\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e todos = [];\n  it(\x3cspan class=\x22hljs-string\x22\x3e\x27should add a new todo\x27\x3c\/span\x3e, () =\x26gt; {\n      todos.push({\n        \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27new todo\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ecomplete\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    });\n    expect(REDUCERS.todos(todos, {\n        \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: ACTIONS.NEW_TODO,\n        \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27new todo\x27\x3c\/span\x3e\n    })).to.deep.equal([\n      {\n          \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27new todo\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3ecomplete\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n      }\n    ]);\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 还可以和store混用\nimport { createStore, applyMiddleware, combineReducers } from \x27redux\x27;\nimport thunk from \x27redux-thunk\x27;\nimport chai from \x27chai\x27;\nimport thunkMiddleware from \x27redux-thunk\x27;\nimport * as REDUCERS from \x27..\/redux\/reducers\x27;\nimport defaultState from \x27..\/redux\/ConstValues\x27;\nimport * as ACTIONS from \x27..\/redux\/actions\x27\n\nconst appReducers = combineReducers(REDUCERS);\nconst AppStore = createStore(appReducers, defaultState， applyMiddleware(thunk));\nlet state = Object.assign({}, AppStore.getState());\n\n\/\/ 一旦注册就会时刻监听state变化\nconst subscribeListener = (result, done) =\x3e {\n  return AppStore.subscribe(() =\x3e {\n    expect(AppStore.getState()).to.deep.equal(result);\n    done();\n  });\n};\n\ndescribe(\x27use store in unittest\x27， () =\x3e {\n  it(\x27should create a todo\x27, (done) =\x3e {\n    \/\/ 首先取得我们的期望值\n      state.todos.append({\n        todo: \x27new todo\x27,\n        complete: false\n    });\n    \n    \/\/ 注册state监听\n    let unsubscribe = subscribeListener(state, done);\n    AppStore.dispatch(ACTIONS.addNewTodo(\x27new todo\x27));\n    \/\/ 结束之后取消监听\n    unsubscribe();\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 还可以和store混用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { createStore, applyMiddleware, combineReducers } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e thunk \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux-thunk\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e chai \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27chai\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e thunkMiddleware \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27redux-thunk\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e REDUCERS \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/redux\/reducers\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e defaultState \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/redux\/ConstValues\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e * \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e ACTIONS \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27..\/redux\/actions\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e appReducers = combineReducers(REDUCERS);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e AppStore = createStore(appReducers, defaultState， applyMiddleware(thunk));\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e state = \x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign({}, AppStore.getState());\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 一旦注册就会时刻监听state变化\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e subscribeListener = \x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresult, done\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e AppStore.subscribe(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    expect(AppStore.getState()).to.deep.equal(result);\n    done();\n  });\n};\n\ndescribe(\x3cspan class=\x22hljs-string\x22\x3e\x27use store in unittest\x27\x3c\/span\x3e， () =\x26gt; {\n  it(\x3cspan class=\x22hljs-string\x22\x3e\x27should create a todo\x27\x3c\/span\x3e, (done) =\x26gt; {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 首先取得我们的期望值\x3c\/span\x3e\n      state.todos.append({\n        \x3cspan class=\x22hljs-attr\x22\x3etodo\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27new todo\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3ecomplete\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    });\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注册state监听\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e unsubscribe = subscribeListener(state, done);\n    AppStore.dispatch(ACTIONS.addNewTodo(\x3cspan class=\x22hljs-string\x22\x3e\x27new todo\x27\x3c\/span\x3e));\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 结束之后取消监听\x3c\/span\x3e\n    unsubscribe();\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e基于\x3ca href=\x22http:\/\/phantomjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ephantomjs\x3c\/a\x3e和\x3ca href=\x22https:\/\/github.com\/SeleniumHQ\/selenium\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eselenium\x3c\/a\x3e的UI UnitTest\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3ePhantomJS\x3c\/code\x3e是一个基于webkit的服务器端JavaScript API，即相当于在内存中跑了个无界面的webkit内核的浏览器。通过它我们可以模拟页面加载，并获取到页面上的DOM元素，进行一系列的操作，以此来模拟UI测试。但缺点是无法实时看见页面上的情况（不过可以截图）。\x3c\/p\x3e\n\x3cp\x3e而\x3ccode\x3eSelenium\x3c\/code\x3e是专门为Web应用程序编写的一个验收测试工具，它直接运行在浏览器中。\x3ccode\x3eSelenium\x3c\/code\x3e测试通常会调起一个可见的界面，但也可以通过设置，让它以\x3ccode\x3ePhantomJS\x3c\/code\x3e的形式进行无界面的测试。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eopen 某个 url\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e监听 onload 事件\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e事件完成后调用 sendEvent 之类的 api 去点击某个 DOM 元素所在 point\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e触发交互\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e根据 UI 交互情况 延时 setTimeout （规避惰加载组件点不到的情况）继续 sendEvent 之类的交互\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22http:\/\/bites.goodeggs.com\/posts\/selenium-webdriver-nodejs-tutorial\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGetting started with Selenium Webdriver for node.js\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>前端单元测试探索</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006933557">https://segmentfault.com/a/1190000006933557</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/zw18dc2jvgj/" target="_blank">https://alili.tech/archive/zw18dc2jvgj/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>