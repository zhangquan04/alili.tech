<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="使用electron-builder在windows上打包并自动更新"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>使用electron-builder在windows上打包并自动更新 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/68kfkipnrda/",
				"appid": "1613049289050283", 
				"title": "使用electron-builder在windows上打包并自动更新 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-08T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/80qvntjyjgm/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/xnesxvirmh/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&text=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&text=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&title=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&is_video=false&description=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&title=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&title=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&title=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f68kfkipnrda%2f&title=%e4%bd%bf%e7%94%a8electron-builder%e5%9c%a8windows%e4%b8%8a%e6%89%93%e5%8c%85%e5%b9%b6%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">使用electron-builder在windows上打包并自动更新</h1><div class="meta"><div class="postdate"><time datetime="2019-01-08" itemprop="datePublished">2019-01-08</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e使用electron-builder在windows上打包并自动更新\x3c\/h2\x3e\n\x3chr\x3e\n\x3cblockquote\x3e\n\x3cp\x3e心得：从一个小白开始独自一人了解electron这个玩具，实现其打包到自动更新，查阅各种资料，做了各种尝试，现在将自己经历过的一些东西写下来，供参考！\x3c\/p\x3e\n\x3cblockquote\x3e注意：文章适合了解electron是什么，知道如何简单打包的读者，文章中代码只是一种思路参考，并不完整，不能直接使用。\x3c\/blockquote\x3e\n\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e打包\x3c\/h3\x3e\n\x3cblockquote\x3e尝试过用electron-packager和electron-builder打包，最终选择了electron-builder，原因后面会说；\x3cp\x3e关于网络，在使用electron-packager或者electron-builder打包的过程中，可能会下载electron包以及其它依赖，有些包和依赖可能服务器在国外，会很慢，所以需要设置代理，electron可以通过设置淘宝镜像快速下载\x3ccode\x3eELECTRON_MIRROR=\x22https:\/\/npm.taobao.org\/mirrors\/electron\/\x22\x3c\/code\x3e（windows下通过set设置该参数）；\x3c\/p\x3e\n\x3cp\x3e这有个有趣的事情，我通过代理下载的时候有个叫codeSign的包怎么都下不下来，总是提示timeout，后来我用笔记本连接手机热点，手机开启shadowsocks代理，通过蜂窝网络这种方式居然下载下来了，遇到类似问题都可以尝试；\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3ch4\x3eelectron-packager\x3c\/h4\x3e\n\x3cp\x3e简单用法：\x3c\/p\x3e\n\x3cblockquote\x3e具体用法参考官网：\x3ca href=\x22https:\/\/github.com\/electron-userland\/electron-packager\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eelectron-packger\x3c\/a\x3e\n\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;scripts\x26quot;: {\n    \x26quot;package\x26quot;: \x26quot;electron-packager .\/ --overwrite -all\x26quot;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22package\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22electron-packager .\/ --overwrite -all\x22\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e\n\x3cp\x3e注意事项：\x3cbr\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e直接这么打包会将node_modules文件夹全部打包进去，包会很大，需要自行进行忽略某些文件或者文件夹，因为作者使用webpack将代码打包，所以我是在webpack打包好的文件夹，独立建立了一个package.json文件，将需要的包和文件放进去，在该文件夹下打包；\x3cbr\x3e\n\x3c\/li\x3e\n\x3cli\x3e注意 package.json 的额外字段 —— productName、author 和 description，虽然这几个字段并不是打包必备的，但它们会在 Windows 的 Squirrel 安装包（用于自动更新，后面会说）中使用到。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e特点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e在macOS系统下，打的包是app文件（也就是平常通过dmg文件安装后的应用程序，拖到应用程序能直接使用），不能直接打包dmg文件；（不记得能不能打windows的包了，网上参考资料说不能打windows包）；\x3c\/li\x3e\n\x3cli\x3e在windows系统下，能打包免安装的包，类似于我们网上下载绿色版软件，直接点击exe文件就运行软件；不能直接打包exe安装文件；（能否打app文件自行探索，蛤）\x3c\/li\x3e\n\x3cli\x3e在自动更新的时候支持electron自带的\x3ccode\x3eautoUpdater\x3c\/code\x3e和\x3ccode\x3esquirrel\x3c\/code\x3e的方式（squirrel在windows下需要自己安装某些文件）；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch4\x3eelectron-builder\x3c\/h4\x3e\n\x3cp\x3e简单用法：\x3c\/p\x3e\n\x3cblockquote\x3e具体用法参考官网：\x3ca href=\x22https:\/\/github.com\/electron-userland\/electron-builder\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eelectron-builder\x3c\/a\x3e\n\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;build\x26quot;: {\n    \x26quot;appId\x26quot;: \x26quot;com.xxx.app\x26quot;,\n    \x26quot;mac\x26quot;: {\n      \x26quot;target\x26quot;: [\x26quot;dmg\x26quot;,\x26quot;zip\x26quot;]\n    },\n    \x26quot;win\x26quot;: {\n      \x26quot;target\x26quot;: [\x26quot;nsis\x26quot;,\x26quot;zip\x26quot;]\n    }\n},\n\x26quot;scripts\x26quot;: {\n    \x26quot;dist\x26quot;: \x26quot;electron-builder -wm\x26quot;\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22appId\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22com.xxx.app\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22mac\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22target\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22dmg\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22zip\x22\x3c\/span\x3e]\n    },\n    \x3cspan class=\x22hljs-string\x22\x3e\x22win\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22target\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22nsis\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22zip\x22\x3c\/span\x3e]\n    }\n},\n\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22dist\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22electron-builder -wm\x22\x3c\/span\x3e\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cblockquote\x3e注意事项：参考electron-packager\x3c\/blockquote\x3e\n\x3cp\x3e特点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e在macOS系统和windows系统都可以到dmg和exe安装文件；\x3c\/li\x3e\n\x3cli\x3ewindows可以使用nsis打包安装文件，具体配置可以参考官网相关配置；\x3c\/li\x3e\n\x3cli\x3e几乎支持了所有平台的所有格式；\x3c\/li\x3e\n\x3cli\x3e自动更新的时候，不支持\x3ccode\x3esquirrel.Windows\x3c\/code\x3e的方式，并且不使用electron自带的\x3ccode\x3eautoUpdater\x3c\/code\x3e，需要使用 \x3ccode\x3eelectron-updater\x3c\/code\x3e包；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e自动更新（windows下）\x3c\/h3\x3e\n\x3cblockquote\x3e这边不详细描述mac下的自动更新，因为mac下无论哪种方法都需要为应用执行（Code-signing）这是squirrel.Mac必要条件，由于没有mac下的需要，所以需要的自行查阅资料（我不会告诉你是因为mac的开发者账号贵，没钱，蛤蛤蛤）；自动更新这里提供两个参考，作者也是一开始参考的这两个网页（非常详细）：\x3cbr\x3e\n\x3c\/blockquote\x3e\n\x3col\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000007616641\x22\x3eElectron 自动更新的完整教程（Windows 和 OSX）\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000008287730\x22 target=\x22_blank\x22\x3eelectron在windows系统下实现自动更新\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch4\x3e方法一：使用electron-packager配合grunt-electron-installer\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e步骤一：使用electron-packager打包应用，打包出一个免安装包，确认可以执行应用；\x3c\/li\x3e\n\x3cli\x3e步骤二：\x3cbr\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e安装electron-squirrel-startup：(用于生成应用快捷方式)\x3cbr\x3e\x3cbr\x3e\x3ccode\x3enpm install electron-squirrel-startup\x3c\/code\x3e \x3cbr\x3e\x3cbr\x3e==========================华丽的分割线=============================\x3cbr\x3e\x3cbr\x3e（\x3cstrong\x3e使用grunt的作用是可以简单理解为将electron-packager打的包，再次打包生成安装文件exe，并且添加关于自动更新的文件，例如：RELEASES文件，setup程序等\x3c\/strong\x3e）\x3cbr\x3e\x3cbr\x3e安装 grunt-electron-installer：(使用grunt打包，配合squirrel实现自动更新)\x3cbr\x3e\x3cbr\x3e\x3ccode\x3enpm install -g grunt-cli\x3c\/code\x3e \x3cbr\x3e\x3cbr\x3e\x3ccode\x3enpm install grunt grunt-electron-installer --save-dev\x3c\/code\x3e \x3cbr\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e步骤三： \x3cbr\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e在项目根目录下建Gruntfile.js（直接使用package.js中关于version等的配置就好了，不需要gruntPackage.json文件了）\x3cbr\x3e\x3cbr\x3e参考：\x3ca href=\x22https:\/\/github.com\/electron-archive\/grunt-electron-installer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egrunt-electron-installer\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var grunt=require(\x27grunt\x27);\n\n\/\/配置\ngrunt.config.init({\n    pkg: grunt.file.readJSON(\x27.\/package.json\x27),\n    \x27create-windows-installer\x27: {\n        x64:{\n            authors:\x27xxxx\x27,\n            projectUrl:\x27\x27,\n            appDirectory:\x27.\/OutApp\/Client-win32-x64\x27,\/\/要打包的输入目录\n            outputDirectory:\x27.\/OutPut\x27,\/\/grunt打包后的输出目录\n            exe:\x27Client.exe\x27,\n            description:\x27Client\x27,\n            setupIcon:\x26quot;xxxx.ico\x26quot;,\n            noMsi:true\n        }\n    }\n});\n\n\/\/加载任务\ngrunt.loadNpmTasks(\x27grunt-electron-installer\x27);\n\n\/\/设置为默认\ngrunt.registerTask(\x27default\x27, [\x27create-windows-installer\x27]);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gradle\x22\x3e\x3ccode\x3evar grunt=require(\x3cspan class=\x22hljs-string\x22\x3e\x27grunt\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/配置\x3c\/span\x3e\ngrunt.config.init({\n    pkg: grunt.\x3cspan class=\x22hljs-keyword\x22\x3efile\x3c\/span\x3e.readJSON(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/package.json\x27\x3c\/span\x3e),\n    \x3cspan class=\x22hljs-string\x22\x3e\x27create-windows-installer\x27\x3c\/span\x3e: {\n        x64:{\n            authors:\x3cspan class=\x22hljs-string\x22\x3e\x27xxxx\x27\x3c\/span\x3e,\n            projectUrl:\x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e,\n            appDirectory:\x3cspan class=\x22hljs-string\x22\x3e\x27.\/OutApp\/Client-win32-x64\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e\/\/要打包的输入目录\x3c\/span\x3e\n            outputDirectory:\x3cspan class=\x22hljs-string\x22\x3e\x27.\/OutPut\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-comment\x22\x3e\/\/grunt打包后的输出目录\x3c\/span\x3e\n            exe:\x3cspan class=\x22hljs-string\x22\x3e\x27Client.exe\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-keyword\x22\x3edescription\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27Client\x27\x3c\/span\x3e,\n            setupIcon:\x3cspan class=\x22hljs-string\x22\x3e\x22xxxx.ico\x22\x3c\/span\x3e,\n            noMsi:\x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e\n        }\n    }\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/加载任务\x3c\/span\x3e\ngrunt.loadNpmTasks(\x3cspan class=\x22hljs-string\x22\x3e\x27grunt-electron-installer\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/设置为默认\x3c\/span\x3e\ngrunt.registerTask(\x3cspan class=\x22hljs-string\x22\x3e\x27default\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27create-windows-installer\x27\x3c\/span\x3e]);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e步骤四：\x3cbr\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e在主进程main.js中添加squirrel安装打包配置以及自动更新检测和事件监听：\x3cbr\x3e\x3cbr\x3e参考：\x3cbr\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/github.com\/electron-archive\/grunt-electron-installer#handling-squirrel-events\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eHandling Squirrel Events\x3c\/a\x3e \x3cbr\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/electron.atom.io\/docs\/api\/auto-updater\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eauto-updater\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const electron = require(\x27electron\x27)\n\/\/自动更新\nconst autoUpdater = electron.autoUpdater\n\n\/\/生成和删除应用快捷方式，用于安装和卸载，直接在app.on(\x27ready\x27,() =\x3e {startupEventHandle()})的时候执行；\nfunction startupEventHandle(){\n  if(require(\x27electron-squirrel-startup\x27)) return;\n  var handleStartupEvent = function () {\n    if (process.platform !== \x27win32\x27) {\n      return false;\n    }\n    var squirrelCommand = process.argv[1];\n    switch (squirrelCommand) {\n      case \x27--squirrel-install\x27:\n      case \x27--squirrel-updated\x27:\n        install();\n        return true;\n      case \x27--squirrel-uninstall\x27:\n        uninstall();\n        app.quit();\n        return true;\n      case \x27--squirrel-obsolete\x27:\n        app.quit();\n        return true;\n    }\n      \/\/ 安装\n    function install() {\n      var cp = require(\x27child_process\x27);    \n      var updateDotExe = path.resolve(path.dirname(process.execPath), \x27..\x27, \x27update.exe\x27);\n      var target = path.basename(process.execPath);\n      var child = cp.spawn(updateDotExe, [\x26quot;--createShortcut\x26quot;, target], { detached: true });\n      child.on(\x27close\x27, function(code) {\n          app.quit();\n      });\n    }\n    \/\/ 卸载\n    function uninstall() {\n      var cp = require(\x27child_process\x27);    \n      var updateDotExe = path.resolve(path.dirname(process.execPath), \x27..\x27, \x27update.exe\x27);\n      var target = path.basename(process.execPath);\n      var child = cp.spawn(updateDotExe, [\x26quot;--removeShortcut\x26quot;, target], { detached: true });\n      child.on(\x27close\x27, function(code) {\n          app.quit();\n      });\n    }\n  };\n  if (handleStartupEvent()) {\n    return ;\n  }\n}\n\n\/\/ 检测更新，在你想要检查更新的时候执行，renderer事件触发后的操作自行编写\nfunction updateHandle(){\n    let message={\n      error:\x27检查更新出错\x27,\n      checking:\x27正在检查更新……\x27,\n      updateAva:\x27检测到新版本，正在下载……\x27,\n      updateNotAva:\x27现在使用的就是最新版本，不用更新\x27,\n    };\n    const os = require(\x27os\x27);\n    autoUpdater.setFeedURL(\x27放最新版本文件的文件夹的服务器地址\x27);\n    autoUpdater.on(\x27error\x27, function(error){\n      sendUpdateMessage(message.error)\n    })\n    .on(\x27checking-for-update\x27, function(e) {\n      sendUpdateMessage(message.checking)\n    })\n    .on(\x27update-available\x27, function(e) {\n        sendUpdateMessage(message.updateAva)\n    })\n    .on(\x27update-not-available\x27, function(e) {\n        sendUpdateMessage(message.updateNotAva)\n    })\n    .on(\x27update-downloaded\x27,  function (event, releaseNotes, releaseName, releaseDate, updateUrl, quitAndUpdate) {\n        ipcMain.on(\x27isUpdateNow\x27, (e, arg) =\x3e {\n            \/\/some code here to handle event\n            autoUpdater.quitAndInstall();\n        })\n        mainWindow.webContents.send(\x27isUpdateNow\x27)\n    });\n    \n    \/\/执行自动更新检查\n    autoUpdater.checkForUpdates();\n}\n\n\/\/ 通过main进程发送事件给renderer进程，提示更新信息\n\/\/ mainWindow = new BrowserWindow()\nfunction sendUpdateMessage(text){\n    mainWindow.webContents.send(\x27message\x27, text)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e electron = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27electron\x27\x3c\/span\x3e)\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/自动更新\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e autoUpdater = electron.autoUpdater\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/生成和删除应用快捷方式，用于安装和卸载，直接在app.on(\x27ready\x27,() =\x26gt; {startupEventHandle()})的时候执行；\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3estartupEventHandle\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27electron-squirrel-startup\x27\x3c\/span\x3e)) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e handleStartupEvent = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (process.platform !== \x3cspan class=\x22hljs-string\x22\x3e\x27win32\x27\x3c\/span\x3e) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e squirrelCommand = process.argv[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e];\n    \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (squirrelCommand) {\n      \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27--squirrel-install\x27\x3c\/span\x3e:\n      \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27--squirrel-updated\x27\x3c\/span\x3e:\n        install();\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27--squirrel-uninstall\x27\x3c\/span\x3e:\n        uninstall();\n        app.quit();\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n      \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27--squirrel-obsolete\x27\x3c\/span\x3e:\n        app.quit();\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n    }\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 安装\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3einstall\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27child_process\x27\x3c\/span\x3e);    \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e updateDotExe = path.resolve(path.dirname(process.execPath), \x3cspan class=\x22hljs-string\x22\x3e\x27..\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27update.exe\x27\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e target = path.basename(process.execPath);\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e child = cp.spawn(updateDotExe, [\x3cspan class=\x22hljs-string\x22\x3e\x22--createShortcut\x22\x3c\/span\x3e, target], { \x3cspan class=\x22hljs-attr\x22\x3edetached\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e });\n      child.on(\x3cspan class=\x22hljs-string\x22\x3e\x27close\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecode\x3c\/span\x3e) \x3c\/span\x3e{\n          app.quit();\n      });\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 卸载\x3c\/span\x3e\n    \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3euninstall\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e cp = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27child_process\x27\x3c\/span\x3e);    \n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e updateDotExe = path.resolve(path.dirname(process.execPath), \x3cspan class=\x22hljs-string\x22\x3e\x27..\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27update.exe\x27\x3c\/span\x3e);\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e target = path.basename(process.execPath);\n      \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e child = cp.spawn(updateDotExe, [\x3cspan class=\x22hljs-string\x22\x3e\x22--removeShortcut\x22\x3c\/span\x3e, target], { \x3cspan class=\x22hljs-attr\x22\x3edetached\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e });\n      child.on(\x3cspan class=\x22hljs-string\x22\x3e\x27close\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ecode\x3c\/span\x3e) \x3c\/span\x3e{\n          app.quit();\n      });\n    }\n  };\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (handleStartupEvent()) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e ;\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测更新，在你想要检查更新的时候执行，renderer事件触发后的操作自行编写\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eupdateHandle\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e message={\n      \x3cspan class=\x22hljs-attr\x22\x3eerror\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27检查更新出错\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3echecking\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27正在检查更新……\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eupdateAva\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27检测到新版本，正在下载……\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eupdateNotAva\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27现在使用的就是最新版本，不用更新\x27\x3c\/span\x3e,\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e os = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27os\x27\x3c\/span\x3e);\n    autoUpdater.setFeedURL(\x3cspan class=\x22hljs-string\x22\x3e\x27放最新版本文件的文件夹的服务器地址\x27\x3c\/span\x3e);\n    autoUpdater.on(\x3cspan class=\x22hljs-string\x22\x3e\x27error\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e)\x3c\/span\x3e{\n      sendUpdateMessage(message.error)\n    })\n    .on(\x3cspan class=\x22hljs-string\x22\x3e\x27checking-for-update\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n      sendUpdateMessage(message.checking)\n    })\n    .on(\x3cspan class=\x22hljs-string\x22\x3e\x27update-available\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n        sendUpdateMessage(message.updateAva)\n    })\n    .on(\x3cspan class=\x22hljs-string\x22\x3e\x27update-not-available\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n        sendUpdateMessage(message.updateNotAva)\n    })\n    .on(\x3cspan class=\x22hljs-string\x22\x3e\x27update-downloaded\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eevent, releaseNotes, releaseName, releaseDate, updateUrl, quitAndUpdate\x3c\/span\x3e) \x3c\/span\x3e{\n        ipcMain.on(\x3cspan class=\x22hljs-string\x22\x3e\x27isUpdateNow\x27\x3c\/span\x3e, (e, arg) =\x26gt; {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/some code here to handle event\x3c\/span\x3e\n            autoUpdater.quitAndInstall();\n        })\n        mainWindow.webContents.send(\x3cspan class=\x22hljs-string\x22\x3e\x27isUpdateNow\x27\x3c\/span\x3e)\n    });\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/执行自动更新检查\x3c\/span\x3e\n    autoUpdater.checkForUpdates();\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过main进程发送事件给renderer进程，提示更新信息\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ mainWindow = new BrowserWindow()\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esendUpdateMessage\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e)\x3c\/span\x3e{\n    mainWindow.webContents.send(\x3cspan class=\x22hljs-string\x22\x3e\x27message\x27\x3c\/span\x3e, text)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e步骤五：\x3cbr\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e执行grunt，在你指定的目录生成三个文件：exe 文件是安装包，RELEASES 包含安装及版本信息（自动更新就是通过对比该文件进行自动更新），nupkg 文件\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e至此，完成了一个版本的打包，双击exe文件后，弹出绿色的安装动画，无法选择安装目录，会自动安装在C:UsersAdministratorAppDataLocal下，安装结束后动画消失（一定要等安装的绿色动画消失才能对应用进行操作，不然可能会报错，也不能手动关闭安装程序），并自动创建了快捷方式。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e如何进行版本更新？\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e改变package.json中的version属性，例如：改为 version: \x221.0.1\x22 (之前为1.0.0)；\x3c\/li\x3e\n\x3cli\x3e然后再次执行步骤一和步骤五，打包一个新的版本，多出两个文件，改变了RELEASES文件，除了上述三个文件外还有个delta文件，这个是增量包；\x3c\/li\x3e\n\x3cli\x3e将新版本的上述文件（只需要nupkg文件和RELEASES文件）放到\x3ccode\x3eautoUpdater.setFeedURL(url)\x3c\/code\x3e该方法中设置的url指向的文件夹下就可以了，执行更新检查的时候，autoUpdate会自动到该目录下查看 \x3cstrong\x3eRELEASES\x3c\/strong\x3e 文件的版本信息，与安装目录下的 RELEASES 文件进行比对，进行更新下载；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cblockquote\x3e会发现使用squirrel.Windows的时候，服务器仅仅作为文件服务器放置更新文件，不要编写其它文件，使用squirrel.Mac需要服务器编写接口文件进行检测判断，两者不太一样。\x3c\/blockquote\x3e\n\x3cp\x3e总结：如果是简单更新大概就是 -\x26gt; 配置好 Gruntfile.js 和 main.js（包括与renderer的通信） 文件，electron-packager打包，grunt打包electron-packager打包生成的文件，会生成安装文件和版本信息，将grunt打包的东西放到一个文件服务器上，在本地安装的app上启动检查更新。\x3c\/p\x3e\n\x3ch4\x3e方法二：使用electron-builder配合electron-updater实现自动更新\x3c\/h4\x3e\n\x3cp\x3e参考：\x3ca href=\x22https:\/\/github.com\/electron-userland\/electron-builder\/wiki\/Auto-Update#UpdaterSignal\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAuto Update\x3c\/a\x3e\x3c\/p\x3e\n\x3cblockquote\x3e后来通过对比放弃了方法一，使用了方法二；主要原因有以下几点：（从我使用的情况来看，也可能是我自己没找到解决以下问题的方法，如果有欢迎告诉作者，谢谢）\x3c\/blockquote\x3e\n\x3col\x3e\n\x3cli\x3e因为方法一打包出来的安装文件 exe 比较大，原因是不是使用nsis方式压缩打包的；\x3c\/li\x3e\n\x3cli\x3e并且electron自带的autoUpdater中事件和方法都没有electron-updater中的丰富，有不少实现不了，比如：使用原生autoUpdater下载更新时的进度条做不了，但是electron-updater提供了\x3ccode\x3edownload-progerss\x3c\/code\x3e事件，该事件提供了下载速度（bytesPerSecond）、已下载百分比（percent）、已传输（transferred）、文件大小（total）等参数，非常方便；\x3c\/li\x3e\n\x3cli\x3eautoUpdater一旦启动checkForUpdates()，有更新时就会自动下载更新，没办法忽略版本的更新，但是electron-updater提供了 appUpdater.autoDownload = false 的属性配置，可以不自动下载更新，需要下载的时候执行 appUpdater.downloadUpdate() 方法就可以了，完美解决我的困惑。\x3c\/li\x3e\n\x3cli\x3e并且方法二只需要执行electron-builder的打包程序就可以了，会生成一个类似方法一中的RELEASES文件的latest.yml文件，不需要执行两次打包；更新的时候和方法一同样简单，只需要把electron-builder打包出来的文件放到文件服务器就可以了。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch6\x3e具体步骤如下\x3c\/h6\x3e\n\x3cul\x3e\x3cli\x3e步骤一：安装 \x3ccode\x3eelectron-updater\x3c\/code\x3e 包模块\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install electron-updater --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sql\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e electron-updater \x3cspan class=\x22hljs-comment\x22\x3e--save\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e步骤二：\x3cbr\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e配置package.json文件，只需要在 build 参数中添加 publish 配置就好了，具体参考\x3ca href=\x22https:\/\/github.com\/electron-userland\/electron-builder\/wiki\/Publishing-Artifacts#PublishConfiguration\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePublishConfiguratio\x3c\/a\x3e\x3c\/p\x3e\n\x3cblockquote\x3e注意：只有配置了publish才能生成latest.yml文件；\x3c\/blockquote\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;build\x26quot;: {\n    \x26quot;appId\x26quot;: \x26quot;com.xxx.app\x26quot;,\n    \x26quot;publish\x26quot;: [\n        {\n            \x26quot;provider\x26quot;: \x26quot;generic\x26quot;,\n            \n            \/\/类似于autoUpdater.setFeedURL(url)中的url，用于自动更新的文件地址\n            \x26quot;url\x26quot;: \x26quot;http:\/\/www.xxx.com\/\x26quot;\n        }\n    ],\n    \x26quot;mac\x26quot;: {\n      \x26quot;target\x26quot;: [\x26quot;dmg\x26quot;,\x26quot;zip\x26quot;]\n    },\n    \x26quot;win\x26quot;: {\n      \x26quot;target\x26quot;: [\x26quot;nsis\x26quot;,\x26quot;zip\x26quot;]\n    }\n},\n\x26quot;scripts\x26quot;: {\n    \x26quot;dist\x26quot;: \x26quot;electron-builder -wm\x26quot;\n},\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xquery\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22build\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22appId\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22com.xxx.app\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22publish\x22\x3c\/span\x3e: [\n        {\n            \x3cspan class=\x22hljs-string\x22\x3e\x22provider\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22generic\x22\x3c\/span\x3e,\n            \n            \/\/类似于autoUpdater.setFeedURL(url)中的url，用于自动更新的文件地址\n            \x3cspan class=\x22hljs-string\x22\x3e\x22url\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/www.xxx.com\/\x22\x3c\/span\x3e\n        }\n    ],\n    \x3cspan class=\x22hljs-string\x22\x3e\x22mac\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22target\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22dmg\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22zip\x22\x3c\/span\x3e]\n    },\n    \x3cspan class=\x22hljs-string\x22\x3e\x22win\x22\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x22target\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22nsis\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x22zip\x22\x3c\/span\x3e]\n    }\n},\n\x3cspan class=\x22hljs-string\x22\x3e\x22scripts\x22\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x22dist\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22electron-builder -wm\x22\x3c\/span\x3e\n},\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e步骤三： \x3cbr\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e配置main.js文件，引入 electron-updater 文件，后面用法和electron自带的autoUpdater类似；\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 注意这个autoUpdater不是electron中的autoUpdater\nimport { autoUpdater } from \x26quot;electron-updater\x26quot;\n\n\/\/ 检测更新，在你想要检查更新的时候执行，renderer事件触发后的操作自行编写\nfunction updateHandle(){\n    let message={\n      error:\x27检查更新出错\x27,\n      checking:\x27正在检查更新……\x27,\n      updateAva:\x27检测到新版本，正在下载……\x27,\n      updateNotAva:\x27现在使用的就是最新版本，不用更新\x27,\n    };\n    const os = require(\x27os\x27);\n    autoUpdater.setFeedURL(\x27放最新版本文件的文件夹的服务器地址\x27);\n    autoUpdater.on(\x27error\x27, function(error){\n      sendUpdateMessage(message.error)\n    });\n    autoUpdater.on(\x27checking-for-update\x27, function() {\n      sendUpdateMessage(message.checking)\n    });\n    autoUpdater.on(\x27update-available\x27, function(info) {\n        sendUpdateMessage(message.updateAva)\n    });\n    autoUpdater.on(\x27update-not-available\x27, function(info) {\n        sendUpdateMessage(message.updateNotAva)\n    });\n    \n    \/\/ 更新下载进度事件\n    autoUpdater.on(\x27download-progress\x27, function(progressObj) {\n        mainWindow.webContents.send(\x27downloadProgress\x27, progressObj)\n    })\n    autoUpdater.on(\x27update-downloaded\x27,  function (event, releaseNotes, releaseName, releaseDate, updateUrl, quitAndUpdate) {\n        ipcMain.on(\x27isUpdateNow\x27, (e, arg) =\x3e {\n            \/\/some code here to handle event\n            autoUpdater.quitAndInstall();\n        })\n        mainWindow.webContents.send(\x27isUpdateNow\x27)\n    });\n    \n    \/\/执行自动更新检查\n    autoUpdater.checkForUpdates();\n}\n\n\/\/ 通过main进程发送事件给renderer进程，提示更新信息\n\/\/ mainWindow = new BrowserWindow()\nfunction sendUpdateMessage(text){\n    mainWindow.webContents.send(\x27message\x27, text)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 注意这个autoUpdater不是electron中的autoUpdater\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { autoUpdater } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22electron-updater\x22\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 检测更新，在你想要检查更新的时候执行，renderer事件触发后的操作自行编写\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eupdateHandle\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e message={\n      \x3cspan class=\x22hljs-attr\x22\x3eerror\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27检查更新出错\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3echecking\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27正在检查更新……\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eupdateAva\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27检测到新版本，正在下载……\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eupdateNotAva\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27现在使用的就是最新版本，不用更新\x27\x3c\/span\x3e,\n    };\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e os = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27os\x27\x3c\/span\x3e);\n    autoUpdater.setFeedURL(\x3cspan class=\x22hljs-string\x22\x3e\x27放最新版本文件的文件夹的服务器地址\x27\x3c\/span\x3e);\n    autoUpdater.on(\x3cspan class=\x22hljs-string\x22\x3e\x27error\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e)\x3c\/span\x3e{\n      sendUpdateMessage(message.error)\n    });\n    autoUpdater.on(\x3cspan class=\x22hljs-string\x22\x3e\x27checking-for-update\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n      sendUpdateMessage(message.checking)\n    });\n    autoUpdater.on(\x3cspan class=\x22hljs-string\x22\x3e\x27update-available\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3einfo\x3c\/span\x3e) \x3c\/span\x3e{\n        sendUpdateMessage(message.updateAva)\n    });\n    autoUpdater.on(\x3cspan class=\x22hljs-string\x22\x3e\x27update-not-available\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3einfo\x3c\/span\x3e) \x3c\/span\x3e{\n        sendUpdateMessage(message.updateNotAva)\n    });\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 更新下载进度事件\x3c\/span\x3e\n    autoUpdater.on(\x3cspan class=\x22hljs-string\x22\x3e\x27download-progress\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eprogressObj\x3c\/span\x3e) \x3c\/span\x3e{\n        mainWindow.webContents.send(\x3cspan class=\x22hljs-string\x22\x3e\x27downloadProgress\x27\x3c\/span\x3e, progressObj)\n    })\n    autoUpdater.on(\x3cspan class=\x22hljs-string\x22\x3e\x27update-downloaded\x27\x3c\/span\x3e,  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eevent, releaseNotes, releaseName, releaseDate, updateUrl, quitAndUpdate\x3c\/span\x3e) \x3c\/span\x3e{\n        ipcMain.on(\x3cspan class=\x22hljs-string\x22\x3e\x27isUpdateNow\x27\x3c\/span\x3e, (e, arg) =\x26gt; {\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/some code here to handle event\x3c\/span\x3e\n            autoUpdater.quitAndInstall();\n        })\n        mainWindow.webContents.send(\x3cspan class=\x22hljs-string\x22\x3e\x27isUpdateNow\x27\x3c\/span\x3e)\n    });\n    \n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/执行自动更新检查\x3c\/span\x3e\n    autoUpdater.checkForUpdates();\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 通过main进程发送事件给renderer进程，提示更新信息\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ mainWindow = new BrowserWindow()\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esendUpdateMessage\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etext\x3c\/span\x3e)\x3c\/span\x3e{\n    mainWindow.webContents.send(\x3cspan class=\x22hljs-string\x22\x3e\x27message\x27\x3c\/span\x3e, text)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e步骤四：\x3cbr\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e执行electron-builder进行打包，会生成安装包\x3ccode\x3eexe\x3c\/code\x3e和\x3ccode\x3elatest.yml\x3c\/code\x3e等文件，执行exe安装软件；\x3c\/p\x3e\n\x3cp\x3e如何进行更新？\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e改变package.json中的version属性，例如：改为 version: \x221.0.1\x22 (之前为1.0.0)；\x3c\/li\x3e\n\x3cli\x3e再次执行electron-builder打包，将新版本\x3ccode\x3elatest.yml\x3c\/code\x3e文件和\x3ccode\x3eexe\x3c\/code\x3e文件放到\x3ccode\x3epackage.json\x3c\/code\x3e中\x3ccode\x3ebuild -\x26gt; publish\x3c\/code\x3e中的url对应的地址下；\x3c\/li\x3e\n\x3cli\x3e在应用中触发更新检查，electron-updater自动会通过对应url下的yml文件检查更新；\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e\x3cstrong\x3e总结：通过对比发现，方法二比方法一更加简单方便，并且打包生成的exe安装文件小很多（作者通过方法一生成安装文件70M，方法二仅仅 36M），唯一一个问题是，通过方法二没有产生delta文件，也就是没有增量包。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e结语：这只是一个小白的实践总结，其中有不少是自己的理解，可能不对，有许多需要改进的地方，希望通过这个总结，自己在以后回顾有机会有更多不同的收获。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>使用electron-builder在windows上打包并自动更新</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010271226">https://segmentfault.com/a/1190000010271226</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/68kfkipnrda/" target="_blank">https://alili.tech/archive/68kfkipnrda/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>