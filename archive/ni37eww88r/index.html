<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="我他喵的到底要怎样才能在生产环境中用上 ES6 模块化？"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>我他喵的到底要怎样才能在生产环境中用上 ES6 模块化？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ni37eww88r/",
				"appid": "1613049289050283", 
				"title": "我他喵的到底要怎样才能在生产环境中用上 ES6 模块化？ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-09T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7fpoppac5pg/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/6ysxh3o3due/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&text=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&text=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&title=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&is_video=false&description=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&title=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&title=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&title=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fni37eww88r%2f&title=%e6%88%91%e4%bb%96%e5%96%b5%e7%9a%84%e5%88%b0%e5%ba%95%e8%a6%81%e6%80%8e%e6%a0%b7%e6%89%8d%e8%83%bd%e5%9c%a8%e7%94%9f%e4%ba%a7%e7%8e%af%e5%a2%83%e4%b8%ad%e7%94%a8%e4%b8%8a%20ES6%20%e6%a8%a1%e5%9d%97%e5%8c%96%ef%bc%9f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">我他喵的到底要怎样才能在生产环境中用上 ES6 模块化？</h1><div class="meta"><div class="postdate"><time datetime="2019-01-09" itemprop="datePublished">2019-01-09</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e\x3cp\x3e原文发表在我的\x3ca href=\x22https:\/\/blessing.studio\/how-could-i-use-es6-modules-in-production\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e博客\x3c\/a\x3e上。最近捣鼓了一下 ES6 的模块化，分享一些经验 :)\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3ePython3 已经发布了九年了，Python 社区却还在用 Python 2.7；而 JavaScript 社区正好相反，大家都已经开始把还没有实现的语言特性用到生产环境中了 (´_ゝ `)\x3c\/p\x3e\n\x3cp\x3e虽然这种奇妙情况的形成与 JavaScript 自身早期的设计缺陷以及浏览器平台的特殊性质都有关系，但也确实能够体现出 JavaScript 社区的技术栈迭代是有多么屌快。如果你昏迷个一年半载再去看前端圈，可能社区的主流技术栈已经变得它妈都不认识了（如果你没什么实感，可以看看\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/22782487\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e《在 2016 年学习 JavaScript 是一种怎样的体验》\x3c\/a\x3e这篇文章，你会感受到的，你会的）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3eJavaScript 模块化现状\x3c\/h2\x3e\n\x3cp\x3e随着 JavaScript 越来越广泛的应用，朝着单页应用（SPA）方向发展的网页与代码量的愈发庞大，社区需要一种更好的代码组织形式，这就是模块化：将你的一大坨代码分装为多个不同的模块。\x3c\/p\x3e\n\x3cp\x3e但是在 ES6 标准出台之前，由于标准的缺失（连 CSS 都有 \x3ccode\x3e@import\x3c\/code\x3e，JavaScript 却连个毛线都没），这几年里 JavaScript 社区里冒出了各种各样的模块化解决方案\x3cdel\x3e（群魔乱舞）\x3c\/del\x3e，懵到一种极致。主要的几种模块化方案举例如下：\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3eCommonJS\x3c\/h3\x3e\n\x3cp\x3e主要用于服务端，模块同步加载（也因此不适合在浏览器中运行，不过也有 \x3ccode\x3eBrowserify\x3c\/code\x3e 之类的转换工具），Node.js 的模块化实现就是基于 CommonJS 规范的，通常用法像这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.js\nconst {bullshit} = require(\x27.\/bullshit\x27);\nconsole.log(bullshit());\n\n\/\/ bullshit.js\nfunction someBullshit() {\n  return \x26quot;hafu hafu\x26quot;;\n}\n\nmodules.export = {\n  bullshit: someBullshit\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e {bullshit} = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/bullshit\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(bullshit());\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ bullshit.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esomeBullshit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22hafu hafu\x22\x3c\/span\x3e;\n}\n\nmodules.export = {\n  \x3cspan class=\x22hljs-attr\x22\x3ebullshit\x3c\/span\x3e: someBullshit\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而且 \x3ccode\x3erequire()\x3c\/code\x3e 是动态加载模块的，完全就是模块中 \x3ccode\x3emodules.export\x3c\/code\x3e 变量的传送门，这也就意味着更好的灵活性（按条件加载模块，参数可为表达式 etc.）。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eAMD\x3c\/h3\x3e\n\x3cp\x3e即异步模块定义（Asynchronous Module Definition），\x3cdel\x3e不是那个日常翻身的农企啦\x3c\/del\x3e。\x3c\/p\x3e\n\x3cp\x3e主要用于浏览器端，模块异步加载（还是用的回调函数），可以给模块注入依赖、动态加载代码块等。具体实现有 RequireJS，代码大概长这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.js\nrequire([\x27bullshit\x27], words =\x3e {\n  console.log(words.bullshit());\n});\n\n\/\/ bullshit.js\ndefine(\x27bullshit\x27, [\x27dep1\x27, \x27dep2\x27], (dep1, dep2) =\x3e {\n  function someBullshit() {\n    return \x26quot;hafu hafu\x26quot;;\n  }\n\n  return { bullshit: someBullshit };\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e([\x3cspan class=\x22hljs-string\x22\x3e\x27bullshit\x27\x3c\/span\x3e], words =\x26gt; {\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(words.bullshit());\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ bullshit.js\x3c\/span\x3e\ndefine(\x3cspan class=\x22hljs-string\x22\x3e\x27bullshit\x27\x3c\/span\x3e, [\x3cspan class=\x22hljs-string\x22\x3e\x27dep1\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27dep2\x27\x3c\/span\x3e], (dep1, dep2) =\x26gt; {\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esomeBullshit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22hafu hafu\x22\x3c\/span\x3e;\n  }\n\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e { \x3cspan class=\x22hljs-attr\x22\x3ebullshit\x3c\/span\x3e: someBullshit };\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可惜不能在 Node.js 中直接使用，而且模块定义与加载也比较冗长。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eES6 Module?\x3c\/h3\x3e\n\x3cp\x3e在 ES6 模块标准出来之前，主要的模块化方案就是上述 CommonJS 和 AMD 两种了，一种用于服务器，一种用于浏览器。其他的规范还有：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e最古老的 IIFE（立即执行函数）；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eCMD（Common Module Definition，和 AMD 挺像的，可以参考：\x3ca href=\x22https:\/\/github.com\/seajs\/seajs\/issues\/277\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e与 RequireJS 的异同\x3c\/a\x3e）；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eUMD（Universal Module Definition，兼容 AMD 和 CommonJS 的语法糖规范）；\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e等等，这里就按下不表。\x3c\/p\x3e\n\x3cp\x3eES6 的模块化代码大概长这样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ index.js\nimport {bullshit} from \x27.\/bullshit\x27;\nconsole.log(bullshit());\n\n\/\/ bullshit.js\nfunction someBullshit() {\n  return \x26quot;hafu hafu\x26quot;;\n}\n\nexport {\n  someBullshit as bullshit\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ index.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e {bullshit} \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/bullshit\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(bullshit());\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ bullshit.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esomeBullshit\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22hafu hafu\x22\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e {\n  someBullshit \x3cspan class=\x22hljs-keyword\x22\x3eas\x3c\/span\x3e bullshit\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e那我们为啥应该使用 ES6 的模块化规范呢？\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e这是 ECMAScript 官方标准（嗯）；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e语义化的语法，清晰明了，同时支持服务器端和浏览器；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e静态 \/ 编译时加载（与上面俩规范的动态 \/ 运行时加载不同），可以做静态优化（比如下面提到的 tree-shaking），加载效率高（不过相应地灵活性也降低了，期待 \x3ca href=\x22https:\/\/github.com\/tc39\/proposal-dynamic-import\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3ccode\x3eimport()\x3c\/code\x3e\x3c\/a\x3e 也成为规范）；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e输出的是值的引用，可动态修改；\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e嗯，你说的都对，那我tm到底要怎样才能在生产环境中用上 ES6 的模块化特性呢？\x3c\/p\x3e\n\x3cp\x3e很遗憾，你永远无法控制用户的浏览器版本，可能要等上一万年，你才能直接在生产环境中写 ES6 而不用提心吊胆地担心兼容性问题。因此，你还是需要各种各样杂七杂八的工具来转换你的代码：Babel、Webpack、Browserify、Gulp、Rollup.js、System.js ……\x3c\/p\x3e\n\x3cp\x3e噢，我可去你妈的吧，这些东西都tm是干嘛的？我就是想用个模块化，我到底该用啥子？\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010078904\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010078904\x22 alt=\x22我可去你妈的吧\x22 title=\x22我可去你妈的吧\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e本文正旨在列出几种可用的在生产环境中放心使用 ES6 模块化的方法，希望能帮到诸位后来者（这方面的中文资源实在是忒少了）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e问题分析\x3c\/h2\x3e\n\x3cp\x3e想要开心地写 ES6 的模块化代码，首先你需要一个转译器（Transpiler）来把你的 ES6 代码转换成大部分浏览器都支持的 ES5 代码。这里我们就选用最多人用的 Babel（我不久之前才知道原来 Babel 就是巴别塔里的「巴别」……）。\x3c\/p\x3e\n\x3cp\x3e用了 Babel 后，我们的 ES6 模块化代码会被转换为 ES5 \x2b CommonJS 模块规范的代码，这倒也没什么，毕竟我们写的还是 ES6 的模块，至于编译生成的结果，管它是个什么屌东西呢（笑）\x3c\/p\x3e\n\x3cp\x3e所以我们需要另外一个打包工具来将我们的模块依赖给打包成一个 bundle 文件。目前来说，依赖打包应该是最好的方法了。不然，你也可以等上一万年，等你的用户把浏览器升级到全部支持 HTTP\/2（支持连接复用后模块不打包反而比较好）以及 \x3ccode\x3e\x26lt;script type=\x22module\x22 src=\x22fuck.js\x22\x26gt;\x3c\/code\x3e 定义 ( ﾟ∀。)\x3c\/p\x3e\n\x3cp\x3e所以我们整个工具链应该是这样的：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010078905\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010078905\x22 alt=\x22处理流程\x22 title=\x22处理流程\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e而目前来看，主要可用的模块打包工具有这么几个：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eBrowserify\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eWebpack\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eRollup.js\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e本来我还想讲一下 FIS3 的，结果去看了一下，人家竟然还没原生的支持 ES6 Modules，而且 \x3ccode\x3efis3-hook-commonjs\x3c\/code\x3e 插件也几万年没更新了，所以还是算了吧。至于 SystemJS 这类动态模块加载器本文也不会涉及，就像我上面说的一样，在目前这个时间点上还是先用模块打包工具比较好。\x3c\/p\x3e\n\x3cp\x3e下面分别介绍这几个工具以及如何使用它们配合 Babel 实现 ES6 模块转译。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3eBrowserify\x3c\/h2\x3e\n\x3cp\x3eBrowserify 这个工具也是有些年头了，它通过打包所有的依赖来让你能够在浏览器中使用 CommonJS 的语法来 \x3ccode\x3erequire(\x27modules\x27)\x3c\/code\x3e，这样你就可以像在 Node.js 中一样在浏览器中使用 npm 包了，可以爽到。\x3cdel\x3e而且我也很喜欢 Browserify 这个 LOGO\x3c\/del\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010079039\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010079039\x22 alt=\x22Browserify\x22 title=\x22Browserify\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e既然 Babel 会把我们的 ES6 Modules 语法转换成 ES5 \x2b CommonJS 规范的模块语法，那我们就可以直接用 Browserify 来解析 Babel 的转译生成物，然后把所有的依赖给打包成一个文件，岂不是美滋滋。\x3c\/p\x3e\n\x3cp\x3e不过除了 Babel 和 Browserify 这俩工具外，我们还需要一个叫做 \x3ccode\x3ebabelify\x3c\/code\x3e 的东西……好吧好吧，这是最后一个了，真的。\x3c\/p\x3e\n\x3cp\x3e那么，babelify 是拿来干嘛的呢？因为 Browserify 只看得懂 CommonJS 的模块代码，所以我们得把 ES6 模块代码转换成 CommonJS 规范的，再拿给 Browserify 去看：这一步就是 Babel 要干的事情了。但是 Browserify 人家是个模块打包工具啊，它是要去分析 AST（抽象语法树），把那些 \x3ccode\x3ereuqire()\x3c\/code\x3e 的依赖文件给找出来再帮你打包的，你总不能把所有的源文件都给 Babel 转译了再交给 Browserify 吧？那太蠢了，我的朋友。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ebabelify\x3c\/code\x3e (Browserify transform for Babel) 要做的事情，就是在所有 ES6 文件拿给 Browserify 看之前，先把它用 Babel 给转译一下（\x3ccode\x3ebrowserify().transform\x3c\/code\x3e），这样 Browserify 就可以直接看得懂并打包依赖，避免了要用 Babel 先转译一万个文件的尴尬局面。\x3c\/p\x3e\n\x3cp\x3e好吧，那我们要怎样把这些工具捣鼓成一个完整的工具链呢？下面就是喜闻乐见的依赖包安装环节：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# 我用的 yarn，你用 npm 也差不多\n# gulp 也可以全局安装，方便一点\n# babel-preset 记得选适合自己的\n# 最后那俩是用来配合 gulp stream 的\n$ yarn add --dev babel-cli babel-preset-env babelify browserify gulp vinyl-buffer vinyl-source-stream\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode class=\x22shell\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# 我用的 yarn，你用 npm 也差不多\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# gulp 也可以全局安装，方便一点\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# babel-preset 记得选适合自己的\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# 最后那俩是用来配合 gulp stream 的\x3c\/span\x3e\n$ yarn \x3cspan class=\x22hljs-keyword\x22\x3eadd \x3c\/span\x3e--dev \x3cspan class=\x22hljs-keyword\x22\x3ebabel-cli \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebabel-preset-env \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebabelify \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebrowserify \x3c\/span\x3egulp vinyl-\x3cspan class=\x22hljs-keyword\x22\x3ebuffer \x3c\/span\x3evinyl-source-stream\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里我们用 Gulp 作为任务管理工具来实现自动化（什么，都 7012 年了你还不知道 Gulp？那为什么不去问问\x3ca href=\x22https:\/\/www.google.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e神奇海螺\x3c\/a\x3e呢？），\x3ccode\x3egulpfile.js\x3c\/code\x3e 内容如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var gulp       = require(\x27gulp\x27),\n    browserify = require(\x27browserify\x27),\n    babelify   = require(\x27babelify\x27),\n    source     = require(\x27vinyl-source-stream\x27),\n    buffer     = require(\x27vinyl-buffer\x27);\n\ngulp.task(\x27build\x27, function () {\n    return browserify([\x27.\/src\/index.js\x27])\n        .transform(babelify)\n        .bundle()\n        .pipe(source(\x27bundle.js\x27))\n        .pipe(gulp.dest(\x27dist\x27))\n        .pipe(buffer());\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e gulp       = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27gulp\x27\x3c\/span\x3e),\n    browserify = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27browserify\x27\x3c\/span\x3e),\n    babelify   = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27babelify\x27\x3c\/span\x3e),\n    source     = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27vinyl-source-stream\x27\x3c\/span\x3e),\n    buffer     = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27vinyl-buffer\x27\x3c\/span\x3e);\n\ngulp.task(\x3cspan class=\x22hljs-string\x22\x3e\x27build\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e browserify([\x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/index.js\x27\x3c\/span\x3e])\n        .transform(babelify)\n        .bundle()\n        .pipe(source(\x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e))\n        .pipe(gulp.dest(\x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e))\n        .pipe(buffer());\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相信诸位都能看得懂吧，\x3ccode\x3ebrowserify()\x3c\/code\x3e 第一个参数是入口文件，可以是数组或者其他乱七八糟的，具体参数说明请自行参照 Browserify 文档。而且记得在根目录下创建 \x3ccode\x3e.babelrc\x3c\/code\x3e 文件指定转译的 preset，或者在 \x3ccode\x3egulpfile.js\x3c\/code\x3e 中配置也可以，这里就不再赘述。\x3c\/p\x3e\n\x3cp\x3e最后运行 \x3ccode\x3egulp build\x3c\/code\x3e，就可以生成能直接在浏览器中运行的打包文件了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22➜  browserify $ gulp build\n[12:12:01] Using gulpfile E:\\wwwroot\\es6-module-test\\browserify\\gulpfile.js\n[12:12:01] Starting \x27build\x27...\n[12:12:01] Finished \x27build\x27 after 720 ms\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode class=\x22shell\x22\x3e➜  browserify $ gulp build\n[\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e01\x3c\/span\x3e] \x3cspan class=\x22hljs-symbol\x22\x3eUsing\x3c\/span\x3e gulpfile \x3cspan class=\x22hljs-symbol\x22\x3eE\x3c\/span\x3e:\\wwwroot\\es6-module-test\\browserify\\gulpfile.js\n[\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e01\x3c\/span\x3e] \x3cspan class=\x22hljs-symbol\x22\x3eStarting\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27build\x27\x3c\/span\x3e...\n[\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e01\x3c\/span\x3e] \x3cspan class=\x22hljs-symbol\x22\x3eFinished\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27build\x27\x3c\/span\x3e after \x3cspan class=\x22hljs-number\x22\x3e720\x3c\/span\x3e ms\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010078906\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010078906\x22 alt=\x22Browserify Result\x22 title=\x22Browserify Result\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3eRollup.js\x3c\/h2\x3e\n\x3cp\x3e我记得这玩意最开始出来的时候号称为「下一代的模块打包工具」，并且自带了可大大减小打包体积的 \x3ccode\x3etree-shaking\x3c\/code\x3e 技术（DCE 无用代码移除的一种，运用了 ES6 静态分析语法树的特性，只打包那些用到了的代码），在当时很新鲜。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010078907\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010078907\x22 alt=\x22Rollup.js\x22 title=\x22Rollup.js\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e但是现在 Webpack2\x2b 已经支持了 Tree Shaking 的情况下，我们又有什么特别的理由去使用 Rollup.js 呢？不过毕竟也是一种可行的方法，这里也提一提：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# 我也不知道为啥 Rollup.js 要依赖这个 external-helpers\n$ yarn add --dev rollup rollup-plugin-babel babel-preset-env babel-plugin-external-helpers\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode class=\x22shell\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# 我也不知道为啥 Rollup.js 要依赖这个 external-helpers\x3c\/span\x3e\n$ yarn \x3cspan class=\x22hljs-keyword\x22\x3eadd \x3c\/span\x3e--dev rollup rollup-plugin-\x3cspan class=\x22hljs-keyword\x22\x3ebabel \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebabel-preset-env \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebabel-plugin-external-helpers\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后修改根目录下的 \x3ccode\x3erollup.config.js\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import babel from \x27rollup-plugin-babel\x27;\n\nexport default {\n  entry: \x27src\/index.js\x27,\n  format: \x27esm\x27,\n  plugins: [\n    babel({\n      exclude: \x27node_modules\/**\x27\n    })\n  ],\n  dest: \x27dist\/bundle.js\x27\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e babel \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27rollup-plugin-babel\x27\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27src\/index.js\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eformat\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27esm\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n    babel({\n      \x3cspan class=\x22hljs-attr\x22\x3eexclude\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27node_modules\/**\x27\x3c\/span\x3e\n    })\n  ],\n  \x3cspan class=\x22hljs-attr\x22\x3edest\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27dist\/bundle.js\x27\x3c\/span\x3e\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e还要修改 \x3ccode\x3e.babelrc\x3c\/code\x3e 文件，把 Babel 转换 ES6 模块到 CommonJS 模块的转换给关掉，不然会导致 Rollup.js 处理不来：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22{\n  \x26quot;presets\x26quot;: [\n    [\x26quot;env\x26quot;, {\n      \x26quot;modules\x26quot;: false\n    }]\n  ],\n  \x26quot;plugins\x26quot;: [\n    \x26quot;external-helpers\x26quot;\n  ]\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e{\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22presets\x22\x3c\/span\x3e: [\n    [\x3cspan class=\x22hljs-string\x22\x3e\x22env\x22\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attr\x22\x3e\x22modules\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e\n    }]\n  ],\n  \x3cspan class=\x22hljs-attr\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\n    \x3cspan class=\x22hljs-string\x22\x3e\x22external-helpers\x22\x3c\/span\x3e\n  ]\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在根目录下运行 \x3ccode\x3erollup -c\x3c\/code\x3e 即可打包依赖，也可以配合 Gulp 来使用，官方文档里就有，这里就不赘述了。可以看到，Tree Shaking 的效果还是很显著的，经测试，未使用的代码确实不会被打包进去，比起上面几个工具生成的结果要清爽多了：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010078908\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010078908\x22 alt=\x22Rollup.js Result\x22 title=\x22Rollup.js Result\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3eWebpack\x3c\/h2\x3e\n\x3cp\x3e对，Webpack，就是那个丧心病狂想要把啥玩意都给模块化的模块打包工具。既然人家已经到了 \x3ccode\x3e3.0.0\x3c\/code\x3e 版本了，所以下面的都是基于 Webpack3 的。什么？现在还有搞前端的不知道 Webpack？神奇海螺以下略。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010078909\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010078909\x22 alt=\x22Webpack\x22 title=\x22Webpack\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e喜闻乐见的依赖安装环节：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22# webpack 也可以全局安装，方便一些\n$ yarn add --dev babel-loader babel-core babel-preset-env webpack\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode class=\x22shell\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e# webpack 也可以全局安装，方便一些\x3c\/span\x3e\n$ yarn \x3cspan class=\x22hljs-keyword\x22\x3eadd \x3c\/span\x3e--dev \x3cspan class=\x22hljs-keyword\x22\x3ebabel-loader \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebabel-core \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebabel-preset-env \x3c\/span\x3ewebpack\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后配置 \x3ccode\x3ewebpack.config.js\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var path = require(\x27path\x27);\n\nmodule.exports = {\n  entry: \x27.\/src\/index.js\x27,\n  output: {\n    filename: \x27bundle.js\x27,\n    path: path.resolve(__dirname, \x27dist\x27)\n  },\n  module: {\n    rules: [\n      {\n        test: \/\\.js$\/,\n        exclude: \/node_modules\/,\n        use: {\n          loader: \x27babel-loader\x27,\n          options: {\n            presets: [\x27env\x27]\n          }\n        }\n      }\n    ]\n  }\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e path = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27path\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n  \x3cspan class=\x22hljs-attr\x22\x3eentry\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27.\/src\/index.js\x27\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27bundle.js\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27dist\x27\x3c\/span\x3e)\n  },\n  \x3cspan class=\x22hljs-attr\x22\x3emodule\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attr\x22\x3erules\x3c\/span\x3e: [\n      {\n        \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.js$\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3eexclude\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3euse\x3c\/span\x3e: {\n          \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27babel-loader\x27\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3eoptions\x3c\/span\x3e: {\n            \x3cspan class=\x22hljs-attr\x22\x3epresets\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27env\x27\x3c\/span\x3e]\n          }\n        }\n      }\n    ]\n  }\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e差不多就是这么个配置，\x3ccode\x3ebabel-loader\x3c\/code\x3e 的其他 \x3ccode\x3eoptions\x3c\/code\x3e 请参照文档，而且这个配置文件的括号嵌套也是说不出话，ZTMJLWC。\x3c\/p\x3e\n\x3cp\x3e然后运行 \x3ccode\x3ewebpack\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22➜  webpack $ webpack\nHash: 5c326572cf1440dbdf64\nVersion: webpack 3.0.0\nTime: 1194ms\n    Asset     Size  Chunks             Chunk Names\nbundle.js  2.86 kB       0  [emitted]  main\n   [0] .\/src\/index.js 106 bytes {0} [built]\n   [1] .\/src\/bullshit.js 178 bytes {0} [built]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs subunit\x22\x3e\x3ccode class=\x22shell\x22\x3e➜  webpack $ webpack\nHash: 5c326572cf1440dbdf64\nVersion: webpack 3.0.0\n\x3cspan class=\x22hljs-keyword\x22\x3eTime:\x3c\/span\x3e 1194ms\n    Asset     Size  Chunks             Chunk Names\nbundle.js  2.86 kB       0  [emitted]  main\n   [0] .\/src\/index.js 106 bytes {0} [built]\n   [1] .\/src\/bullshit.js 178 bytes {0} [built]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e情况呢就是这么个情况：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000010078910\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000010078910\x22 alt=\x22Webpack Result\x22 title=\x22Webpack Result\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\n\x3cp\x3e\x3cstrong\x3eTips: 关于 Webpack 的 Tree Shaking\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3eWebpack 现在是自带 Tree-Shaking 的，不过需要你把 Babel 默认的转换 ES6 模块至 CommonJS 格式给关掉，就像上面 Rollup.js 那样在 \x3ccode\x3e.babelrc\x3c\/code\x3e 中添加个 \x3ccode\x3e\x22modules\x22: false\x3c\/code\x3e。原因的话上面也提到过，tree-shaking 是基于 ES6 模块的静态语法分析的，如果交给 Webpack 的是已经被 Babel 转换成 CommonJS 的代码的话那就没戏了。\x3c\/p\x3e\n\x3cp\x3e而且 Webpack 自带的 tree-shaking 只是把没用到的模块从 \x3ccode\x3eexport\x3c\/code\x3e 中去掉而已，之后还要再接一个 UglifyJS 之类的工具把冗余代码干掉才能达到 Rollup.js 那样的效果。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3eWebpack 也可以配合 Gulp 工作流让开发更嗨皮，有兴趣的可自行研究。目前来看，这三种方案中，我本人更倾向于使用 Webpack，不知道诸君会选用什么呢？\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e写在后面\x3c\/h2\x3e\n\x3cp\x3e前几天我在捣鼓 \x3ca href=\x22https:\/\/github.com\/printempw\/blessing-skin-server\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eprintempw\/blessing-skin-server\x3c\/a\x3e 那坨 shi 一样 JavaScript 代码的模块化的时候，打算试着使用一下 ES6 标准中的模块化方案，并找了 Google 大老师问 ES6 模块转译打包相关的资源，找了半天，几乎没有什么像样的中文资源。全是讲 ES6 模块是啥、有多好、为什么要用之类的，没几个是讲到底该怎么在生产环境中使用的（也有可能是我搜索姿势不对），说不出话。遂撰此文，希望能帮到后来人。\x3c\/p\x3e\n\x3cp\x3e且本人水平有限，如果文中有什么错误，欢迎在下方评论区批评指出。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e参考链接\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca\x3eGetting import\/export working ES6 style using Browserify \x2b Babelify \x2b Gulp = -5hrs of life\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/rollupjs.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3erollup.js • guide\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/brooch.me\/2017\/06\/30\/webpack-tree-shaking\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e使用 webpack 2 tree-shaking 机制时需要注意的细节\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/xwjgo.github.io\/2016\/09\/23\/webpack\x2bbabel%E5%AE%9E%E7%8E%B0%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%E4%BD%BF%E7%94%A8es6%E6%A8%A1%E5%9D%97%E8%AF%AD%E6%B3%95\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack\x2bbabel 加载 es6 模块\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/webpack.js.org\/configuration\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eDocumentation - webpack\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.zhihu.com\/question\/41922432\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e如何评价 Webpack 2 新引入的 Tree-shaking 代码优化技术？\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>我他喵的到底要怎样才能在生产环境中用上 ES6 模块化？</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010078899">https://segmentfault.com/a/1190000010078899</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ni37eww88r/" target="_blank">https://alili.tech/archive/ni37eww88r/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>