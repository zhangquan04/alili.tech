<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="JS 中的事件冒泡与捕获"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>JS 中的事件冒泡与捕获 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/aa689xb61kr/",
				"appid": "1613049289050283", 
				"title": "JS 中的事件冒泡与捕获 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-02T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/bluiayoadcn/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/aw28vi5cfx9/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&text=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&text=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&title=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&is_video=false&description=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&title=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&title=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&title=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faa689xb61kr%2f&title=JS%20%e4%b8%ad%e7%9a%84%e4%ba%8b%e4%bb%b6%e5%86%92%e6%b3%a1%e4%b8%8e%e6%8d%95%e8%8e%b7"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">JS 中的事件冒泡与捕获</h1><div class="meta"><div class="postdate"><time datetime="2019-02-02" itemprop="datePublished">2019-02-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e刚接触 JS 的那个时候，啥也不懂，只想着如何利用 Google、百度到的函数来解决实际的问题，不会想到去一探究竟。\x3c\/p\x3e\n\x3cp\x3e渐渐的，对 JS 的语言的不断深入，有机会去了解一些原理性东西。最近在看 JQuery 源码，感触很多，总想着用原生的 JS 去实现自己的一个 JQuery 库。说实在的，JQuery 里面很多函数和思路，是千百开源工作者长期的贡献，哪能是短时间就能消化的了。\x3c\/p\x3e\n\x3cp\x3e最近再次碰到 \x3ccode\x3eaddEventListener\x3c\/code\x3e函数(MDN 上关于 \x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/EventTarget\/addEventListener\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eaddEventListener\x3c\/a\x3e 的介绍，很详细)，由于之前并没有弄懂第三个参数的含义，要么默认值，要么手动设置成 false。这次看了不少文章，彻底把事件冒泡和捕获弄懂。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e什么事件冒泡与捕获\x3c\/h2\x3e\n\x3cp\x3e事件冒泡与捕获是 DOM 中事件传播的两种方式，比如说对于注册了相同事件的两个 DOM 元素(简单点就是两个 div，一里一外)，当点击里层 div 的时候，这两个事件谁先执行。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e冒泡事件\x3c\/strong\x3e，由里向外，最里层的元素先执行，然后冒泡到外层。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e捕获事件\x3c\/strong\x3e，由外向里，最外层的元素先执行，然后传递到内部。\x3c\/p\x3e\n\x3cp\x3e在 IE 9 之前是只支持事件冒泡，IE 9(包括 IE 9) 之后和目前主流的浏览器都同时支持两种事件。\x3c\/p\x3e\n\x3cp\x3e如何设置，只需修改 \x3ccode\x3eaddEventListener\x3c\/code\x3e的第三个参数，true 为捕获，false 为冒泡，默认为冒泡。\x3c\/p\x3e\n\x3cp\x3e举个简单的例子，\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv\x3e\n  \x3cspan class=\x26quot;out\x26quot;\x3e\n    \x3cspan class=\x26quot;in\x26quot;\x3e\x3c\/span\x3e\n  \x3c\/span\x3e\n\x3c\/div\x3e\n\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n  var dom_out = document.getElementsByClassName(\x27out\x27)[0];\n  var dom_in = document.getElementsByClassName(\x27in\x27)[0];\n  dom_out.addEventListener(\x27click\x27,function(){\n    alert(\x27out\x27);\n  },false);\n  dom_in.addEventListener(\x27click\x27,function(){\n    alert(\x27in\x27);\n  },false);\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22out\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22in\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dom_out = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27out\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dom_in = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27in\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  dom_out.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    alert(\x3cspan class=\x22hljs-string\x22\x3e\x27out\x27\x3c\/span\x3e);\n  },\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n  dom_in.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    alert(\x3cspan class=\x22hljs-string\x22\x3e\x27in\x27\x3c\/span\x3e);\n  },\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEmdc?w=157\x26amp;h=123\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEmdc?w=157\x26amp;h=123\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e在上面这个例子中，事件是按照冒泡来执行的，点击里层的 \x3ccode\x3ein\x3c\/code\x3e，会看到先 \x3ccode\x3ealert\x3c\/code\x3e 的顺序是先 \x22in\x22 后 \x22out\x22，如果把事件改成捕获，\x3ccode\x3ealert\x3c\/code\x3e 的顺序又不一样了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n  var dom_out = document.getElementsByClassName(\x27out\x27)[0];\n  var dom_in = document.getElementsByClassName(\x27in\x27)[0];\n  dom_out.addEventListener(\x27click\x27,function(){\n    alert(\x27out\x27);\n  },true);\n  dom_in.addEventListener(\x27click\x27,function(){\n    alert(\x27in\x27);\n  },true);\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dom_out = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27out\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e dom_in = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27in\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  dom_out.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    alert(\x3cspan class=\x22hljs-string\x22\x3e\x27out\x27\x3c\/span\x3e);\n  },\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n  dom_in.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    alert(\x3cspan class=\x22hljs-string\x22\x3e\x27in\x27\x3c\/span\x3e);\n  },\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEmdk?w=175\x26amp;h=125\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEmdk?w=175\x26amp;h=125\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e上面这个例子是捕获事件的例子，点击 \x3ccode\x3ein\x3c\/code\x3e效果是不是不一样呢？\x3c\/p\x3e\n\x3cp\x3e之所以会有冒泡和捕获事件(像 IE 9 之前的浏览器不支持捕获事件，还真是反程序员)，毕竟在实际中处理事情肯定有个先后顺序，要么由里向外，要么由外向里，两者都是必须的。\x3c\/p\x3e\n\x3cp\x3e但有时候为了兼容 IE 9 以下版本的浏览器，都会把第三个参数设置成 false 或者默认(默认就是 false)。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e进一步理解冒泡和捕获\x3c\/h2\x3e\n\x3cp\x3e现在已经说清楚冒泡和捕获，那么如果同时出现冒泡和捕获会出现什么结果？\x3c\/p\x3e\n\x3cp\x3e原来浏览器处理时间分为两个阶段，捕获阶段和冒泡阶段，\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e先执行捕获阶段，如果事件是在捕获阶段执行的(true 情况)，则执行；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e然后是冒泡阶段，如果事件是在冒泡阶段执行的(false 情况)，则执行；\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e来看一看例子就知道了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv\x3e\n  \x3cspan class=\x26quot;s1\x26quot;\x3es1\n    \x3cspan class=\x26quot;s2\x26quot;\x3es2\n      \x3cspan class=\x26quot;s3\x26quot;\x3es3\n      \x3c\/span\x3e\n    \x3c\/span\x3e\n  \x3c\/span\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22s1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3es1\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22s2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3es2\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22s3\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3es3\n      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这次我们设置三个 span，分别是 s1, s2, s3，然后设置 s1，s3 为冒泡执行，s2 为捕获执行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n  var s1 = document.getElementsByClassName(\x27s1\x27)[0];\n  var s2 = document.getElementsByClassName(\x27s2\x27)[0];\n  var s3 = document.getElementsByClassName(\x27s3\x27)[0];\n  s1.addEventListener(\x27click\x27,function(){\n    alert(\x27s1\x27);\n  },false);\n  s2.addEventListener(\x27click\x27,function(){\n    alert(\x27s2\x27);\n  },true);\n  s3.addEventListener(\x27click\x27,function(){\n    alert(\x27s3\x27);\n  },false);\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e s1 = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27s1\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e s2 = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27s2\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e s3 = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27s3\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  s1.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    alert(\x3cspan class=\x22hljs-string\x22\x3e\x27s1\x27\x3c\/span\x3e);\n  },\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n  s2.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    alert(\x3cspan class=\x22hljs-string\x22\x3e\x27s2\x27\x3c\/span\x3e);\n  },\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n  s3.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    alert(\x3cspan class=\x22hljs-string\x22\x3e\x27s3\x27\x3c\/span\x3e);\n  },\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEmdq?w=225\x26amp;h=172\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEmdq?w=225\x26amp;h=172\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e从运行的效果来看，点击 s3，依次 \x3ccode\x3ealert\x3c\/code\x3e s2 =\x26gt; s3 =\x26gt; s1，说明：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e捕获事件和冒泡事件同时存在的，而且捕获事件先执行，冒泡事件后执行；\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果元素存在事件且事件的执行时间与当前逻辑一致(冒泡或捕获)，则执行。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e默认事件取消与停止冒泡\x3c\/h2\x3e\n\x3cp\x3e当然，有时候我们只想执行最内层或最外层的事件，根据内外层关系来把范围更广的事件取消掉(对于新手来说，不取消冒泡，很容易中招的出现 bug)。\x3ccode\x3eevent.stopPropagation()\x3c\/code\x3e(IE 中\x3ccode\x3ewindow.event.cancelBubble = true\x3c\/code\x3e)可以用来取消事件冒泡。\x3c\/p\x3e\n\x3cp\x3e有时候对于浏览器的默认事件也需要取消，这时候用到的函数则是 \x3ccode\x3eevent.preventDefault()\x3c\/code\x3e(IE 中\x3ccode\x3ewindow.event.returnValue = false\x3c\/code\x3e)。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e那么默认事件取消和停止冒泡有什么区别呢？\x3c\/strong\x3e我的理解：浏览器的默认事件是指浏览器自己的事件(这不废话吗)，比如 \x3ccode\x3ea 标签\x3c\/code\x3e 的点击，表单的提交等，取消掉就不会执行啦；冒泡则取消的是由外向里(捕获)、由里向外(冒泡)，stop 之后，就不会继续遍历了。stackoverflow 上的\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/5963669\/whats-the-difference-between-event-stoppropagation-and-event-preventdefault\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e解答\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e看下例子，依旧是上面那个例子，不过每个函数都加了 停止冒泡：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22s1.addEventListener(\x27click\x27,function(e){\n  e.stopPropagation();\n  alert(\x27s1\x27);\n},false);\ns2.addEventListener(\x27click\x27,function(e){\n  e.stopPropagation();\n  alert(\x27s2\x27);\n},true);\ns3.addEventListener(\x27click\x27,function(e){\n  e.stopPropagation();\n  alert(\x27s3\x27);\n},false);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3es1.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n  e.stopPropagation();\n  alert(\x3cspan class=\x22hljs-string\x22\x3e\x27s1\x27\x3c\/span\x3e);\n},\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\ns2.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n  e.stopPropagation();\n  alert(\x3cspan class=\x22hljs-string\x22\x3e\x27s2\x27\x3c\/span\x3e);\n},\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\ns3.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n  e.stopPropagation();\n  alert(\x3cspan class=\x22hljs-string\x22\x3e\x27s3\x27\x3c\/span\x3e);\n},\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEmdy?w=226\x26amp;h=168\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEmdy?w=226\x26amp;h=168\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e点击的结果是：当点击 s2 或 s3 的时候，都会 \x3ccode\x3ealert\x3c\/code\x3e s2，点击 s1，弹出 s1。因为事件被取消的缘故，点击 s3，执行 s2后就不会在向下执行了。\x3c\/p\x3e\n\x3cp\x3e在看一个 \x3ccode\x3epreventDefault\x3c\/code\x3e 的例子。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv\x3e\n  \x3ca href=\x26quot;\/\x26quot;\x3e点我回主页\x3c\/a\x3e\n\x3c\/div\x3e\n\x3cdiv\x3e\n  \x3ca href=\x26quot;\/\x26quot; class=\x26quot;back\x26quot;\x3e点我不回主页\x3c\/a\x3e\n\x3c\/div\x3e\n\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n  var back = document.getElementsByClassName(\x27back\x27)[0];\n  back.addEventListener(\x27click\x27, function(e){\n    e.preventDefault();\n  });\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e点我回主页\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22back\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e点我不回主页\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ea\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e back = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementsByClassName(\x3cspan class=\x22hljs-string\x22\x3e\x27back\x27\x3c\/span\x3e)[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n  back.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n    e.preventDefault();\n  });\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVEmdA?w=143\x26amp;h=86\x22 src=\x22https:\/\/static.alili.tech\/img\/bVEmdA?w=143\x26amp;h=86\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e第二个链接是不是回不了主页，因为浏览器的默认事件被取消了。\x3c\/p\x3e\n\x3cp\x3e\x3cdel\x3e以上所有例子请在非低版本 IE 浏览器的环境下浏览\x3c\/del\x3e O_o\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e总结就补充两个兼容 IE 的函数吧：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function stopBubble(e) {\n  \/\/如果提供了事件对象，则这是一个非IE浏览器\n  if ( e \x26amp;\x26amp; e.stopPropagation )\n      \/\/因此它支持W3C的stopPropagation()方法\n      e.stopPropagation();\n  else\n      \/\/否则，我们需要使用IE的方式来取消事件冒泡\n      window.event.cancelBubble = true;\n}\n\/\/阻止浏览器的默认行为\nfunction stopDefault( e ) {\n  \/\/阻止默认浏览器动作(W3C)\n  if ( e \x26amp;\x26amp; e.preventDefault )\n      e.preventDefault();\n  \/\/IE中阻止函数器默认动作的方式\n  else\n      window.event.returnValue = false;\n  return false;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3estopBubble\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/如果提供了事件对象，则这是一个非IE浏览器\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( e \x26amp;\x26amp; e.stopPropagation )\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/因此它支持W3C的stopPropagation()方法\x3c\/span\x3e\n      e.stopPropagation();\n  \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e\n      \x3cspan class=\x22hljs-comment\x22\x3e\/\/否则，我们需要使用IE的方式来取消事件冒泡\x3c\/span\x3e\n      \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.event.cancelBubble = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n}\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/阻止浏览器的默认行为\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3estopDefault\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e e \x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/阻止默认浏览器动作(W3C)\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ( e \x26amp;\x26amp; e.preventDefault )\n      e.preventDefault();\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/IE中阻止函数器默认动作的方式\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e\n      \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.event.returnValue = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e共勉！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e参考\x3c\/h3\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/4616694\/what-is-event-bubbling-and-capturing\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estackoverflow 什么是事件冒泡和捕捉\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/5963669\/whats-the-difference-between-event-stoppropagation-and-event-preventdefault\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3estackoverflow stopPropagation 和 preventDefault 的区别\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/EventTarget\/addEventListener\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eMDN addEventListener\x3c\/a\x3e\x3cbr\x3e\x3ca href=\x22http:\/\/www.aspxhome.com\/javascript\/skills\/200712\/262128.htm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ejavascript阻止事件冒泡和浏览器的默认行为\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e由于 SF 编辑器不支持上传 demo，只能以图片展示，欢迎来 \x3ca href=\x22http:\/\/yuren.space\/blog\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e我的博客\x3c\/a\x3e 查看 demo。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>JS 中的事件冒泡与捕获</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007196129">https://segmentfault.com/a/1190000007196129</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/aa689xb61kr/" target="_blank">https://alili.tech/archive/aa689xb61kr/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>