<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何在 Linux 中使用 Asciinema 进行录制和回放终端会话"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何在 Linux 中使用 Asciinema 进行录制和回放终端会话 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/mr490zu99h/",
				"appid": "1613049289050283", 
				"title": "如何在 Linux 中使用 Asciinema 进行录制和回放终端会话 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-23T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ep6j4sp0roj/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/0fuzypyew3c/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&text=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fmr490zu99h%2f&title=%e5%a6%82%e4%bd%95%e5%9c%a8%20Linux%20%e4%b8%ad%e4%bd%bf%e7%94%a8%20Asciinema%20%e8%bf%9b%e8%a1%8c%e5%bd%95%e5%88%b6%e5%92%8c%e5%9b%9e%e6%94%be%e7%bb%88%e7%ab%af%e4%bc%9a%e8%af%9d"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何在 Linux 中使用 Asciinema 进行录制和回放终端会话</h1><div class="meta"><div class="postdate"><time datetime="2019-01-23" itemprop="datePublished">2019-01-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#如何在-linux-中使用-asciinema-进行录制和回放终端会话\x22\x3e\x3c\/a\x3e如何在 Linux 中使用 Asciinema 进行录制和回放终端会话\x3c\/h1\x3e\n\x3ch3\x3e\x3ca href=\x22#简介\x22\x3e\x3c\/a\x3e简介\x3c\/h3\x3e\n\x3cp\x3eAsciinema 是一个轻量并且非常高效的终端会话录制器。使用它可以录制、回放和分享 JSON 格式的终端会话记录。与一些桌面录制器，比如 Recordmydesktop、Simplescreenrecorder、Vokoscreen 或 Kazam 相比，Asciinema 最主要的优点是，它能够以通过 ASCII 文本以及 ANSI 转义码编码来录制所有的标准终端输入、输出和错误信息。\x3c\/p\x3e\n\x3cp\x3e事实上，即使是很长的终端会话，录制出的 JSON 格式文件也非常小。另外，JSON 格式使得用户可以利用简单的文件转化器，将输出的 JSON 格式文件嵌入到 HTML 代码中，然后分享到公共网站或者使用 asciinema 账户分享到 Asciinema.org 。最后，如果你的终端会话中有一些错误，并且你还懂一些 ASCI 转义码语法，那么你可以使用任何编辑器来修改你的已录制终端会话。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e难易程度：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e很简单！\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e标准终端：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cstrong\x3e#\x3c\/strong\x3e - 给定命令需要以 root 用户权限运行或者使用 \x3ccode\x3esudo\x3c\/code\x3e 命令\x3c\/li\x3e\n\x3cli\x3e\x3cstrong\x3e$\x3c\/strong\x3e - 给定命令以常规权限用户运行\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3\x3e\x3ca href=\x22#从软件库安装\x22\x3e\x3c\/a\x3e从软件库安装\x3c\/h3\x3e\n\x3cp\x3e通常， asciinema 可以使用你的发行版的软件库进行安装。但是，如果不可以使用系统的软件库进行安装或者你想安装最新的版本，那么，你可以像下面的“从源代码安装”部分所描述的那样，使用 Linuxbrew 包管理器来执行 Asciinema 安装。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e在 Arch Linux 上安装：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e pacman -S asciinema\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e在 Debian 上安装：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e apt install asciinema\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e在 Ubuntu 上安装：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo apt install asciinema\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e在 Fedora 上安装：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo dnf install asciinema\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#从源代码安装\x22\x3e\x3c\/a\x3e从源代码安装\x3c\/h3\x3e\n\x3cp\x3e最简单并且值得推荐的方式是使用 Linuxbrew 包管理器，从源代码安装最新版本的 Asciinema 。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#前提条件\x22\x3e\x3c\/a\x3e前提条件\x3c\/h4\x3e\n\x3cp\x3e下面列出的前提条件是安装 Linuxbrew 和 Asciinema 需要满足的依赖关系：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3egit\x3c\/li\x3e\n\x3cli\x3egcc\x3c\/li\x3e\n\x3cli\x3emake\x3c\/li\x3e\n\x3cli\x3eruby\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e在安装 Linuxbrew 之前，请确保上面的这些包都已经安装在了你的 Linux 系统中。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e在 Arch Linux 上安装 ruby：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e pacman -S git gcc make ruby\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e在 Debian 上安装 ruby：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e apt install git gcc make ruby\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e在 Ubuntu 上安装 ruby：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo apt install git gcc make ruby\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e在 Fedora 上安装 ruby：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sudo dnf install git gcc make ruby\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e在 CentOS 上安装 ruby：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e yum install git gcc make ruby\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#安装-linuxbrew\x22\x3e\x3c\/a\x3e安装 Linuxbrew\x3c\/h4\x3e\n\x3cp\x3eLinuxbrew 包管理器是苹果的 MacOS 操作系统很受欢迎的 Homebrew 包管理器的一个复刻版本。还没发布多久，Homebrew 就以容易使用而著称。如果你想使用 Linuxbrew 来安装 Asciinema，那么，请运行下面命令在你的 Linux 版本上安装 Linuxbrew：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e ruby -e \x3cspan class=\x22hljs-string\x22\x3e\x22\x3cspan class=\x22hljs-variable\x22\x3e$(curl -fsSL https:\/\/raw.githubusercontent.com\/Linuxbrew\/install\/master\/install)\x3c\/span\x3e\x22\x3c\/span\x3e\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在，Linuxbrew 已经安装到了目录 \x3ccode\x3e$HOME\/.linuxbrew\/\x3c\/code\x3e 下。剩下需要做的就是使它成为可执行 \x3ccode\x3ePATH\x3c\/code\x3e 环境变量的一部分。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x3cspan class=\x22hljs-built_in\x22\x3eecho\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27export PATH=\x22$HOME\/.linuxbrew\/bin:$PATH\x22\x27\x3c\/span\x3e \x26gt;\x26gt;~\/.bash_profile\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e . ~\/.bash_profile\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e为了确认 Linuxbrew 是否已经安装好，你可以使用 \x3ccode\x3ebrew\x3c\/code\x3e 命令来查看它的版本：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3e$ brew --version\nHomebrew \x3cspan class=\x22hljs-number\x22\x3e1.1\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.7\x3c\/span\x3e\nHomebrew\/homebrew-core (git revision \x3cspan class=\x22hljs-number\x22\x3e5229\x3c\/span\x3e; last commit \x3cspan class=\x22hljs-number\x22\x3e2017\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-02\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-02\x3c\/span\x3e)\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#安装-asciinema\x22\x3e\x3c\/a\x3e安装 Asciinema\x3c\/h4\x3e\n\x3cp\x3e安装好 Linuxbrew 以后，安装 Asciinema 就变得无比容易了：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs mipsasm\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3ebrew \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3einstall \x3c\/span\x3easciinema\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e检查 Asciinema 是否安装正确：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3e$ asciinema --version\nasciinema \x3cspan class=\x22hljs-number\x22\x3e1.3\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.0\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#录制终端会话\x22\x3e\x3c\/a\x3e录制终端会话\x3c\/h3\x3e\n\x3cp\x3e经过一番辛苦的安装工作以后，是时候来干一些有趣的事情了。Asciinema 是一个非常容易使用的软件。事实上，目前的 1.3 版本只有很少的几个可用命令行选项，其中一个是 \x3ccode\x3e--help\x3c\/code\x3e 。\x3c\/p\x3e\n\x3cp\x3e我们首先使用 \x3ccode\x3erec\x3c\/code\x3e 选项来录制终端会话。下面的命令将会开始录制终端会话，之后，你将会有一个选项来丢弃已录制记录或者把它上传到 asciinema.org 网站以便将来参考。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e asciinema rec\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e运行上面的命令以后，你会注意到， Asciinema 已经开始录制终端会话了，你可以按下 \x3ccode\x3eCTRL\x2bD\x3c\/code\x3e 快捷键或执行 \x3ccode\x3eexit\x3c\/code\x3e 命令来停止录制。如果你使用的是 Debian\/Ubuntu\/Mint Linux 系统，你可以像下面这样尝试进行第一次 asciinema 录制：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e su\x3c\/span\x3e\nPassword:\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e apt install sl\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x3cspan class=\x22hljs-built_in\x22\x3eexit\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e sl\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e一旦输入最后一个 \x3ccode\x3eexit\x3c\/code\x3e 命令以后，将会询问你：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs awk\x22\x3e$ \x3cspan class=\x22hljs-keyword\x22\x3eexit\x3c\/span\x3e\n~ Asciicast recording finished.\n~ Press \x26lt;Enter\x26gt; to upload, \x26lt;Ctrl-C\x26gt; to cancel.\n\nhttps:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3easciinema.org\x3cspan class=\x22hljs-regexp\x22\x3e\/a\/\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3elw94ys68gsgr1yzdtzwijxm4\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果你不想上传你的私密命令行技巧到 asciinema.org 网站，那么有一个选项可以把 Asciinema 记录以 JSON 格式保存为本地文件。比如，下面的 asciinema 记录将被存为 \x3ccode\x3e\/tmp\/my_rec.json\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e asciinema rec \/tmp\/my_rec.json\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e另一个非常有用的 asciinema 特性是时间微调。如果你的键盘输入速度很慢，或者你在进行多任务，输入命令和执行命令之间的时间会比较长。Asciinema 会记录你的实时按键时间，这意味着每一个停顿都将反映在最终视频的长度上。可以使用 \x3ccode\x3e-w\x3c\/code\x3e 选项来缩短按键的时间间隔。比如，下面的命令将按键的时间间隔缩短为 0.2 秒：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e asciinema rec -w 0.2\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#回放已录制终端会话\x22\x3e\x3c\/a\x3e回放已录制终端会话\x3c\/h3\x3e\n\x3cp\x3e有两种方式可以来回放已录制会话。第一种方式是直接从 asciinema.org 网站上播放终端会话。这意味着，你之前已经把录制会话上传到了 asciinema.org 网站，并且需要提供有效链接：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs gams\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3e$\x3c\/span\x3e asciinema play https:\x3cspan class=\x22hljs-comment\x22\x3e\/\/asciinema.org\/a\/7lw94ys68gsgr1yzdtzwijxm4\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e另外，你也可以使用本地存储的 JSON 文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e asciinema play \/tmp\/my_rec.json\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果要使用 \x3ccode\x3ewget\x3c\/code\x3e 命令来下载之前的上传记录，只需在链接的后面加上 \x3ccode\x3e.json\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3e$ wget -\x3cspan class=\x22hljs-selector-tag\x22\x3eq\x3c\/span\x3e -O steam_locomotive\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e https:\x3cspan class=\x22hljs-comment\x22\x3e\/\/asciinema.org\/a\/7lw94ys68gsgr1yzdtzwijxm4.json\x3c\/span\x3e\n$ asciinema play steam_locomotive\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#将视频嵌入-html\x22\x3e\x3c\/a\x3e将视频嵌入 HTML\x3c\/h3\x3e\n\x3cp\x3e最后，asciinema 还带有一个独立的 JavaScript 播放器。这意味者你可以很容易的在你的网站上分享终端会话记录。下面，使用一段简单的 \x3ccode\x3eindex.html\x3c\/code\x3e 代码来说明这个方法。首先，下载所有必要的东西：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e \/tmp\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e mkdir steam_locomotive\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e steam_locomotive\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e wget -q -O steam_locomotive.json https:\/\/asciinema.org\/a\/7lw94ys68gsgr1yzdtzwijxm4.json\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e wget -q https:\/\/github.com\/asciinema\/asciinema-player\/releases\/download\/v2.4.0\/asciinema-player.css\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e wget -q https:\/\/github.com\/asciinema\/asciinema-player\/releases\/download\/v2.4.0\/asciinema-player.js\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e之后，创建一个新的包含下面这些内容的 \x3ccode\x3e\/tmp\/steam_locomotive\/index.html\x3c\/code\x3e 文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/css\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/asciinema-player.css\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3easciinema-player\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/steam_locomotive.json\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ecols\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2280\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erows\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x2224\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3easciinema-player\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/asciinema-player.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e完成以后，打开你的网页浏览器，按下 \x3ccode\x3eCTRL\x2bO\x3c\/code\x3e 来打开新创建的 \x3ccode\x3e\/tmp\/steam_locomotive\/index.html\x3c\/code\x3e 文件。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#结论\x22\x3e\x3c\/a\x3e结论\x3c\/h3\x3e\n\x3cp\x3e正如前面所说的，使用 asciinema 录制器来录制终端会话最主要的优点是它的输出文件非常小，这使得你的视频很容易分享出去。上面的例子产生了一个包含 58472 个字符的文件，它是一个只有 58 KB 大 小的 22 秒终端会话视频。如果我们查看输出的 JSON 文件，会发现甚至这个数字已经非常大了，这主要是因为一个 “蒸汽机车” 已经跑过了终端。这个长度的正常终端会话一般会产生一个更小的输出文件。\x3c\/p\x3e\n\x3cp\x3e下次，当你想要在一个论坛上询问关于 Linux 配置的问题，并且很难描述你的问题的时候，只需运行下面的命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e asciinema rec\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e然后把最后的链接贴到论坛的帖子里。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#故障排除\x22\x3e\x3c\/a\x3e故障排除\x3c\/h3\x3e\n\x3ch4\x3e\x3ca href=\x22#在-utf-8-环境下运行-asciinema\x22\x3e\x3c\/a\x3e在 UTF-8 环境下运行 asciinema\x3c\/h4\x3e\n\x3cp\x3e错误信息：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs livecodeserver\x22\x3easciinema needs \x3cspan class=\x22hljs-keyword\x22\x3ea\x3c\/span\x3e UTF\x3cspan class=\x22hljs-number\x22\x3e-8\x3c\/span\x3e native locale \x3cspan class=\x22hljs-built_in\x22\x3eto\x3c\/span\x3e run. Check \x3cspan class=\x22hljs-keyword\x22\x3ethe\x3c\/span\x3e output \x3cspan class=\x22hljs-keyword\x22\x3eof\x3c\/span\x3e `locale` \x3cspan class=\x22hljs-keyword\x22\x3ecommand\x3c\/span\x3e.\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e解决方法： 生成并导出 UTF-8 语言环境。例如：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3e$ localedef -c -f UTF-\x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e -\x3cspan class=\x22hljs-selector-tag\x22\x3ei\x3c\/span\x3e en_US en_US\x3cspan class=\x22hljs-selector-class\x22\x3e.UTF-8\x3c\/span\x3e\n$ export LC_ALL=en_US\x3cspan class=\x22hljs-selector-class\x22\x3e.UTF-8\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/linuxconfig.org\/record-and-replay-terminal-session-with-asciinema-on-linux\x22\x3ehttps:\/\/linuxconfig.org\/record-and-replay-terminal-session-with-asciinema-on-linux\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/linuxconfig.org\/record-and-replay-terminal-session-with-asciinema-on-linux\x22\x3eLubos Rendek\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/ucasFL\x22\x3eucasFL\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>如何在 Linux 中使用 Asciinema 进行录制和回放终端会话</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/record-and-replay-terminal-session-with-asciinema-on-linux">https://www.zcfy.cc/article/record-and-replay-terminal-session-with-asciinema-on-linux</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/mr490zu99h/" target="_blank">https://alili.tech/archive/mr490zu99h/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>