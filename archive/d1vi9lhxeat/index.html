<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="再见，CommonsChunkPlugin！"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>再见，CommonsChunkPlugin！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/d1vi9lhxeat/",
				"appid": "1613049289050283", 
				"title": "再见，CommonsChunkPlugin！ | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-20T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/38z8ht5t4op/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/5twbco3lftf/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&text=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&text=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&title=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&is_video=false&description=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&title=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&title=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&title=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fd1vi9lhxeat%2f&title=%e5%86%8d%e8%a7%81%ef%bc%8cCommonsChunkPlugin%ef%bc%81"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">再见，CommonsChunkPlugin！</h1><div class="meta"><div class="postdate"><time datetime="2019-01-20" itemprop="datePublished">2019-01-20</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3cp\x3ewebpack 4用两个新的配置选项(\x3ccode\x3eoptimization.splitChunks\x3c\/code\x3e and \x3ccode\x3eoptimization.runtimeChunk\x3c\/code\x3e)替代了CommonsChunkPlugin。本文介绍这两个新选项的用法。\x3c\/p\x3e\n\x3ch2\x3e\x3ca href=\x22https:\/\/gist.github.com\/#defaults\x22\x3e\x3c\/a\x3e默认值\x3c\/h2\x3e\n\x3cp\x3e默认情况下会做一些优化，对多数用户都是合适的。\x3c\/p\x3e\n\x3cp\x3e注意，默认值只会影响按需加载的块，因为要修改初始（initial）块会影响HTML中的\x3ccode\x3escript\x3c\/code\x3e标签。如果你可以自己处理（比如根据入口配置生成\x3ccode\x3escript\x3c\/code\x3e标签的时候），那可以对初始化也应用这些默认的优化：\x3ccode\x3eoptimization.splitChunks.chunks: \x22all\x22\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3ewebpack根据如下条件自动拆分块：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e新块可以共享或者模块来自\x3ccode\x3enode_modules\x3c\/code\x3e文件夹\x3c\/li\x3e\n\x3cli\x3e新块会大于30kb（min\x2bgz以前）\x3c\/li\x3e\n\x3cli\x3e按需加载块之时最大的并行请求数小于等于5\x3c\/li\x3e\n\x3cli\x3e页面初次加载时最大的并行请求数小于等于3\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e为尽力满足后两个条件，块的体积可以更大。\x3c\/p\x3e\n\x3cp\x3e下面看几个例子。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#example-1\x22\x3e\x3c\/a\x3e例1\x3c\/h3\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xl\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ entry.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/a\x22\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\x3cpre\x3e\x3ccode class=\x22hljs xl\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ a.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e结果\x3c\/strong\x3e：会创建一个独立的包含React的块。在执行\x3ccode\x3eimport\x3c\/code\x3e调用时，这个块会随着包含\x3ccode\x3e.\/a\x3c\/code\x3e的块并行加载。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e为什么：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e条件1：这个块包含的模块来自\x3ccode\x3enode_modules\x3c\/code\x3e\x3c\/li\x3e\n\x3cli\x3e条件2：react大于30kb\x3c\/li\x3e\n\x3cli\x3e条件3：在执行\x3ccode\x3eimport\x3c\/code\x3e调用时，并行请求数是2\x3c\/li\x3e\n\x3cli\x3e条件4：不影响页面初次加载\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e为什么应该这样拆分？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3ereact可能不会像应用代码那样经常变更。把它挪到一个独立的块，浏览器就可以缓存它（假设你使用了长期缓存配置：chunkhash、records、Cache-Control）。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#example-2\x22\x3e\x3c\/a\x3e例2\x3c\/h3\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xl\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ entry.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/a\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/b\x22\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\x3cpre\x3e\x3ccode class=\x22hljs xl\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ a.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/helpers\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ helpers有40kb\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cpre\x3e\x3ccode class=\x22hljs xl\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ b.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/helpers\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22.\/more-helpers\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ more-helpers也有40kb\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3cstrong\x3e结果\x3c\/strong\x3e：会创建一个独立的包含\x3ccode\x3e.\/helpers\x3c\/code\x3e的块。在执行\x3ccode\x3eimport\x3c\/code\x3e调用时，这个块会与原始的块并行加载。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e为什么：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e条件1：这个块由两个\x3ccode\x3eimport\x3c\/code\x3e调用共享\x3c\/li\x3e\n\x3cli\x3e条件2：helpers大于30kb\x3c\/li\x3e\n\x3cli\x3e条件3：在执行\x3ccode\x3eimport\x3c\/code\x3e调用时的并行请求数为2\x3c\/li\x3e\n\x3cli\x3e条件4：不影响页面初次加载\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3e为什么应该这样拆分？\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e让helpers代码保留在每个块中意味着用户要下载它两次，而独立出来以后，则只需下载一次。实际上这也是有代价的，因为会多一次请求。这也是为什么有最小30kb的限制的原因。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3eWith \x3ccode\x3eoptimizations.splitChunks.chunks: \x22all\x22\x3c\/code\x3e the same would happend for initial chunks. Chunks can even be shared between entrypoints and on-demand loading.\x3c\/p\x3e\n\x3ch2\x3e\x3ca href=\x22https:\/\/gist.github.com\/#configuration\x22\x3e\x3c\/a\x3e配置\x3c\/h2\x3e\n\x3cp\x3e对于喜欢折腾的用户，还有很多选项可供使用。\x3c\/p\x3e\n\x3cp\x3e声明：不要在没有度量的情况下手工优化。默认值考虑了最佳实践和Web性能。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#cache-groups\x22\x3e\x3c\/a\x3e缓存组\x3c\/h3\x3e\n\x3cp\x3e这个选项将模块分配到缓存组（\x3ccode\x3ecacheGroups\x3c\/code\x3e）。\x3c\/p\x3e\n\x3cp\x3e默认是将\x3ccode\x3enode_modules\x3c\/code\x3e中的所有模块都分配到一个叫\x3ccode\x3evendors\x3c\/code\x3e的缓存组，将至少在2个块中重复出现的模块分配到另一个叫\x3ccode\x3edefault\x3c\/code\x3e的缓存组。\x3c\/p\x3e\n\x3cp\x3e一个模块可以被分配到多个缓存组。这个优化通过\x3ccode\x3epriority\x3c\/code\x3e选项或构成较大块的模块来优先选择缓存组。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#conditions\x22\x3e\x3c\/a\x3e条件\x3c\/h3\x3e\n\x3cp\x3e在满足所有条件的情况下，来自相同块和缓存组的模块会构成一个新块。\x3c\/p\x3e\n\x3cp\x3e有4个选项可以用于配置条件：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ccode\x3eminSize\x3c\/code\x3e (default: 30000) 块的最小大小\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3eminChunks\x3c\/code\x3e (default: 1) 拆分前共享一个模块的最小块数\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3emaxInitialRequests\x3c\/code\x3e (default 3) 一个入口最大并行请求数\x3c\/li\x3e\n\x3cli\x3e\x3ccode\x3emaxAsyncRequests\x3c\/code\x3e (default 5) 按需加载时最大行行请求数\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#naming\x22\x3e\x3c\/a\x3e命名\x3c\/h3\x3e\n\x3cp\x3e要控制拆分后新块的名字，可以使用\x3ccode\x3ename\x3c\/code\x3e选项。\x3c\/p\x3e\n\x3cp\x3e注意：如果给不同的块指定了相同的名字，结果就是这些块会被合并成一个。这样配置可以把所有\x3ccode\x3evendor\x3c\/code\x3e模块拆分为一个由所有入口点\/拆分点共享的块，但我不建议这样用。因为这会导致下载的代码变多。\x3c\/p\x3e\n\x3cp\x3e魔术值\x3ccode\x3etrue\x3c\/code\x3e会自动根据块和缓存组的键选择一个名字。另外，除给这个选项传一个字符串，也可以传一个函数。\x3c\/p\x3e\n\x3cp\x3e如果名字与入口点名字相同，则删除入口点。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#select-chunks\x22\x3e\x3c\/a\x3e选择块\x3c\/h3\x3e\n\x3cp\x3e通过\x3ccode\x3echunks\x3c\/code\x3e选项可以选择块，有3个值：\x3ccode\x3e\x22initial\x22\x3c\/code\x3e、\x3ccode\x3e\x22async\x22\x3c\/code\x3e和\x3ccode\x3e\x22all\x22\x3c\/code\x3e。分别用于选择初始块、按需加载的块和所有块。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ereuseExistingChunk\x3c\/code\x3e选项用于配置在模块完全匹配时重用已有的块，而不是创建新块。\x3c\/p\x3e\n\x3cp\x3e选择块可以针对每个缓存组分别设置。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#select-modules\x22\x3e\x3c\/a\x3e选择模块\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3etest\x3c\/code\x3e选项控制当前缓存组选择哪个模块。省略表示选择所有模块。值可以是RegExp、字符串或函数。\x3c\/p\x3e\n\x3cp\x3e可以匹配绝对模块资源的路径或块名字。如果匹配的是块名字，则会选择该块中的所有模块。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22https:\/\/gist.github.com\/#configurate-cache-groups\x22\x3e\x3c\/a\x3e配置缓存组\x3c\/h3\x3e\n\x3cp\x3e以下是默认配置：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs yaml\x22\x3e\x3cspan class=\x22hljs-attr\x22\x3esplitChunks:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    chunks:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22async\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    minSize:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e30000\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    minChunks:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    maxAsyncRequests:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    maxInitialRequests:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    name:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e    cacheGroups:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        default:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            minChunks:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            priority:\x3c\/span\x3e \x3cspan class=\x22hljs-bullet\x22\x3e-20\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            reuseExistingChunk:\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e},\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e        vendors:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e{\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            test:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/[\\\\\/]node_modules[\\\\\/]\/,\x3c\/span\x3e\n\x3cspan class=\x22hljs-attr\x22\x3e            priority:\x3c\/span\x3e \x3cspan class=\x22hljs-bullet\x22\x3e-10\x3c\/span\x3e\n        \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e}\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e默认情况下，缓存组会从\x3ccode\x3esplitChunks.*\x3c\/code\x3e中继承相应的选项值，而\x3ccode\x3etest\x3c\/code\x3e、\x3ccode\x3epriority\x3c\/code\x3e和\x3ccode\x3ereuseExistingChunk\x3c\/code\x3e则只能在缓存组层次上配置。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ecacheGroups\x3c\/code\x3e是一个对象，其中键是缓存组的键，而值是选项（这是全部）： \x3ccode\x3echunks\x3c\/code\x3e、 \x3ccode\x3eminSize\x3c\/code\x3e、\x3ccode\x3eminChunks\x3c\/code\x3e、\x3ccode\x3emaxAsyncRequests\x3c\/code\x3e、\x3ccode\x3emaxInitialRequests\x3c\/code\x3e, \x3ccode\x3ename\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e要禁用默认组，传入\x3ccode\x3efalse\x3c\/code\x3e：\x3ccode\x3eoptimization.splitChunks.cacheGroups.default: false\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e这里默认缓存组（\x3ccode\x3edefault\x3c\/code\x3e）的优先级（\x3ccode\x3epriority\x3c\/code\x3e）是负数，以便任意自定义的缓存组都优先级（默认为0）都会更高。\x3c\/p\x3e\n\x3cp\x3e以下是一些配置的实例：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dts\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3esplitChunks:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e    cacheGroups:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        commons:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e            name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22commons\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e            chunks:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22initial\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e            minChunks:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e\n        }\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这样就创建了一个\x3ccode\x3ecommons\x3c\/code\x3e块，包含入口点共享的所有代码。\x3c\/p\x3e\n\x3cp\x3e注意：这会导致用户不必要地下载更多代码。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dts\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3esplitChunks:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e    cacheGroups:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e        commons:\x3c\/span\x3e {\n\x3cspan class=\x22hljs-symbol\x22\x3e            test:\x3c\/span\x3e \/[\\\\\/]node_modules[\\\\\/]\n\x3cspan class=\x22hljs-symbol\x22\x3e            name:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22vendors\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e            chunks:\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22all\x22\x3c\/span\x3e\n        }\n    }\n}\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这样就创建了一个\x3ccode\x3evendors\x3c\/code\x3e块，包含整个应用中来自node_modules的所有代码。\x3c\/p\x3e\n\x3cp\x3e注意：这会导致用户不必要地下载更多代码。\x3c\/p\x3e\n\x3ch2\x3e\x3ca href=\x22https:\/\/gist.github.com\/#optimizationruntimechunk\x22\x3e\x3c\/a\x3e\x3ccode\x3eoptimization.runtimeChunk\x3c\/code\x3e\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eoptimization.runtimeChunk: true\x3c\/code\x3e会给每个入口文件的输出再添加一个块，其中只包含运行时。\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>再见，CommonsChunkPlugin！</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/rip-commonschunkplugin-md-github">https://www.zcfy.cc/article/rip-commonschunkplugin-md-github</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/d1vi9lhxeat/" target="_blank">https://alili.tech/archive/d1vi9lhxeat/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>