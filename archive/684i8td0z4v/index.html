<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="Angular 1 深度解析：脏数据检查与 angular 性能优化"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>Angular 1 深度解析：脏数据检查与 angular 性能优化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/684i8td0z4v/",
				"appid": "1613049289050283", 
				"title": "Angular 1 深度解析：脏数据检查与 angular 性能优化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-06T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/1x5dijwdrnk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/enbpqbypxum/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&text=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&text=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&title=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&is_video=false&description=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&title=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&title=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&title=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f684i8td0z4v%2f&title=Angular%201%20%e6%b7%b1%e5%ba%a6%e8%a7%a3%e6%9e%90%ef%bc%9a%e8%84%8f%e6%95%b0%e6%8d%ae%e6%a3%80%e6%9f%a5%e4%b8%8e%20angular%20%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">Angular 1 深度解析：脏数据检查与 angular 性能优化</h1><div class="meta"><div class="postdate"><time datetime="2019-01-06" itemprop="datePublished">2019-01-06</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3eTL;DR\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e脏检查是一种模型到视图的数据映射机制，由 \x3ccode\x3e$apply\x3c\/code\x3e 或 \x3ccode\x3e$digest\x3c\/code\x3e 触发。\x3c\/li\x3e\n\x3cli\x3e脏检查的范围是整个页面，不受区域或组件划分影响\x3c\/li\x3e\n\x3cli\x3e使用尽量简单的绑定表达式提升脏检查执行速度\x3c\/li\x3e\n\x3cli\x3e尽量减少页面上绑定表达式的个数（单次绑定和\x3ccode\x3eng-if\x3c\/code\x3e）\x3c\/li\x3e\n\x3cli\x3e给 \x3ccode\x3eng-repeat\x3c\/code\x3e 添加 \x3ccode\x3etrack by\x3c\/code\x3e 让 angular 复用已有元素\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e什么是脏数据检查（Dirty checking）\x3c\/h2\x3e\n\x3cp\x3eAngular 是一个 MVVM 前端框架，提供了双向数据绑定。所谓双向数据绑定（Two-way data binding）就是页面元素变化会触发 View-model 中对应数据改变，反过来 View-model 中数据变化也会引发所绑定的 UI 元素数据更新。操作数据就等同于操作 UI。\x3c\/p\x3e\n\x3cp\x3e看似简单，其实水很深。UI 元素变化引发 Model 中数据变化这个通过绑定对应 DOM 事件（例如 \x3ccode\x3einput\x3c\/code\x3e 或 \x3ccode\x3echange\x3c\/code\x3e）可以简单的实现；然而反过来就不是那么容易。\x3c\/p\x3e\n\x3cp\x3e比如有如下代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cp ng-bind=\x26quot;content1\x26quot;\x3e\x3c\/p\x3e\n\x3cp ng-bind=\x26quot;content2\x26quot;\x3e\x3c\/p\x3e\n\x3cbutton ng-click=\x26quot;onClick()\x26quot;\x3eClick Me\x3c\/button\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22content1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22content2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ep\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onClick()\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eClick Me\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e用户点击了 button，angular 执行了一个叫 \x3ccode\x3eonClick\x3c\/code\x3e 的方法。这个 \x3ccode\x3eonClick\x3c\/code\x3e 的方法体对于 angular 来说是黑盒，它到底做了什么不知道。可能改了 \x3ccode\x3e$scope.content1\x3c\/code\x3e 的值，可能改了 \x3ccode\x3e$scope.content2\x3c\/code\x3e 的值，也可能两个值都改了，也可能都没改。\x3c\/p\x3e\n\x3cp\x3e那么 angular 到底应该怎样得知 \x3ccode\x3eonClick()\x3c\/code\x3e 这段代码后是否应该刷新 UI，应该更新哪个 DOM 元素？\x3c\/p\x3e\n\x3cp\x3eangular 必须去挨个检查这些元素对应绑定表达式的值是否有被改变。这就是脏数据检查的由来（脏数据检查以下简称脏检查）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e脏检查如何被触发\x3c\/h2\x3e\n\x3cp\x3eangular 会在可能触发 UI 变更的时候进行脏检查：这句话并不准确。实际上，脏检查是 \x3ca href=\x22https:\/\/docs.angularjs.org\/api\/ng\/type\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-1-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-1\x22 role=\x22math\x22 style=\x22width: 23.617em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 19.504em; height: 0px; font-size: 121%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.631em, 1019.51em, 2.852em, -1000em); top: -2.479em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-2\x22\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-3\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ed\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.027em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-4\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-5\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eg\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-6\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ee\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-7\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3es\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-8\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3et\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.018em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-9\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e]\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-10\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e(\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-11\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eh\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-12\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3et\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.018em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-13\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3et\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.018em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-14\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ep\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-15\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3es\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-16\x22 style=\x22font-family: STIXGeneral-Regular; padding-left: 0.313em;\x22\x3e:\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-17\x22 style=\x22padding-left: 0.313em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-18\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-19\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e\/\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-20\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-21\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-22\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e\/\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-23\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ed\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.027em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-24\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eo\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-25\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ec\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-26\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3es\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-27\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-28\x22 style=\x22font-family: STIXGeneral-Italic; padding-left: 0.188em;\x22\x3ea\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-29\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3en\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-30\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eg\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-31\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eu\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-32\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3el\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.001em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-33\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ea\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-34\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3er\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.023em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-35\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ej\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.001em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-36\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3es\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-37\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-38\x22 style=\x22font-family: STIXGeneral-Italic; padding-left: 0.188em;\x22\x3eo\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-39\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3er\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.023em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-40\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eg\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-41\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-42\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-43\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e\/\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-44\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ea\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-45\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ep\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-46\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-47\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-48\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-49\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e\/\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-50\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3en\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-51\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eg\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-52\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-53\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-54\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e\/\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-55\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3et\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.018em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-56\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ey\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-57\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ep\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-58\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ee\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-59\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-60\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-61\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e\/\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.479em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.317em; border-left: 0px solid; width: 0px; height: 1.21em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3cscript type=\x22math\/tex\x22 id=\x22MathJax-Element-1\x22\x3edigest](https:\/\/docs.angularjs.org\/api\/ng\/type\/\x3c\/script\x3erootScope.Scope#\x3cspan class=\x22MathJax_Preview\x22\x3e\x3c\/span\x3e\x3cspan class=\x22MathJax\x22 id=\x22MathJax-Element-2-Frame\x22 tabindex=\x220\x22 style=\x22\x22\x3e\x3cnobr\x3e\x3cspan class=\x22math\x22 id=\x22MathJax-Span-62\x22 role=\x22math\x22 style=\x22width: 24.817em; display: inline-block;\x22\x3e\x3cspan style=\x22display: inline-block; position: relative; width: 20.496em; height: 0px; font-size: 121%;\x22\x3e\x3cspan style=\x22position: absolute; clip: rect(1.514em, 1020.46em, 2.851em, -1000em); top: -2.479em; left: 0em;\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-63\x22\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-64\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ed\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.027em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-65\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ei\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-66\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3eg\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-67\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3ee\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-68\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3es\x3c\/span\x3e\x3cspan class=\x22mi\x22 id=\x22MathJax-Span-69\x22 style=\x22font-family: STIXGeneral-Italic;\x22\x3et\x3cspan style=\x22display: inline-block; overflow: hidden; height: 1px; width: 0.018em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-70\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e)\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-71\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-72\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-73\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e执\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-74\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-75\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-76\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e行\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-77\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-78\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-79\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e的\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-80\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-81\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-82\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e，\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-83\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-84\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-85\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e另\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-86\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-87\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-88\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e一\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-89\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-90\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-91\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e个\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-92\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-93\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-94\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e更\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-95\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-96\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-97\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e常\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-98\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-99\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-100\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e用\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-101\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-102\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-103\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e的\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-104\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-105\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-106\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e用\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-107\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-108\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-109\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e于\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-110\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-111\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-112\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e触\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-113\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-114\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-115\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e发\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-116\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-117\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-118\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e脏\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-119\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-120\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-121\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e检\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-122\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-123\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-124\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e查\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-125\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-126\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-127\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e的\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-128\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-129\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-130\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e函\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22texatom\x22 id=\x22MathJax-Span-131\x22\x3e\x3cspan class=\x22mrow\x22 id=\x22MathJax-Span-132\x22\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-133\x22\x3e\x3cspan style=\x22font-family: STIXGeneral, \x26quot;Arial Unicode MS\x26quot;, serif; font-size: 83%; font-style: normal; font-weight: normal;\x22\x3e数\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22mo\x22 id=\x22MathJax-Span-134\x22 style=\x22font-family: STIXGeneral-Regular;\x22\x3e[\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; width: 0px; height: 2.479em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/span\x3e\x3cspan style=\x22display: inline-block; overflow: hidden; vertical-align: -0.316em; border-left: 0px solid; width: 0px; height: 1.351em;\x22\x3e\x3c\/span\x3e\x3c\/span\x3e\x3c\/nobr\x3e\x3c\/span\x3e\x3cscript type=\x22math\/tex\x22 id=\x22MathJax-Element-2\x22\x3edigest) 执行的，另一个更常用的用于触发脏检查的函数 [\x3c\/script\x3eapply\x3c\/a\x3e 其实就是 \x3ccode\x3e$digest\x3c\/code\x3e 的一个简单封装（还做了一些抓异常的工作）。\x3c\/p\x3e\n\x3cp\x3e通常写代码时我们无需主动调用 \x3ccode\x3e$apply\x3c\/code\x3e 或 \x3ccode\x3e$digest\x3c\/code\x3e 是因为 angular 在外部对我们的回调函数做了包装。例如常用的 \x3ccode\x3eng-click\x3c\/code\x3e，这是一个指令（\x3ccode\x3eDirective\x3c\/code\x3e），内部实现则 \x3cstrong\x3e类似\x3c\/strong\x3e 于\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22DOM.addEventListener(\x27click\x27, function ($scope) {\n  $scope.$apply(() =\x3e userCode());\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eDOM.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e$scope\x3c\/span\x3e) \x3c\/span\x3e{\n  $scope.$apply(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e userCode());\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到：\x3ccode\x3eng-click\x3c\/code\x3e 帮我们做了 \x3ccode\x3e$apply\x3c\/code\x3e 这个操作。类似的不只是这些事件回调函数，还有 \x3ccode\x3e$http\x3c\/code\x3e、\x3ccode\x3e$timeout\x3c\/code\x3e 等。我听很多人抱怨说 angular 这个库太大了什么都管，其实你可以不用它自带的这些服务（Service），只要你记得手工调用 \x3ccode\x3e$scope.$apply\x3c\/code\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e脏检查的范围\x3c\/h2\x3e\n\x3cp\x3e前面说到：angular 会对所有绑定到 UI 上的表达式做脏检查。其实，在 angular 实现内部，所有绑定表达式都被转换为 \x3ccode\x3e$scope.$watch()\x3c\/code\x3e。每个 \x3ccode\x3e$watch\x3c\/code\x3e 记录了上一次表达式的值。有 \x3ccode\x3eng-bind=\x22a\x22\x3c\/code\x3e 即有 \x3ccode\x3e$scope.$watch(\x27a\x27, callback)\x3c\/code\x3e，而 \x3ccode\x3e$scope.$watch\x3c\/code\x3e 可不会管被 \x3ccode\x3ewatch\x3c\/code\x3e 的表达式是否跟触发脏检查的事件有关。\x3c\/p\x3e\n\x3cp\x3e例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv ng-show=\x26quot;false\x26quot;\x3e\n  \x3cspan id=\x26quot;span1\x26quot; ng-bind=\x26quot;content\x26quot;\x3e\x3c\/span\x3e\n\x3c\/div\x3e\n\x3cspan id=\x26quot;span2\x26quot; ng-bind=\x26quot;content\x26quot;\x3e\x3c\/span\x3e\n\x3cbutton ng-click=\x26quot;\x26quot;\x3eTEST\x3c\/button\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22false\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22span1\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22content\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22span2\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22content\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eTEST\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e问：点击 \x3ccode\x3eTEST\x3c\/code\x3e 这个按钮时会触发脏检查吗？触发几次？\x3c\/p\x3e\n\x3cp\x3e首先：\x3ccode\x3eng-click=\x22\x22\x3c\/code\x3e 什么都没有做。angular 会因为这个事件回调函数什么都没做就不进行脏检查吗？不会。\x3c\/p\x3e\n\x3cp\x3e然后：\x3ccode\x3e#span1\x3c\/code\x3e 被隐藏掉了，会检查绑定在它上面的表达式吗？尽管用户看不到，但是 \x3ccode\x3e$scope.$watch(\x27content\x27, callback)\x3c\/code\x3e 还在。就算你直接把这个 \x3ccode\x3espan\x3c\/code\x3e 元素干掉，只要 watch 表达式还在，要检查的还会检查。\x3c\/p\x3e\n\x3cp\x3e再次：重复的表达式会重复检查吗？会。\x3c\/p\x3e\n\x3cp\x3e最后：别忘了 \x3ccode\x3eng-show=\x22false\x22\x3c\/code\x3e。可能是因为 angular 的开发人员认为这种绑定常量的情况并不多见，所以 \x3ccode\x3e$watch\x3c\/code\x3e 并没有识别所监视的表达式是否是常量。常量依旧会重复检查。\x3c\/p\x3e\n\x3cp\x3e所以：\x3c\/p\x3e\n\x3cp\x3e答：触发三次。一次 \x3ccode\x3efalse\x3c\/code\x3e，一次 \x3ccode\x3econtent\x3c\/code\x3e，一次 \x3ccode\x3econtent\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e所以说一个绑定表达式只要放在当前 DOM 树里就会被监视，不管它是否可见，不管它是否被放在另一个 Tab 里，更不管它是否与用户操作相关。\x3c\/p\x3e\n\x3cp\x3e另外，就算在不同 \x3ccode\x3eController\x3c\/code\x3e 里构造的 \x3ccode\x3e$scope\x3c\/code\x3e 也会互相影响，别忘了 angular 还有全局的 \x3ccode\x3e$rootScope\x3c\/code\x3e，你还可以 \x3ccode\x3e$scope.$emit\x3c\/code\x3e。angular 无法保证你绝对不会在一个 \x3ccode\x3econtroller\x3c\/code\x3e 里更改另一个 \x3ccode\x3econtroller\x3c\/code\x3e 生成的 \x3ccode\x3escope\x3c\/code\x3e，包括 自定义指令（Directive）生成的 \x3ccode\x3escope\x3c\/code\x3e 和 \x3ccode\x3eAngular 1.5\x3c\/code\x3e 里新引入的组件（Component）。\x3c\/p\x3e\n\x3cp\x3e所以说不要怀疑用户在输入表单时 angular 会不会监听页面左边导航栏的变化。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e脏检查与运行效率\x3c\/h2\x3e\n\x3cp\x3e脏检查慢吗？\x3c\/p\x3e\n\x3cp\x3e说实话脏检查效率是不高，但是也谈不上有多慢。简单的数字或字符串比较能有多慢呢？十几个表达式的脏检查可以直接忽略不计；上百个也可以接受；成百上千个就有很大问题了。绑定大量表达式时请注意所绑定的表达式效率。建议注意一下几点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e表达式（以及表达式所调用的函数）中少写太过复杂的逻辑\x3c\/li\x3e\n\x3cli\x3e不要连接太长的 \x3ccode\x3efilter\x3c\/code\x3e（往往 filter 里都会遍历并且生成新数组）\x3c\/li\x3e\n\x3cli\x3e不要访问 DOM 元素。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e使用单次绑定减少绑定表达式数量\x3c\/h2\x3e\n\x3cp\x3e单次绑定（\x3ca href=\x22https:\/\/docs.angularjs.org\/guide\/expression#one-time-binding\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eOne-time binding\x3c\/a\x3e 是 Angular 1.3 就引入的一种特殊的表达式，它以 \x3ccode\x3e::\x3c\/code\x3e 开头，当脏检查发现这种表达式的值不为 \x3ccode\x3eundefined\x3c\/code\x3e 时就认为此表达式已经稳定，并取消对此表达式的监视。这是一种行之有效的减少绑定表达式数量的方法，与 \x3ccode\x3eng-repeat\x3c\/code\x3e 连用效果更佳（下文会提到），但过度使用也容易引发 bug。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e善用 \x3ccode\x3eng-if\x3c\/code\x3e 减少绑定表达式的数量\x3c\/h2\x3e\n\x3cp\x3e如果你认为 \x3ca href=\x22https:\/\/docs.angularjs.org\/api\/ng\/directive\/ngIf\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eng-if\x3c\/a\x3e 就是另一种用于隐藏、显示 DOM 元素的方法你就大错特错了。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eng-if\x3c\/code\x3e 不仅可以减少 DOM 树中元素的数量（而非像 \x3ccode\x3eng-hide\x3c\/code\x3e 那样仅仅只是加个 \x3ccode\x3edisplay: none\x3c\/code\x3e），每一个 \x3ccode\x3eng-if\x3c\/code\x3e 拥有自己的 \x3ccode\x3escope\x3c\/code\x3e，\x3ccode\x3eng-if\x3c\/code\x3e 下面的 \x3ccode\x3e$watch\x3c\/code\x3e 表达式都是注册在 \x3ccode\x3eng-if\x3c\/code\x3e 自己 \x3ccode\x3escope\x3c\/code\x3e 中。当 \x3ccode\x3eng-if\x3c\/code\x3e 变为 \x3ccode\x3efalse\x3c\/code\x3e，\x3ccode\x3eng-if\x3c\/code\x3e 下的 \x3ccode\x3escope\x3c\/code\x3e 被销毁，注册在这个 \x3ccode\x3escope\x3c\/code\x3e 里的绑定表达式也就随之销毁了。\x3c\/p\x3e\n\x3cp\x3e考虑这种 Tab 选项卡实现：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cul\x3e\n  \x3cli ng-class=\x26quot;{ selected: selectedTab === 1 }\x26quot;\x3eTab 1 title\x3c\/li\x3e\n  \x3cli ng-class=\x26quot;{ selected: selectedTab === 1 }\x26quot;\x3eTab 2 title\x3c\/li\x3e\n  \x3cli ng-class=\x26quot;{ selected: selectedTab === 1 }\x26quot;\x3eTab 3 title\x3c\/li\x3e\n  \x3cli ng-class=\x26quot;{ selected: selectedTab === 1 }\x26quot;\x3eTab 4 title\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv ng-show=\x26quot;selectedTab === 1\x26quot;\x3e[[Tab 1 body...]]\x3c\/div\x3e\n\x3cdiv ng-show=\x26quot;selectedTab === 2\x26quot;\x3e[[Tab 2 body...]]\x3c\/div\x3e\n\x3cdiv ng-show=\x26quot;selectedTab === 3\x26quot;\x3e[[Tab 3 body...]]\x3c\/div\x3e\n\x3cdiv ng-show=\x26quot;selectedTab === 4\x26quot;\x3e[[Tab 4 body...]]\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{ selected: selectedTab === 1 }\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eTab 1 title\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{ selected: selectedTab === 1 }\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eTab 2 title\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{ selected: selectedTab === 1 }\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eTab 3 title\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22{ selected: selectedTab === 1 }\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3eTab 4 title\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 1 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 2 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 3\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 3 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-show\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 4\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 4 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对于这种会反复隐藏、显示的元素，通常人们第一反应都是使用 \x3ccode\x3eng-show\x3c\/code\x3e 或 \x3ccode\x3eng-hide\x3c\/code\x3e 简单的用 \x3ccode\x3edisplay: none\x3c\/code\x3e 把元素设置为不可见。\x3c\/p\x3e\n\x3cp\x3e然而入上文所说，肉眼不可见不代表不会跑脏检查。如果将 \x3ccode\x3eng-show\x3c\/code\x3e 替换为 \x3ccode\x3eng-if\x3c\/code\x3e 或 \x3ccode\x3eng-switch-when\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv ng-if=\x26quot;selectedTab === 1\x26quot;\x3e[[Tab 1 body...]]\x3c\/div\x3e\n\x3cdiv ng-if=\x26quot;selectedTab === 2\x26quot;\x3e[[Tab 2 body...]]\x3c\/div\x3e\n\x3cdiv ng-if=\x26quot;selectedTab === 3\x26quot;\x3e[[Tab 3 body...]]\x3c\/div\x3e\n\x3cdiv ng-if=\x26quot;selectedTab === 4\x26quot;\x3e[[Tab 4 body...]]\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 1 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 2\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 2 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 3\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 3 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22selectedTab === 4\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e[[Tab 4 body...]]\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有如下优点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e首先 DOM 树中的元素个数显著减少至四分之一，降低内存占用\x3c\/li\x3e\n\x3cli\x3e其次 \x3ccode\x3e$watch\x3c\/code\x3e 表达式也减少至四分之一，提升脏检查循环的速度\x3c\/li\x3e\n\x3cli\x3e如果这个 tab 下面有 \x3ccode\x3econtroller\x3c\/code\x3e（例如每个 tab 都被封装为一个组件），那么仅当这个 tab 被选中时该 \x3ccode\x3econtroller\x3c\/code\x3e 才会执行，可以减少各页面的互相干扰\x3c\/li\x3e\n\x3cli\x3e如果 \x3ccode\x3econtroller\x3c\/code\x3e 中调用接口获取数据，那么仅当对应 \x3ccode\x3etab\x3c\/code\x3e 被选中时才会加载，避免网络拥挤\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e当然也有缺点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3eDOM 重建本身费时间\x3c\/li\x3e\n\x3cli\x3e如果 tab 下有 \x3ccode\x3econtroller\x3c\/code\x3e，那么每次该 tab 被选中时 \x3ccode\x3econtroller\x3c\/code\x3e 都会被执行\x3c\/li\x3e\n\x3cli\x3e如果在 \x3ccode\x3econtroller\x3c\/code\x3e 里面调接口获取数据，那么每次该 tab 被选中时都会重新加载\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e各位读者自己取舍。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e当脏检查遇上数组\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3eng-repeat\x3c\/code\x3e！这就更有（e）趣（xin）了。通常的绑定只是去监听一个值的变化（绑定对象也是绑定到对象里的某个成员），而 \x3ccode\x3eng-repeat\x3c\/code\x3e 却要监视一整个数组对象的变化。例如有：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cul ng-init=\x26quot;array = [\n  { value: 1 },\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n]\x26quot;\x3e\n  \x3cli ng-repeat=\x26quot;item in array\x26quot; ng-bind=\x26quot;item.value\x26quot;\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-init\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22array = [\n  { value: 1 },\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n]\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-repeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in array\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.value\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e会生成 4 个 \x3ccode\x3eli\x3c\/code\x3e 元素\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e1\x3c\/li\x3e\n\x3cli\x3e2\x3c\/li\x3e\n\x3cli\x3e3\x3c\/li\x3e\n\x3cli\x3e4\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e没有问题。如果我添加一个按钮如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cbutton ng-click=\x26quot;array.shift()\x26quot;\x3e删除第一个元素\x3c\/button\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-click\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22array.shift()\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e删除第一个元素\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e请考虑：当用户点击这个按钮会发生什么？\x3c\/p\x3e\n\x3cp\x3e我们一步一步分析。开始的时候，angular 记录了 array 的初始状态为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[\n  { \x26quot;value\x26quot;: 1 },\n  { \x26quot;value\x26quot;: 2 },\n  { \x26quot;value\x26quot;: 3 },\n  { \x26quot;value\x26quot;: 4 }\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e[\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e }\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当用户点击按钮后，数组的第一个元素被删除了，array 变为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[\n  { \x26quot;value\x26quot;: 2 },\n  { \x26quot;value\x26quot;: 3 },\n  { \x26quot;value\x26quot;: 4 }\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e[\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e }\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e两者比较：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3ccode\x3earray.length = 4\x3c\/code\x3e =\x26gt; \x3ccode\x3earray.length = 3\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3earray[0].value = 1\x3c\/code\x3e =\x26gt; \x3ccode\x3earray[0].value = 2\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3earray[1].value = 2\x3c\/code\x3e =\x26gt; \x3ccode\x3earray[1].value = 3\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3earray[2].value = 3\x3c\/code\x3e =\x26gt; \x3ccode\x3earray[2].value = 4\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3earray[3].value = 4\x3c\/code\x3e =\x26gt; \x3ccode\x3earray[3].value = undefined\x3c\/code\x3e （\x3ccode\x3earray[4]\x3c\/code\x3e 为 \x3ccode\x3eundefined\x3c\/code\x3e，则 \x3ccode\x3eundefined.value\x3c\/code\x3e 为 undefined，见 \x3ca href=\x22https:\/\/docs.angularjs.org\/guide\/expression#forgiving\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAngular 表达式的说明\x3c\/a\x3e）\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e如同你所见：angular 经过比较，看到的是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e数组长度减少了 1\x3c\/li\x3e\n\x3cli\x3e数组第 1 个元素的 value 被改为 2\x3c\/li\x3e\n\x3cli\x3e数组第 2 个元素的 value 被改为 3\x3c\/li\x3e\n\x3cli\x3e数组第 3 个元素的 value 被改为 4\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e反应到 DOM 元素上就是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e第 1 个 \x3ccode\x3eli\x3c\/code\x3e 内容改为 2\x3c\/li\x3e\n\x3cli\x3e第 2 个 \x3ccode\x3eli\x3c\/code\x3e 内容改为 3\x3c\/li\x3e\n\x3cli\x3e第 3 个 \x3ccode\x3eli\x3c\/code\x3e 内容改为 4\x3c\/li\x3e\n\x3cli\x3e第 4 个 \x3ccode\x3eli\x3c\/code\x3e 删掉\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e可以看到，删除一个元素导致了整个 \x3ccode\x3eul\x3c\/code\x3e 序列的刷新。要知道 DOM 操作要比 JS 变量操作要慢得多，类似这样的无用操作最好能想办法避免。\x3c\/p\x3e\n\x3cp\x3e那么问题出在哪里呢？用户删除了数组的第一个元素，导致了整个数组元素前移；然而 angular 没法得知用户做了这样一个删除操作，只能傻傻的按下标一个一个比。\x3c\/p\x3e\n\x3cp\x3e那么只要引入一种机制来标记数组的每一项就好了吧。于是 angular 引入了 \x3ccode\x3etrack by\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3e详解 \x3ca href=\x22https:\/\/docs.angularjs.org\/api\/ng\/directive\/ngRepeat#tracking-and-duplicates\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etrack by\x3c\/a\x3e\n\x3c\/h2\x3e\n\x3cp\x3e用来标记数组元素的一定是数组里类似 ID 的某个值。这个值一定要符合以下这两个特点。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e不能重复。ID 重复了什么鬼\x3c\/li\x3e\n\x3cli\x3e值一定要简单。ID 是用于比较相等的，有时候由于算法不同可能还要比较大小，处于速度考虑不能太复杂。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e基于这两个特点。如果用户没有给 \x3ccode\x3eng-repeat\x3c\/code\x3e 指定 \x3ccode\x3etrack by\x3c\/code\x3e 的表达式，则默认为内置函数 \x3ca href=\x22https:\/\/docs.angularjs.org\/api\/ng\/directive\/ngRepeat#Usage\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e$id\x3c\/a\x3e。\x3ccode\x3e$id\x3c\/code\x3e 会检查 \x3ccode\x3eitem\x3c\/code\x3e 中有没有一个名为 \x3ccode\x3e$$hashKey` 的成员。如有，返回其值；如没有，则生成一个新的唯一值写入。这就是数组中那个奇怪的 `$$hashKey\x3c\/code\x3e 成员来历，默认值是 \x3ccode\x3e\x22object:X\x22\x3c\/code\x3e（你问我为什么是个字符串而不是数字？我怎么知道。。。）\x3c\/p\x3e\n\x3cp\x3e还是前面的问题，引入 \x3ccode\x3etrack by\x3c\/code\x3e 后再来看。因为没有指定 \x3ccode\x3etrack by\x3c\/code\x3e，则默认为 \x3ccode\x3e$id(item)\x3c\/code\x3e，实际为 \x3ccode\x3e$$hashKey\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cul ng-init=\x26quot;array = [\n  { value: 1 },\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n]\x26quot;\x3e\n  \x3cli ng-repeat=\x26quot;item in array track by $id(item)\x26quot; ng-bind=\x26quot;item.value\x26quot;\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-init\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22array = [\n  { value: 1 },\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n]\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-repeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in array track by $id(item)\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.value\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e开始的时候，\x3ccode\x3e$id(item)\x3c\/code\x3e 给数组中所有项创建了 \x3ccode\x3e$$hashKey\x3c\/code\x3e\x3c\/p\x3e\n\x3cp\x3e这时 angular 记录了 array 的初始状态为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[\n  { \x26quot;value\x26quot;: 1, \x26quot;$$hashKey\x26quot;: \x26quot;object:1\x26quot; },\n  { \x26quot;value\x26quot;: 2, \x26quot;$$hashKey\x26quot;: \x26quot;object:2\x26quot; },\n  { \x26quot;value\x26quot;: 3, \x26quot;$$hashKey\x26quot;: \x26quot;object:3\x26quot; },\n  { \x26quot;value\x26quot;: 4, \x26quot;$$hashKey\x26quot;: \x26quot;object:4\x26quot; }\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e[\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:1\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:2\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:3\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:4\x22\x3c\/span\x3e }\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e当用户点击按钮后，数组的第一个元素被删除了，array 变为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[\n  { \x26quot;value\x26quot;: 2, \x26quot;$$hashKey\x26quot;: \x26quot;object:2\x26quot; },\n  { \x26quot;value\x26quot;: 3, \x26quot;$$hashKey\x26quot;: \x26quot;object:3\x26quot; },\n  { \x26quot;value\x26quot;: 4, \x26quot;$$hashKey\x26quot;: \x26quot;object:4\x26quot; }\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22json hljs\x22\x3e\x3ccode class=\x22json\x22\x3e[\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:2\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:3\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3e\x22value\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:4\x22\x3c\/span\x3e }\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e先比较 \x3ccode\x3etrack by\x3c\/code\x3e 的元素，这里为 \x3ccode\x3e$id(item)\x3c\/code\x3e，即 \x3ccode\x3e$$hashKey\x3c\/code\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:1\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:2\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:2\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:3\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:3\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:4\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:4\x22\x3c\/code\x3e =\x26gt; undefined\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e两者对不上，说明数组被做了增删元素或者移动元素的操作。将其规整\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:1\x22\x3c\/code\x3e =\x26gt; undefined\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:2\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:2\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:3\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:3\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:4\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:4\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e那么显然，第一个元素被删除了。再比较剩余的元素\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3ccode\x3earray[0].value = 2\x3c\/code\x3e =\x26gt; \x3ccode\x3earray[0].value = 2\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3earray[1].value = 3\x3c\/code\x3e =\x26gt; \x3ccode\x3earray[1].value = 3\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3earray[2].value = 4\x3c\/code\x3e =\x26gt; \x3ccode\x3earray[2].value = 4\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e结论是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e原数组第一个元素被删除\x3c\/li\x3e\n\x3cli\x3e其他没变\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3eangular 通过将新旧数组的 \x3ccode\x3etrack by\x3c\/code\x3e 元素做 diff 猜测用户的行为，最大可能的减少 DOM 树的操作，这就是 \x3ccode\x3etrack by\x3c\/code\x3e 的用处。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e默认 track by 的坑\x3c\/h2\x3e\n\x3cp\x3eSo far so good! 然而需求某天有变，程序员小哥决定用 filter 给数组做 map 后再渲染。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cul ng-init=\x26quot;array = [\n  { value: 1 },\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n]\x26quot;\x3e\n  \x3cli ng-repeat=\x26quot;item in array | myMap\x26quot; ng-bind=\x26quot;item.value\x26quot;\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-init\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22array = [\n  { value: 1 },\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n]\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-repeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in array | myMap\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item.value\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eul\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3emap 定义如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22xxModule.filter(\x27map\x27, function () {\n  return arr =\x3e arr.map(item =\x3e ({ value: item.value \x2b 1 }));\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3exxModule.filter(\x3cspan class=\x22hljs-string\x22\x3e\x27map\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3earr\x3c\/span\x3e =\x26gt;\x3c\/span\x3e arr.map(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eitem\x3c\/span\x3e =\x26gt;\x3c\/span\x3e ({ \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: item.value \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e }));\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eng-repeat\x3c\/code\x3e 执行时先计算表达式 \x3ccode\x3earray | myMap\x3c\/code\x3e 的值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22arrayForNgRepeat = [\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n  { value: 5 },\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3earrayForNgRepeat = [\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e },\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e注意数组 \x3ccode\x3earrayForNgRepeat\x3c\/code\x3e 和原来的数组 \x3ccode\x3earray\x3c\/code\x3e 不是同一个引用，因为 \x3ccode\x3efilter\x3c\/code\x3e 里的 map 操作生成了一个新数组，每一项都是新对象，跟原数组无关。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eng-repeat\x3c\/code\x3e 时，angular 发现用户没有指定 \x3ccode\x3etrack by\x3c\/code\x3e，按照默认逻辑，使用 \x3ccode\x3e$id(item)\x3c\/code\x3e 作为 \x3ccode\x3etrack by\x3c\/code\x3e，添加 \x3ccode\x3e$$hashKey\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22arrayForNgRepeat = [\n  { value: 2, \x26quot;$$hashKey\x26quot;: \x26quot;object:1\x26quot; },\n  { value: 3, \x26quot;$$hashKey\x26quot;: \x26quot;object:2\x26quot; },\n  { value: 4, \x26quot;$$hashKey\x26quot;: \x26quot;object:3\x26quot; },\n  { value: 5, \x26quot;$$hashKey\x26quot;: \x26quot;object:4\x26quot; },\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3earrayForNgRepeat = [\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:1\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:2\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:3\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:4\x22\x3c\/span\x3e },\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e生成 DOM：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e2\x3c\/li\x3e\n\x3cli\x3e3\x3c\/li\x3e\n\x3cli\x3e4\x3c\/li\x3e\n\x3cli\x3e5\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这里请再次注意：数组 arrayForNgRepeat 与原始数组 array 没有任何关系，数组本身是不同的引用，数组里的每一项也是不同引用。修改新数组的成员不会影响到原来的数组。\x3c\/p\x3e\n\x3cp\x3e这时 array 的值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22array = [\n  { value: 1 },\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3earray = [\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e },\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这时用户的某个无关操作触发了脏检查。针对 \x3ccode\x3eng-repeat\x3c\/code\x3e 表达式，首先计算 \x3ccode\x3earray | myMap\x3c\/code\x3e 的值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22newArrayForNgRepeat = [\n  { value: 2 },\n  { value: 3 },\n  { value: 4 },\n  { value: 5 },\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3enewArrayForNgRepeat = [\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e },\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e先比较 \x3ccode\x3etrack by\x3c\/code\x3e 的元素。用户没有指定，默认为 \x3ccode\x3e$id(item)\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e$id\x3c\/code\x3e 发现数组中有一些元素没有 \x3ccode\x3e$$hashKey`，则给它们填充新 `$$hashKey\x3c\/code\x3e，结果为\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22newArrayForNgRepeat = [\n  { value: 2, \x26quot;$$hashKey\x26quot;: \x26quot;object:5\x26quot; },\n  { value: 3, \x26quot;$$hashKey\x26quot;: \x26quot;object:6\x26quot; },\n  { value: 4, \x26quot;$$hashKey\x26quot;: \x26quot;object:7\x26quot; },\n  { value: 5, \x26quot;$$hashKey\x26quot;: \x26quot;object:8\x26quot; },\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3enewArrayForNgRepeat = [\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:5\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:6\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:7\x22\x3c\/span\x3e },\n  { \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22$$hashKey\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22object:8\x22\x3c\/span\x3e },\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这时两边的 \x3ccode\x3etrack by\x3c\/code\x3e 的实际结果为\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:1\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:5\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:2\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:6\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:3\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:7\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:4\x22\x3c\/code\x3e =\x26gt; \x3ccode\x3e\x22object:8\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e两者对不上，说明数组被做了增删元素或者移动元素的操作。将其规整\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:1\x22\x3c\/code\x3e =\x26gt; undefined\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:2\x22\x3c\/code\x3e =\x26gt; undefined\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:3\x22\x3c\/code\x3e =\x26gt; undefined\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e\x22object:4\x22\x3c\/code\x3e =\x26gt; undefined\x3c\/li\x3e\n\x3cli\x3eundefined =\x26gt; \x3ccode\x3e\x22object:5\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3eundefined =\x26gt; \x3ccode\x3e\x22object:6\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3eundefined =\x26gt; \x3ccode\x3e\x22object:7\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3eundefined =\x26gt; \x3ccode\x3e\x22object:8\x22\x3c\/code\x3e\n\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e结论是：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e原数组全部 4 个元素被删除\x3c\/li\x3e\n\x3cli\x3e新添加了 4 个元素\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e于是 angular 把原来所有 \x3ccode\x3eli\x3c\/code\x3e 删除，再创建 4 个新的 \x3ccode\x3eli\x3c\/code\x3e 元素，填充它们的 \x3ccode\x3etextContent\x3c\/code\x3e，放到 \x3ccode\x3eul\x3c\/code\x3e 里\x3c\/p\x3e\n\x3cp\x3e如果怀疑我说的话，请自己在浏览器里测试。你可以清楚的看到调试工具里 DOM 树的闪烁\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e\n\x3ccode\x3etrack by\x3c\/code\x3e 与性能\x3c\/h2\x3e\n\x3cp\x3e不恰当的 \x3ccode\x3eng-repeat\x3c\/code\x3e 会造成 DOM 树反复重新构造，拖慢浏览器响应速度，造成页面闪烁。除了上面这种比较极端的情况，如果一个列表频繁拉取 Server 端数据自刷新的话也一定要手工添加 \x3ccode\x3etrack by\x3c\/code\x3e，因为接口给前端的数据是不可能包含 \x3ccode\x3e$$hashKey\x3c\/code\x3e 这种东西的，于是结果就造成列表频繁的重建。\x3c\/p\x3e\n\x3cp\x3e其实不必考虑那么多，总之加上没坏处，至少可以避免 angular 生成 \x3ccode\x3e$$hashKey\x3c\/code\x3e 这种奇奇怪怪的东西。所以\x3c\/p\x3e\n\x3cp\x3e请给 \x3ccode\x3eng-repeat\x3c\/code\x3e 手工添加 \x3ccode\x3etrack by\x3c\/code\x3e！\x3c\/p\x3e\n\x3cp\x3e重要的事情再说一遍\x3c\/p\x3e\n\x3cp\x3e请给 \x3ccode\x3eng-repeat\x3c\/code\x3e 手工添加 \x3ccode\x3etrack by\x3c\/code\x3e！\x3c\/p\x3e\n\x3cp\x3e通常列表都是请求接口从数据库中读取返回的。通常数据库中的记录都有一个 \x3ccode\x3eid\x3c\/code\x3e 字段做主键，那么这时使用 \x3ccode\x3eid\x3c\/code\x3e 作为 \x3ccode\x3etrack by\x3c\/code\x3e 的字段是最佳选择。如果没有，可以选择一些业务字段但是确保不会重复的。例如一个连表头都是动态生成的表格，表头就可以使用其字段名作为 \x3ccode\x3etrack by\x3c\/code\x3e 的字段（对象的 key 是不会重复的）。\x3c\/p\x3e\n\x3cp\x3e如果真的找不到用于 \x3ccode\x3etrack by\x3c\/code\x3e 的字段，让 angular 自动生成 \x3ccode\x3e$$hashKey\x3c\/code\x3e 也不是不可以，但是切记检查有没有出现 DOM 元素不断重刷的现象，除了仔细看调试工具的 DOM 树是否闪烁之外，给列表中的元素添加一个特别的标记（比如 \x3ccode\x3estyle=\x22background: red\x22\x3c\/code\x3e），也是一个行之有效的方法（如果这个标记被意外清除，说明原来的 DOM 元素被删除了）。\x3c\/p\x3e\n\x3cp\x3e除非真的没办法，不推荐使用 \x3ccode\x3e$index\x3c\/code\x3e 作为 \x3ccode\x3etrack by\x3c\/code\x3e 的字段。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e\n\x3ccode\x3etrack by\x3c\/code\x3e 与 \x3ca href=\x22https:\/\/docs.angularjs.org\/guide\/expression#one-time-binding\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e单次绑定\x3c\/a\x3e 连用\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3etrack by\x3c\/code\x3e 只是让 angular 复用已有 DOM 元素。数组每个子元素内部绑定表达式的脏检查还是免不了的。然而对于实际应用场景，往往是数组整体改变（例如分页），数组每一项通常却不会单独变化。这时就可以通过使用单次绑定大量减少 \x3ccode\x3e$watch\x3c\/code\x3e 表达式的数量。例如\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cli ng-repeat=\x26quot;item in array track by item.id\x26quot;\x3e\n  \x3cdiv\x3ea: \x3cspan ng-bind=\x26quot;::item.a\x26quot;\x3e\x3c\/span\x3e\x3c\/div\x3e\n  \x3cdiv\x3eb: \x3cspan ng-bind=\x26quot;::item.b\x26quot;\x3e\x3c\/span\x3e\x3c\/div\x3e\n  \x3cdiv\x3ec: \x3cspan ng-bind=\x26quot;::item.c\x26quot;\x3e\x3c\/span\x3e\x3c\/div\x3e\n  \x3cdiv\x3ed: \x3cspan ng-bind=\x26quot;::item.d\x26quot;\x3e\x3c\/span\x3e\x3c\/div\x3e\n  \x3cdiv\x3ee: \x3cspan ng-bind=\x26quot;::item.e\x26quot;\x3e\x3c\/span\x3e\x3c\/div\x3e\n\x3c\/li\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-repeat\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22item in array track by item.id\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3ea: \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22::item.a\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3eb: \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22::item.b\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3ec: \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22::item.c\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3ed: \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22::item.d\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3ee: \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eng-bind\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22::item.e\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eli\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除非 \x3ccode\x3etrack by\x3c\/code\x3e 字段改变造成的 DOM 树重建，\x3ccode\x3eitem.a\x3c\/code\x3e 等一旦显示在页面上后就不会再被监视。\x3c\/p\x3e\n\x3cp\x3e如果每行有 5 个绑定表达式，每页显示 20 条记录，通过这种方法每页就可以减少 \x3ccode\x3e5 * 20 = 100\x3c\/code\x3e 个绑定表达式的监视。\x3c\/p\x3e\n\x3cp\x3e注意：如果在 \x3ccode\x3eng-repeat\x3c\/code\x3e 内部使用的单次绑定，就一定不要用 \x3ccode\x3etrack by $index\x3c\/code\x3e。否则用户切换下一页页面也不会更新。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e使用分页减少绑定个数\x3c\/h2\x3e\n\x3cp\x3e这个就不多说了。能后端分页的就后端分页；接口不支持分页的也要前端分页；前端分页时可以简单的写个 \x3ccode\x3efilter\x3c\/code\x3e 用 \x3ccode\x3eArray.prototype.slice\x3c\/code\x3e 实现。\x3c\/p\x3e\n\x3cp\x3e能直接减少数组中项的个数就不要在 \x3ccode\x3eng-repeat\x3c\/code\x3e 中每项上写 \x3ccode\x3eng-show\x3c\/code\x3e 或 \x3ccode\x3eng-if\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e写在最后的话\x3c\/h2\x3e\n\x3cp\x3e脏检查这个东西，其实在三大主流前端框架中或多或少都有涉及。React 每次生成新的 \x3ccode\x3eVirtual DOM\x3c\/code\x3e，与旧 \x3ccode\x3eVirtual DOM\x3c\/code\x3e 的 diff 操作本来就可以看做一次脏检查。Vue 从相对彻底的抛弃了脏检查机制，使用 \x3ccode\x3eProperty\x3c\/code\x3e 主动触发 UI 更新，但是 Vue 仍然不能抛弃 \x3ccode\x3etrack by\x3c\/code\x3e 这个东西。\x3c\/p\x3e\n\x3cp\x3e既然脏检查在三大主流框架里或多或少都有所保留，为什么唯独 Angular 的性能被广为诟病呢？其实还是说在 Angular 1 的机制下，脏检查的执行范围过大以及频率太过频繁了。Angular 1.5 从 Angular 2\x2b 引入了组件（\x3ccode\x3eComponent\x3c\/code\x3e）的概念，然而形似而神非，其实只是一个特殊的 \x3ccode\x3eDirective\x3c\/code\x3e 马甲而已，并不能将脏检查的执行范围限制在各个组件之内，所以并不能本质的改变 Angular 1 脏检查机制效率低下的现状。\x3c\/p\x3e\n\x3cp\x3e也许 Angular 1 终将被淘汰。但 Angular 作为前端第一个 MVVM 框架，着实引发了前端框架更新换代的热潮。百足之虫死而不僵，不管怎么样我还得继续维护停留在电脑里的 Angular 1 项目。不过也许老板哪天大发慈悲给我们用 Vue 重构整个项目的时间，将来的事情谁知道呢？\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>Angular 1 深度解析：脏数据检查与 angular 性能优化</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000010433675">https://segmentfault.com/a/1190000010433675</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/684i8td0z4v/" target="_blank">https://alili.tech/archive/684i8td0z4v/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>