<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="cordova研习笔记(一) —— 初试牛刀之cordova.js概要"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>cordova研习笔记(一) —— 初试牛刀之cordova.js概要 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/zuljw35yls/",
				"appid": "1613049289050283", 
				"title": "cordova研习笔记(一) —— 初试牛刀之cordova.js概要 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-16T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/gamm8fcf9sq/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/30qn790unue/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&text=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&text=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&title=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&is_video=false&description=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&title=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&title=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&title=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fzuljw35yls%2f&title=cordova%e7%a0%94%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e4%b8%80%29%20%e2%80%94%e2%80%94%20%e5%88%9d%e8%af%95%e7%89%9b%e5%88%80%e4%b9%8bcordova.js%e6%a6%82%e8%a6%81"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">cordova研习笔记(一) —— 初试牛刀之cordova.js概要</h1><div class="meta"><div class="postdate"><time datetime="2019-01-16" itemprop="datePublished">2019-01-16</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e来新公司的第一个任务，研究hybrid App中间层实现原理，做中间层插件开发。这个任务挺有意思，也很有挑战性，之前在DCloud虽然做过5\x2b App开发，但是中间层的东西确实涉及不多。本系列文章属于系列开篇cordova学习笔记，本文主要是从零开始搭建一个cordova工程，并了解cordova开发的基本内容。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/guide\/cli\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e创建第一个App\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3eApache Cordova是一个开源的移动开发框架。允许你用标准的web技术-HTML5,CSS3和JavaScript做跨平台开发。 应用在每个平台的具体执行被封装了起来，并依靠符合标准的API绑定去访问每个设备的功能，比如说：传感器、数据、网络状态等。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009199804\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009199804\x22 alt=\x22cordova应用架构\x22 title=\x22cordova应用架构\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eCordova官网：\x3ca href=\x22http:\/\/cordova.apache.org\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/cordova.apache.org\/\x3c\/a\x3e\x3cbr\x3eCordova中文网：\x3ca href=\x22http:\/\/cordova.axuer.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/cordova.axuer.com\/\x3c\/a\x3e\x3cbr\x3eCordova中文站：\x3ca href=\x22http:\/\/www.cordova.org.cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.cordova.org.cn\/\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e\x3cstrong\x3e1.安装 Cordova CLI\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install -g cordova\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e -g cordova\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装完成可以通过\x3ccode\x3ecordova -v\x3c\/code\x3e查看版本号，本文是在V6.5.0下构建。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e\x3cstrong\x3e2.新建项目\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova create \x3cPATH\x3e [ID [NAME [CONFIG]]] [options]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs inform7\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova create \x26lt;PATH\x26gt; \x3cspan class=\x22hljs-comment\x22\x3e[ID \x3cspan class=\x22hljs-comment\x22\x3e[NAME \x3cspan class=\x22hljs-comment\x22\x3e[CONFIG]\x3c\/span\x3e]\x3c\/span\x3e]\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e[options]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3eCreate a Cordova project：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3ePATH —— 项目路径\x3c\/li\x3e\n\x3cli\x3eID —— app 包名 - used in \x26lt;widget id\x26gt;\x3c\/li\x3e\n\x3cli\x3eNAME —— app 名称\x3c\/li\x3e\n\x3cli\x3eCONFIG —— 配置文件地址 json string whose key\/values will be included in [PATH]\/.cordova\/config.json\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3eOptions：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e--template=\x26lt;PATH|NPM PACKAGE|GIT URL\x26gt; ... use a custom template located locally, in NPM, or GitHub.\x3c\/li\x3e\n\x3cli\x3e--copy-from|src=\x26lt;PATH\x26gt; .................. deprecated, use --template instead.\x3c\/li\x3e\n\x3cli\x3e--link-to=\x26lt;PATH\x26gt; ........................ symlink to custom www assets without creating a copy.\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cstrong\x3eExample：\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova create hello-cordova io.zhaomenghuan HelloCordova\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova create hello-cordova io\x3cspan class=\x22hljs-selector-class\x22\x3e.zhaomenghuan\x3c\/span\x3e HelloCordova\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这将会为你的cordova应用创造必须的目录。默认情况下，cordova create命令生成基于web的应用程序的骨骼，项目的主页是 www\/index.html 文件。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009199805\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009199805\x22 alt=\x22图为创建好的项目\x22 title=\x22图为创建好的项目\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e\x3cstrong\x3e3.添加平台\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e所有后续命令都需要在项目目录或者项目目录的任何子目录运行：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cd hello-cordova\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e hello-cordova\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e给你的App添加目标平台。我们将会添加\x3ccode\x3eios\x3c\/code\x3e和\x3ccode\x3eandroid\x3c\/code\x3e平台，并确保他们保存在了config.xml中：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova platform add ios --save\ncordova platform add android --save\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode\x3ecordova \x3cspan class=\x22hljs-built_in\x22\x3eplatform\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e ios \x3cspan class=\x22hljs-comment\x22\x3e--save\x3c\/span\x3e\ncordova \x3cspan class=\x22hljs-built_in\x22\x3eplatform\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e android \x3cspan class=\x22hljs-comment\x22\x3e--save\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行\x3ccode\x3eadd\x3c\/code\x3e或者\x3ccode\x3eremove\x3c\/code\x3e平台的命令将会影响项目\x3ccode\x3eplatforms\x3c\/code\x3e的内容，在这个目录中每个指定平台都有一个子目录。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e注意：在你使用CLI创建应用的时候， 不要 修改\/platforms\/目录中的任何文件。当准备构建应用或者重新安装插件时这个目录通常会被重写。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e检查你当前平台设置状况：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova platform is\n\nInstalled platforms:\n  android 6.1.2\nAvailable platforms:\n  amazon-fireos ~3.6.3 (deprecated)\n  blackberry10 ~3.8.0\n  browser ~4.1.0\n  firefoxos ~3.6.3\n  webos ~3.7.0\n  windows ~4.4.0\n  wp8 ~3.8.2 (deprecated)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ecordova\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eplatform\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eis\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-selector-tag\x22\x3eInstalled\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eplatforms\x3c\/span\x3e:\n  \x3cspan class=\x22hljs-selector-tag\x22\x3eandroid\x3c\/span\x3e 6\x3cspan class=\x22hljs-selector-class\x22\x3e.1\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.2\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eAvailable\x3c\/span\x3e \x3cspan class=\x22hljs-selector-tag\x22\x3eplatforms\x3c\/span\x3e:\n  \x3cspan class=\x22hljs-selector-tag\x22\x3eamazon-fireos\x3c\/span\x3e ~3\x3cspan class=\x22hljs-selector-class\x22\x3e.6\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.3\x3c\/span\x3e (\x3cspan class=\x22hljs-selector-tag\x22\x3edeprecated\x3c\/span\x3e)\n  \x3cspan class=\x22hljs-selector-tag\x22\x3eblackberry10\x3c\/span\x3e ~3\x3cspan class=\x22hljs-selector-class\x22\x3e.8\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3ebrowser\x3c\/span\x3e ~4\x3cspan class=\x22hljs-selector-class\x22\x3e.1\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3efirefoxos\x3c\/span\x3e ~3\x3cspan class=\x22hljs-selector-class\x22\x3e.6\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.3\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3ewebos\x3c\/span\x3e ~3\x3cspan class=\x22hljs-selector-class\x22\x3e.7\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3ewindows\x3c\/span\x3e ~4\x3cspan class=\x22hljs-selector-class\x22\x3e.4\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.0\x3c\/span\x3e\n  \x3cspan class=\x22hljs-selector-tag\x22\x3ewp8\x3c\/span\x3e ~3\x3cspan class=\x22hljs-selector-class\x22\x3e.8\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.2\x3c\/span\x3e (\x3cspan class=\x22hljs-selector-tag\x22\x3edeprecated\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装构建先决条件：\x3cbr\x3e要构建和运行App，你需要安装每个你需要平台的SDK。另外，当你使用浏览器开发你可以添加 browser平台，它不需要任何平台SDK。\x3c\/p\x3e\n\x3cp\x3e检测你是否满足构建平台的要求：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova requirements\n\nRequirements check results for android:\nJava JDK: installed 1.8.0\nAndroid SDK: installed true\nAndroid target: installed android-7,android-8,android-9,android-10,android-11,android-12,android-13,android-14,android-15,android-16,android-17,android-18,android-19,android-20,android-21,android-22,android-23,android-24,android-25\nGradle: installed\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs subunit\x22\x3e\x3ccode\x3ecordova requirements\n\nRequirements check results for android:\nJava JDK: installed 1.8.0\nAndroid SDK: installed true\nAndroid target: installed android\x3cspan class=\x22hljs-string\x22\x3e-7\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-8\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-9\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-10\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-11\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-12\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-13\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-14\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-15\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-16\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-17\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-18\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-19\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-20\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-21\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-22\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-23\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-24\x3c\/span\x3e,android\x3cspan class=\x22hljs-string\x22\x3e-25\x3c\/span\x3e\nGradle: installed\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e初次使用我们可能会遇到下面的报错：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Error: Failed to find \x27ANDROID_HOME\x27 environment variable. Try setting setting it manually.\nFailed to find \x27android\x27 command in your \x27PATH\x27. Try update your \x27PATH\x27 to include path to valid SDK directory.\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sqf\x22\x3e\x3ccode\x3eError: Failed \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3efind\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27ANDROID_HOME\x27\x3c\/span\x3e environment variable. \x3cspan class=\x22hljs-keyword\x22\x3eTry\x3c\/span\x3e setting setting it manually.\nFailed \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3efind\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27android\x27\x3c\/span\x3e command \x3cspan class=\x22hljs-built_in\x22\x3ein\x3c\/span\x3e your \x3cspan class=\x22hljs-string\x22\x3e\x27PATH\x27\x3c\/span\x3e. \x3cspan class=\x22hljs-keyword\x22\x3eTry\x3c\/span\x3e update your \x3cspan class=\x22hljs-string\x22\x3e\x27PATH\x27\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e include path \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e valid SDK directory.\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是因为我们没有配置环境变量：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e设置JAVA_HOME环境变量，指定为JDK安装路径\x3c\/li\x3e\n\x3cli\x3e设置ANDROID_HOME环境变量，指定为Android SDK安装路径\x3c\/li\x3e\n\x3cli\x3e添加Android SDK的tools和platform-tools目录到你的PATH\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e对于android平台下的环境配置在这里不再赘述，具体可以参考：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/guide\/platforms\/android\/index.html#requirements-and-support\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAndroid平台的要求\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/guide\/platforms\/ios\/index.html#requirements-and-support\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eiOS平台的要求\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/guide\/platforms\/win8\/index.html#requirements-and-support\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWindows平台的要求\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e\x3cstrong\x3e4.构建App\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e默认情况下,\x26nbsp;cordova create生产基于web应用程序的骨架，项目开始页面位于www\/index.html\x3cbr\x3e\x26nbsp;文件。任何初始化任务应该在www\/js\/index.js文件中的\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/cordova\/events\/events.html#deviceready\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edeviceready\x3c\/a\x3e事件的事件处理函数中。\x3c\/p\x3e\n\x3cp\x3e运行下面命令为所有添加的平台构建：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova build\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3ecordova build\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你可以在每次构建中选择限制平台范围 - 这个例子中是\x3ccode\x3eandroid\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova build android\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3ecordova\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ebuild \x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3eandroid\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009199806\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009199806\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e注意：首次使用时，命令行提示 \x3ccode\x3eDownloading https:\/\/services.gradle.org\/distributions\/gradle-2.14.1-all.zip\x3c\/code\x3e，是在下载对应的gradle并自动解压安装，根据网络状况，可能耗时极长，且容易报错。\x3c\/p\x3e\n\x3cp\x3e使用Cordova编译Android平台程序提示：Could not reserve enough space for 2097152KB object heap。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Error occurred during initialization of VM\nCould not reserve enough space for 2097152KB object heap\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs subunit\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eError \x3c\/span\x3eoccurred during initialization of VM\nCould not reserve enough space for 2097152KB object heap\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e大体的意思是系统内存不够用，创建VM失败。试了网上好几种方法都不行，最后这个方法可以了：\x3c\/p\x3e\n\x3cp\x3e开始-\x26gt;控制面板-\x26gt;系统-\x26gt;高级设置-\x26gt;环境变量-\x26gt;系统变量\x3cbr\x3e新建变量：\x3cbr\x3e变量名: _JAVA_OPTIONS   \x3cbr\x3e变量值: -Xmx512M\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e\x3cstrong\x3e5.运行App\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e我们有多种方式运行我们的App，在不同场景下使用不同的方式有助于我们快速开发和测试我们的应用。\x3c\/p\x3e\n\x3cp\x3e在命令行运行下面的命令，会重新构建App并可以在特定平台的模拟器上查看：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova emulate android\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova \x3cspan class=\x22hljs-built_in\x22\x3eemulate\x3c\/span\x3e android\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e你可以将你的手机插入电脑，在手机上直接测试App：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova run android\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e android\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在进行打包操作前，我们可以通过创建一个本地服务预览app UI，使用指定的端口或缺省值为8000运行本地Web服务器www\/assets。访问项目：\x3ca\x3ehttp:\/\/HOST_IP:PORT\/PLATFORM\/www\x3c\/a\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova serve [port]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs accesslog\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova serve \x3cspan class=\x22hljs-string\x22\x3e[port]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e参考文档：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/guide\/platforms\/android\/index.html#setting-up-an-emulator\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e设置Android模拟器\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/reference\/cordova-cli\/index.html#cordova-run-command\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCordova run 命令参考文档\x3c\/a\x3e\x3c\/li\x3e\n\x3cli\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/latest\/reference\/cordova-cli\/index.html#cordova-emulate-command\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCordova emulate 命令参考文档\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e\x3cstrong\x3e6.安装插件\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3ecordova的强大之处在于我们可以通过安装插件，拓展我们web工程的能力，比如调用系统底层API来调用设备上的底层功能，如摄像头、相册。通过\x3ccode\x3ecordova plugin\x3c\/code\x3e命令实现插件管理。\x3c\/p\x3e\n\x3cp\x3e可以在这里搜索需要的插件：\x3ca href=\x22http:\/\/cordova.apache.org\/plugins\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eCordova Plugins\x3c\/a\x3e 。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova {plugin | plugins} [\n    add \x3cplugin-spec\x3e [..] {--searchpath=\x3cdirectory\x3e | --noregistry | --link | --save | --browserify | --force} |\n    {remove | rm} {\x3cpluginid\x3e | \x3cname\x3e} --save |\n    {list | ls} |\n    search [\x3ckeyword\x3e] |\n    save |\n]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs gherkin\x22\x3e\x3ccode\x3ecordova {plugin |\x3cspan class=\x22hljs-string\x22\x3e plugins} [\n    add \x26lt;plugin-spec\x26gt; [..] {--searchpath=\x26lt;directory\x26gt; \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e --noregistry \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e --link \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e --save \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e --browserify \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e --force} \x3c\/span\x3e|\n    {remove |\x3cspan class=\x22hljs-string\x22\x3e rm} {\x26lt;pluginid\x26gt; \x3c\/span\x3e|\x3cspan class=\x22hljs-string\x22\x3e \x26lt;name\x26gt;} --save \x3c\/span\x3e|\n    {list |\x3cspan class=\x22hljs-string\x22\x3e ls} \x3c\/span\x3e|\n    search [\x3cspan class=\x22hljs-variable\x22\x3e\x26lt;keyword\x26gt;\x3c\/span\x3e] |\x3cspan class=\x22hljs-string\x22\x3e\n    save \x3c\/span\x3e|\n]\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e添加插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova plugin add \x3cplugin-spec\x3e [...]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova plugin \x3cspan class=\x22hljs-keyword\x22\x3eadd\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e \x26lt;plugin-spec\x26gt; [...]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e移除插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova plugin remove [...]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs accesslog\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova plugin remove \x3cspan class=\x22hljs-string\x22\x3e[...]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e\x3cstrong\x3e7.平台为中心的工作流开发App\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e上面我们是在跨平台(CLI)的工作流进行，原则上如果我们不需要自己写原生层自定义组件，我们完全可以只在CLI上完成我们的工作，当然如果需要进一步深入了解cordova native与js的通信联系，我们需要切换到平台为中心的工作流，即将我们的cordova工程导入到原生工程。例如：我们可以使用android studio导入我们新建的cordova工程。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009199807\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009199807\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/6.x\/guide\/hybrid\/plugins\/index.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e自定义插件开发\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3e官方推荐的插件遵循相同的目录结构，根目录下是\x3ccode\x3eplugin.xml\x3c\/code\x3e配置文件，src目录下放平台原生代码，www下放js接口代码，基本配置方法和代码结构由一定规律，我们使用plugman可以生成一个插件模板，改改就可以写一个自定义插件。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e\x3cstrong\x3e1.安装 plugman ，使用 plugman 创建插件模板\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install -g plugman\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e -g plugman\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e比如这里我们创建一个nativeUI的插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22plugman create --name NativeUI --plugin_id cordova-plugin-nativeui --plugin_version 0.0.1\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs brainfuck\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3eplugman\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3ecreate\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ename\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3eNativeUI\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eplugin_id\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3ecordova\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eplugin\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3enativeui\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eplugin_version\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e0\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e.\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3e1\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e参数介绍：\x3cbr\x3epluginName: 插件名字：NativeUI\x3cbr\x3epluginID: 插件id : cordova-plugin-nativeui\x3cbr\x3eoversion: 版本 : 0.0.1\x3cbr\x3edirectory:一个绝对或相对路径的目录，该目录将创建插件项目\x3cbr\x3evariable NAME=VALUE: 额外的描述，如作者信息和相关描述\x3c\/p\x3e\n\x3cp\x3e进入插件目录\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cd NativeUI\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs bash\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3ecd\x3c\/span\x3e NativeUI\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e给 plugin.xml 增加Android平台\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22plugman platform add --platform_name android\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eplugman \x3cspan class=\x22hljs-built_in\x22\x3eplatform\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eadd\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e--platform_name android\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e生成的插件文件结构为：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22NativeUI：\n\n├── src\n    └── android\n        └── NativeUI.java\n├── www\n    └── NativeUI.js\n└── plugin.xml\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3eNativeUI：\n\n├── src\n    └── android\n        └── NativeUI\x3cspan class=\x22hljs-selector-class\x22\x3e.java\x3c\/span\x3e\n├── www\n    └── NativeUI\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e\n└── plugin.xml\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e\x3cstrong\x3e2.修改配置文件\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3eplugin.xml\x3c\/code\x3e文件字段含义：\x3c\/p\x3e\n\x3ctable\x3e\n\x3cthead\x3e\x3ctr\x3e\n\x3cth align=\x22center\x22\x3e元素\x3c\/th\x3e\n\x3cth align=\x22left\x22\x3e描述\x3c\/th\x3e\n\x3c\/tr\x3e\x3c\/thead\x3e\n\x3ctbody\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3eplugin\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e定义命名空间，ID和插件版本。应该用定义在\x3cem\x3e\x3ca href=\x22http:\/\/apache.org\/cordova\/ns\/plugins\/1.0\/em\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/apache.org\/cordova\/ns\/...\x3c\/a\x3e命名空间。plugin的ID在输入\x3cem\x3ecordova plugins\x3c\/em\x3e命令时在插件列表中显示。\x3c\/em\x3e\n\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3ename\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e定义插件的名字。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3edescription\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e定义插件的描述信息。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3eauthor\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e定义插件作者的名字。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3ekeywords\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e定义与插件相关的关键字。Cordova研发组建立了公开、可搜索的插件仓库，添加的关键字能在你把插件提交到仓库后帮助被发现。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3elicense\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e定义插件的许可。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3eengines\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e用来定义插件支持的Cordova版本。再添加\x3cem\x3eengine\x3c\/em\x3e元素定义每个支持的Cordova版本。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3ejs-module\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e指js文件名，而这个文件会自动以\x3ccode\x3e\x26lt;script\x3c\/code\x3e\x26gt;标签的形式添加到Cordova项目的起始页。通过在\x3cem\x3ejs-module\x3c\/em\x3e中列出插件，可以减少开发者的工作。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3ctr\x3e\n\x3ctd align=\x22center\x22\x3einfo\x3c\/td\x3e\n\x3ctd align=\x22left\x22\x3e它是另一个除了\x3cem\x3edescription\x3c\/em\x3e外说插件信息的地方。\x3c\/td\x3e\n\x3c\/tr\x3e\n\x3c\/tbody\x3e\n\x3c\/table\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c?xml version=\x271.0\x27 encoding=\x27utf-8\x27?\x3e\n\x3cplugin id=\x26quot;cordova-plugin-nativeui\x26quot; version=\x26quot;0.0.1\x26quot; xmlns=\x26quot;http:\/\/apache.org\/cordova\/ns\/plugins\/1.0\x26quot; xmlns:android=\x26quot;http:\/\/schemas.android.com\/apk\/res\/android\x26quot;\x3e\n    \x3cname\x3eNativeUI\x3c\/name\x3e\n    \x3cjs-module name=\x26quot;NativeUI\x26quot; src=\x26quot;www\/NativeUI.js\x26quot;\x3e\n        \x3cclobbers target=\x26quot;agree.nativeUI\x26quot; \/\x3e\n    \x3c\/js-module\x3e\n    \x3cplatform name=\x26quot;android\x26quot;\x3e\n        \x3cconfig-file parent=\x26quot;\/*\x26quot; target=\x26quot;res\/xml\/config.xml\x26quot;\x3e\n            \x3cfeature name=\x26quot;NativeUI\x26quot;\x3e\n                \x3cparam name=\x26quot;android-package\x26quot; value=\x26quot;cn.com.agree.nativeui.NativeUI\x26quot; \/\x3e\n            \x3c\/feature\x3e\n        \x3c\/config-file\x3e\n        \x3cconfig-file parent=\x26quot;\/*\x26quot; target=\x26quot;AndroidManifest.xml\x26quot;\x3e\x3c\/config-file\x3e\n        \x3csource-file src=\x26quot;src\/android\/NativeUI.java\x26quot; target-dir=\x26quot;src\/cn\/com\/agree\/nativeui\x26quot; \/\x3e\n    \x3c\/platform\x3e\n\x3c\/plugin\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22php\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;?\x3c\/span\x3exml version=\x3cspan class=\x22hljs-string\x22\x3e\x271.0\x27\x3c\/span\x3e encoding=\x3cspan class=\x22hljs-string\x22\x3e\x27utf-8\x27\x3c\/span\x3e\x3cspan class=\x22hljs-meta\x22\x3e?\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eplugin\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22cordova-plugin-nativeui\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eversion\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x220.0.1\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3exmlns\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/apache.org\/cordova\/ns\/plugins\/1.0\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3exmlns:android\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/schemas.android.com\/apk\/res\/android\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ename\x3c\/span\x3e\x26gt;\x3c\/span\x3eNativeUI\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ename\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ejs-module\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22NativeUI\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22www\/NativeUI.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eclobbers\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22agree.nativeUI\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ejs-module\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eplatform\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22android\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3econfig-file\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eparent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/*\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22res\/xml\/config.xml\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3efeature\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22NativeUI\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eparam\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22android-package\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22cn.com.agree.nativeui.NativeUI\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3efeature\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3econfig-file\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3econfig-file\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eparent\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/*\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22AndroidManifest.xml\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3econfig-file\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3esource-file\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22src\/android\/NativeUI.java\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etarget-dir\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22src\/cn\/com\/agree\/nativeui\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eplatform\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eplugin\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这个配置文件有几个地方很关键，一开始没有认真看，将插件导进工程跑的时候各种问题，十分头痛，不得不重新认真看看\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/6.x\/plugin_ref\/spec.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eplugin.xml文档\x3c\/a\x3e。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eid：原则上没有严格规定，参考官方插件写法，这里我也写的是\x3ccode\x3ecordova-plugin-nativeui\x3c\/code\x3e，通过plugman创建插件模板的时候需要指定。\x3c\/li\x3e\n\x3cli\x3ename：插件名称。\x3c\/li\x3e\n\x3cli\x3eclobbers-\x26gt;target：用于指定插入module.exports的窗口对象下的命名空间，也就是用户调用该插件时的js层暴露的顶层对象。这个很关键，虽然可以任意指定，但是涉及到我们调用插件的属性或者方法，所以需要特别关注。plugman默认生成的是将id中的\x3ccode\x3e-\x3c\/code\x3e转换成`.\x27的对象。这里需要说明的是我们可以写多个js-module，每个js-module下可以指定不同的clobbers。\x3c\/li\x3e\n\x3cli\x3efeature -\x26gt; param - \x26gt; value 标识了实际提供服务的Native类别名称，这里直接定位至具体类，然而上述通过plugman生成模板的时候中没有指定NativeUI的包名，会自定生成\x3ccode\x3ecordova-plugin-nativeui.NativeUI\x3c\/code\x3e，这里我们需要改成符合自己要求的类名，如我这里使用公司的域名：\x3ccode\x3ecn.com.agree.nativeui.NativeUI\x3c\/code\x3e。需要说明的是这里的类名可以与插件名称不同。\x3c\/li\x3e\n\x3cli\x3esource-file -\x26gt; target-dir 同理\x3ccode\x3etarget-dir\x3c\/code\x3e需要修改为： \x3ccode\x3esrc\/cn\/com\/agree\/nativeui\x3c\/code\x3e，同时需要修改平台下的native部分的代码：如：\x3ccode\x3epackage cn.com.agree.nativeui;\x3c\/code\x3e\n\x3c\/li\x3e\n\x3cli\x3eplatform -\x26gt; config-file下可以指定程序所需的权限\x3ccode\x3euses-permission\x3c\/code\x3e，如：\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cconfig-file target=\x26quot;AndroidManifest.xml\x26quot; parent=\x26quot;\/*\x26quot;\x3e\n    \x3cuses-permission android:name=\x26quot;android.permission.ACCESS_NETWORK_STATE\x26quot; \/\x3e\n\x3c\/config-file\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs applescript\x22\x3e\x3ccode\x3e\x26lt;config-\x3cspan class=\x22hljs-built_in\x22\x3efile\x3c\/span\x3e target=\x3cspan class=\x22hljs-string\x22\x3e\x22AndroidManifest.xml\x22\x3c\/span\x3e parent=\x3cspan class=\x22hljs-string\x22\x3e\x22\/*\x22\x3c\/span\x3e\x26gt;\n    \x26lt;uses-permission android:\x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22android.permission.ACCESS_NETWORK_STATE\x22\x3c\/span\x3e \/\x26gt;\n\x26lt;\/config-\x3cspan class=\x22hljs-built_in\x22\x3efile\x3c\/span\x3e\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e\x3cstrong\x3e3.导入到平台工程中的目录结构\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e这里我们以android平台为例：\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009199808\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009199808\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3ecordova.js在创建Android工程的时候，是从cordova的lib目录下Copy到\x3ccode\x3eplatforms\\android\\assets\\www\\cordova.js\x3c\/code\x3e的。同时备份到\x3ccode\x3eplatforms\\android\\platform_www\\cordova.js\x3c\/code\x3e。下一篇文章我会试着读一下cordova.js的源码，这里对cordova.js暂不做深入探究。\x3c\/p\x3e\n\x3cp\x3e这里我们主要关心几个地方，我们的原生代码在src目录下，assets\/www目录下是我们的web 程序。www目录下的plugins文件夹就是我们的插件js部分，cordova_plugins.js是根据plugins文件夹的内容生成的。 \x3c\/p\x3e\n\x3cp\x3ecordova_plugins.js的整体结构：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova.define(\x27cordova\/plugin_list\x27, function(require, exports, module) {\nmodule.exports = [\n    {\n        \x26quot;id\x26quot;: \x26quot;cordova-plugin-nativeui.NativeUI\x26quot;,\n        \x26quot;file\x26quot;: \x26quot;plugins\/cordova-plugin-nativeui\/www\/NativeUI.js\x26quot;,\n        \x26quot;pluginId\x26quot;: \x26quot;cordova-plugin-nativeui\x26quot;,\n        \x26quot;clobbers\x26quot;: [\n            \x26quot;agree.nativeUI\x26quot;\n        ]\n    },\n    ...\n];\nmodule.exports.metadata = \n\/\/ TOP OF METADATA\n{\n    \x26quot;cordova-plugin-nativeui\x26quot;: \x26quot;0.0.1\x26quot;,\n    ...\n};\n\/\/ BOTTOM OF METADATA\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs java\x22\x3e\x3ccode\x3ecordova.define(\x3cspan class=\x22hljs-string\x22\x3e\x27cordova\/plugin_list\x27\x3c\/span\x3e, function(require, \x3cspan class=\x22hljs-keyword\x22\x3eexports\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e) {\n\x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3eexports\x3c\/span\x3e = [\n    {\n        \x3cspan class=\x22hljs-string\x22\x3e\x22id\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cordova-plugin-nativeui.NativeUI\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22file\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22plugins\/cordova-plugin-nativeui\/www\/NativeUI.js\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22pluginId\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cordova-plugin-nativeui\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22clobbers\x22\x3c\/span\x3e: [\n            \x3cspan class=\x22hljs-string\x22\x3e\x22agree.nativeUI\x22\x3c\/span\x3e\n        ]\n    },\n    ...\n];\n\x3cspan class=\x22hljs-keyword\x22\x3emodule\x3c\/span\x3e.\x3cspan class=\x22hljs-keyword\x22\x3eexports\x3c\/span\x3e.metadata = \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ TOP OF METADATA\x3c\/span\x3e\n{\n    \x3cspan class=\x22hljs-string\x22\x3e\x22cordova-plugin-nativeui\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x220.0.1\x22\x3c\/span\x3e,\n    ...\n};\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ BOTTOM OF METADATA\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader13\x22\x3e\x3ca href=\x22http:\/\/cordova.axuer.com\/docs\/zh-cn\/6.x\/guide\/platforms\/android\/plugin.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eAndroid插件开发指南\x3c\/a\x3e\x3c\/h2\x3e\n\x3cp\x3eAndroid插件基于Cordova-Android，它是基于具有Javscript-to-native桥接的Android WebView构建的。 Android插件的本机部分至少包含一个扩展CordovaPlugin类的Java类，并重写其一个执行方法。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e\x3cstrong\x3e插件类映射\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e插件的JavaScript接口使用cordova.exec方法，如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova.exec(\x3csuccessFunction\x3e, \x3cfailFunction\x3e, \x3cservice\x3e, \x3caction\x3e, [\x3cargs\x3e]);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs fsharp\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova.exec(\x26lt;successFunction\x26gt;, \x26lt;failFunction\x26gt;, \x26lt;service\x26gt;, \x26lt;action\x26gt;, \x3cspan class=\x22hljs-meta\x22\x3e[\x26lt;args\x26gt;]\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3ccode\x3efunction(winParam) {}\x3c\/code\x3e: 成功回调\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3efunction(error) {}\x3c\/code\x3e: 错误回调\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eservice\x3c\/code\x3e: 原生层服务名称\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3eaction\x3c\/code\x3e: js层调用方法名\x3c\/li\x3e\n\x3cli\x3e\n\x3ccode\x3e[args]\x3c\/code\x3e: js层传递到原生层的数据\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这将WebView的请求传递给Android本机端，有效地在服务类上调用action方法，并在args数组中传递其他参数。无论您将插件分发为Java文件还是作为自己的jar文件，必须在Cordova-Android应用程序的res \/ xml \/ config.xml文件中指定该插件。 有关如何使用plugin.xml文件注入此要素的详细信息，请参阅应用程序插件：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cfeature name=\x26quot;\x3cservice_name\x3e\x26quot;\x3e\n    \x3cparam name=\x26quot;android-package\x26quot; value=\x26quot;\x3cfull_name_including_namespace\x3e\x26quot; \/\x3e\n\x3c\/feature\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3efeature\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;service_name\x26gt;\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eparam\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22android-package\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3evalue\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;full_name_including_namespace\x26gt;\x22\x3c\/span\x3e \/\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3efeature\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e\x3cstrong\x3e插件初始化及其生命周期\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e一个插件对象的一个实例是为每个WebView的生命创建的。 插件不会被实例化，直到它们被JavaScript的调用首次引用为止，除非在config.xml中将具有onload name属性的\x26lt;param\x26gt;设置为“true”。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cfeature name=\x26quot;Echo\x26quot;\x3e\n    \x3cparam name=\x26quot;android-package\x26quot; value=\x26quot;\x3cfull_name_including_namespace\x3e\x26quot; \/\x3e\n    \x3cparam name=\x26quot;onload\x26quot; value=\x26quot;true\x26quot; \/\x3e\n\x3c\/feature\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs sqf\x22\x3e\x3ccode\x3e\x26lt;feature \x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22Echo\x22\x3c\/span\x3e\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-built_in\x22\x3eparam\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22android-package\x22\x3c\/span\x3e value=\x3cspan class=\x22hljs-string\x22\x3e\x22\x26lt;full_name_including_namespace\x26gt;\x22\x3c\/span\x3e \/\x26gt;\n    \x26lt;\x3cspan class=\x22hljs-built_in\x22\x3eparam\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ename\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22onload\x22\x3c\/span\x3e value=\x3cspan class=\x22hljs-string\x22\x3e\x22true\x22\x3c\/span\x3e \/\x26gt;\n\x26lt;\/feature\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e插件使用 initialize 初始化启动：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22@Override\npublic void initialize(CordovaInterface cordova, CordovaWebView webView) {\n    super.initialize(cordova, webView);\n    \/\/ your init code here\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e@Override\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3einitialize\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(CordovaInterface cordova, CordovaWebView webView)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3esuper\x3c\/span\x3e.initialize(cordova, webView);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ your init code here\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e插件还可以访问Android生命周期事件，并可以通过扩展所提供的方法（onResume，onDestroy等）来处理它们。 具有长时间运行请求的插件，媒体播放，侦听器或内部状态等背景活动应实现onReset（）方法。 当WebView导航到新页面或刷新时，它会执行，这会重新加载JavaScript。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader16\x22\x3e\x3cstrong\x3e编写Android Java插件\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e一个JavaScript调用触发对本机端的插件请求，并且相应的Java插件在config.xml文件中正确映射，但最终的Android Java Plugin类是什么样的？ 使用JavaScript的exec函数发送到插件的任何东西都被传递到插件类的execute方法中。 \x3c\/p\x3e\n\x3cp\x3e插件的JavaScript不会在WebView界面的主线程中运行; 而是在WebCore线程上运行，执行方法也是如此。 如果需要与用户界面进行交互，应该使用Activity的runOnUiThread方法。\x3c\/p\x3e\n\x3cp\x3e如果不需要在UI线程上运行，但不希望阻止WebCore线程，则应使用\x3ccode\x3ecordova.getThreadPool()\x3c\/code\x3e获得的\x3ccode\x3eCordova ExecutorService\x3c\/code\x3e执行代码。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22...\n@Override\npublic boolean execute(String action, JSONArray args, CallbackContext callbackContext) throws JSONException {\n    if (action.equals(\x26quot;toast\x26quot;)) {\n        this.toast(args.getString(0));\n        return true;\n    }\n    return false;\n}\n\n\/**\n * Builds and shows a native Android toast with given Strings\n *\n * @param message The message the toast should display\n *\/\nprivate void toast(final String message) {\n    final CordovaInterface cordova = this.cordova;\n    if (message != null \x26amp;\x26amp; message.length() \x3e 0) {\n        final int duration = Toast.LENGTH_SHORT;\n        Runnable runnable = new Runnable() {\n            public void run() {\n                Toast toast = Toast.makeText(cordova.getActivity().getApplicationContext(), message, duration);\n                toast.show();\n            }\n        };\n        cordova.getActivity().runOnUiThread(runnable);\n    }\n}\n...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e...\n\x3cspan class=\x22hljs-meta\x22\x3e@Override\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eboolean\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eexecute\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(String action, JSONArray args, CallbackContext callbackContext)\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethrows\x3c\/span\x3e JSONException \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (action.equals(\x3cspan class=\x22hljs-string\x22\x3e\x22toast\x22\x3c\/span\x3e)) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.toast(args.getString(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e));\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e;\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * Builds and shows a native Android toast with given Strings\n *\n * \x3cspan class=\x22hljs-doctag\x22\x3e@param\x3c\/span\x3e message The message the toast should display\n *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eprivate\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etoast\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3efinal\x3c\/span\x3e String message)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efinal\x3c\/span\x3e CordovaInterface cordova = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.cordova;\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (message != \x3cspan class=\x22hljs-keyword\x22\x3enull\x3c\/span\x3e \x26amp;\x26amp; message.length() \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3efinal\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e duration = Toast.LENGTH_SHORT;\n        Runnable runnable = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Runnable() {\n            \x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n                Toast toast = Toast.makeText(cordova.getActivity().getApplicationContext(), message, duration);\n                toast.show();\n            }\n        };\n        cordova.getActivity().runOnUiThread(runnable);\n    }\n}\n...\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ejs部分的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var exec = require(\x27cordova\/exec\x27);\n\nmodule.exports = {\n    toast: function(message) {\n        exec(null, null, \x27NativeUI\x27, \x27toast\x27, [message]);\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e exec = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27cordova\/exec\x27\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-built_in\x22\x3emodule\x3c\/span\x3e.exports = {\n    \x3cspan class=\x22hljs-attr\x22\x3etoast\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3emessage\x3c\/span\x3e) \x3c\/span\x3e{\n        exec(\x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27NativeUI\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27toast\x27\x3c\/span\x3e, [message]);\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3ecallbackContext.success\x3c\/code\x3e可以将原生层字符串作为参数传递给JavaScript层的成功回调，\x3ccode\x3ecallbackContext.error\x3c\/code\x3e可以将给JavaScript层的错误回调函数传递参数。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e\x3cstrong\x3e添加依赖库\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e如果你的Android插件有额外的依赖关系，那么它们必须以两种方式之一列在plugin.xml中：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e首选的方法是使用\x26lt;framework \/\x26gt;标签（有关详细信息，请参阅插件规范）。以这种方式指定库可以通过Gradle的依赖管理逻辑来解决。这允许诸如gson，android-support-v4和google-play-services之类的常用库被多个插件使用而没有冲突。\x3c\/li\x3e\n\x3cli\x3e第二个选项是使用\x26lt;lib-file \/\x26gt;标签来指定jar文件的位置（有关更多详细信息，请参阅插件规范）。 只有当您确定没有其他插件将依赖于您所引用的库（例如，该库特定于您的插件）时，才应使用此方法。 否则，如果另一个插件添加了相同的库，则可能导致插件用户造成构建错误。 值得注意的是，Cordova应用程序开发人员不一定是本地开发人员，因此本地平台构建错误可能特别令人沮丧。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader18\x22\x3e\x3cstrong\x3eAndroid集成\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3eAndroid具有Intent系统，允许进程相互通信。插件可以访问CordovaInterface对象，可以访问运行应用程序的Android Activity。 这是启动新的Android Intent所需的上下文。 CordovaInterface允许插件为结果启动Activity，并为Intent返回应用程序时设置回调插件。\x3c\/p\x3e\n\x3cp\x3e从Cordova 2.0开始，插件无法再直接访问上下文，并且旧的ctx成员已被弃用。 所有的ctx方法都存在于Context中，所以getContext()和getActivity()都可以返回所需的对象。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e\x3cstrong\x3e运行权限（Cordova-Android 5.0.0\x2b）\x3c\/strong\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3eAndroid 6.0 \x22Marshmallow\x22 引入了新的权限模型，用户可以根据需要启用和禁用权限。这意味着应用程序必须将这些权限更改处理为将来，这是Cordova-Android 5.0.0发行版的重点。\x3c\/p\x3e\n\x3cp\x3e就插件而言，可以通过调用权限方法来请求权限，该签名如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova.requestPermission(CordovaPlugin plugin, int requestCode, String permission);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova.requestPermission(CordovaPlugin plugin, \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e requestCode, \x3cspan class=\x22hljs-keyword\x22\x3eString\x3c\/span\x3e permission);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了减少冗长度，将此值分配给本地静态变量是标准做法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public static final String READ = Manifest.permission.READ_CONTACTS;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e final \x3cspan class=\x22hljs-keyword\x22\x3eString\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eREAD\x3c\/span\x3e = Manifest.permission.READ_CONTACTS;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e定义requestCode的标准做法如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public static final int SEARCH_REQ_CODE = 0;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3estatic\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efinal\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e SEARCH_REQ_CODE = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后，在exec方法中，应该检查权限：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if(cordova.hasPermission(READ)) {\n    search(executeArgs);\n} else {\n    getReadPermission(SEARCH_REQ_CODE);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stata\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(cordova.hasPermission(\x3cspan class=\x22hljs-keyword\x22\x3eREAD\x3c\/span\x3e)) {\n    \x3cspan class=\x22hljs-keyword\x22\x3esearch\x3c\/span\x3e(executeArgs);\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    getReadPermission(SEARCH_REQ_CODE);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这种情况下，我们只需调用requestPermission：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22protected void getReadPermission(int requestCode) {\n    cordova.requestPermission(this, requestCode, READ);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cpp\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eprotected\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetReadPermission\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e requestCode)\x3c\/span\x3e \x3c\/span\x3e{\n    cordova.requestPermission(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, requestCode, READ);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这将调用该活动并引起提示出现要求该权限。 一旦用户拥有权限，结果必须使用onRequestPermissionResult方法处理，每个插件应该覆盖该方法。 一个例子可以在下面找到：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public void onRequestPermissionResult(int requestCode, String[] permissions, int[] grantResults) throws JSONException {\n    for(int r:grantResults) {\n        if(r == PackageManager.PERMISSION_DENIED) {\n            this.callbackContext.sendPluginResult(new PluginResult(PluginResult.Status.ERROR, PERMISSION_DENIED_ERROR));\n            return;\n        }\n    }\n    switch(requestCode) {\n        case SEARCH_REQ_CODE:\n            search(executeArgs);\n            break;\n        case SAVE_REQ_CODE:\n            save(executeArgs);\n            break;\n        case REMOVE_REQ_CODE:\n            remove(executeArgs);\n            break;\n    }\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs aspectj\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3epublic\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eonRequestPermissionResult\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e requestCode, String[] permissions, \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e[] grantResults)\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethrows\x3c\/span\x3e JSONException \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e r:grantResults) {\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(r == PackageManager.PERMISSION_DENIED) {\n            \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.callbackContext.sendPluginResult(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e PluginResult(PluginResult.Status.ERROR, PERMISSION_DENIED_ERROR));\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n        }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e(requestCode) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e SEARCH_REQ_CODE:\n            search(executeArgs);\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e SAVE_REQ_CODE:\n            save(executeArgs);\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e REMOVE_REQ_CODE:\n            remove(executeArgs);\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n    }\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e上面的switch语句将从提示符返回，并且根据传入的requestCode，它将调用该方法。 应该注意的是，如果执行不正确地处理权限提示可能会堆叠，并且应该避免这种情况。\x3c\/p\x3e\n\x3cp\x3e除了要求获得单一权限的权限之外，还可以通过定义权限数组来请求整个组的权限，如同Geolocation插件所做的那样：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22String [] permissions = { \n  Manifest.permission.ACCESS_COARSE_LOCATION,\n  Manifest.permission.ACCESS_FINE_LOCATION \n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mathematica\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eString\x3c\/span\x3e [] permissions = { \n  Manifest.permission.ACCESS_COARSE_LOCATION,\n  Manifest.permission.ACCESS_FINE_LOCATION \n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后当请求权限时，需要完成的所有操作如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22cordova.requestPermissions(this, 0, permissions);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs kotlin\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3ecordova.requestPermissions(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, permissions);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这将请求数组中指定的权限。 提供公开访问的权限阵列是一个好主意，因为可以使用插件作为依赖关系使用，尽管这不是必需的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader19\x22\x3e\x3cstrong\x3e启动其他活动\x3c\/strong\x3e\x3c\/h3\x3e\n\x3cp\x3e如果你的插件启动将Cordova活动推送到后台的活动，则需要特别考虑。 如果设备运行内存不足，Android操作系统将在后台销毁活动。在这种情况下，CordovaPlugin实例也将被销毁。 如果您的插件正在等待其启动的活动的结果，则当Cordova活动返回到前台并获得结果时，将创建一个新的插件实例。 但是，插件的状态不会自动保存或恢复，插件的CallbackContext将丢失。 CordovaPlugin可以实现两种方法来处理这种情况：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * Called when the Activity is being destroyed (e.g. if a plugin calls out to an\n * external Activity and the OS kills the CordovaActivity in the background).\n * The plugin should save its state in this method only if it is awaiting the\n * result of an external Activity and needs to preserve some information so as\n * to handle that result; onRestoreStateForActivityResult() will only be called\n * if the plugin is the recipient of an Activity result\n *\n * @return  Bundle containing the state of the plugin or null if state does not\n *          need to be saved\n *\/\npublic Bundle onSaveInstanceState() {}\n\n\/**\n * Called when a plugin is the recipient of an Activity result after the\n * CordovaActivity has been destroyed. The Bundle will be the same as the one\n * the plugin returned in onSaveInstanceState()\n *\n * @param state             Bundle containing the state of the plugin\n * @param callbackContext   Replacement Context to return the plugin result to\n *\/\npublic void onRestoreStateForActivityResult(Bundle state, CallbackContext callbackContext) {}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3e\/**\n * Called when the Activity is being destroyed (e.g. if a plugin calls \x3cspan class=\x22hljs-keyword\x22\x3eout\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e an\n * external Activity and the OS kills the CordovaActivity \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e the background).\n * The plugin should save its \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e this method only if it is awaiting the\n * result of an external Activity and needs \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e preserve some information so as\n * \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e handle that result; \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3eRestoreStateForActivityResult() will only be called\n * if the plugin is the recipient of an Activity result\n *\n * @return  Bundle containing the \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e of the plugin or null if \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e does not\n *          need \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e be saved\n *\/\npublic Bundle \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3eSaveInstanceState() {}\n\n\/**\n * Called when a plugin is the recipient of an Activity result after the\n * CordovaActivity has been destroyed. The Bundle will be the same as the one\n * the plugin returned \x3cspan class=\x22hljs-keyword\x22\x3ein\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3eSaveInstanceState()\n *\n * @param \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e             Bundle containing the \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e of the plugin\n * @param callbackContext   Replacement Context \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e return the plugin result \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e\n *\/\npublic void \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3eRestoreStateForActivityResult(Bundle \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, CallbackContext callbackContext) {}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader20\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3ecordova 是否能够发挥出它出彩的一面还是源于我们对原生的熟练程度，只有对原生足够熟练，对cordova的运行机制足够熟悉才能做出一个相对比较令人满意的App，后面的文章我会尝试阅读cordova的源码，深入解析cordova的实现原理和插件机制，也会教大家封装一些常用的自定义组件。本文内容基本取材于官方文档，只是借助谷歌翻译以及自己在探索过程中的一些问题，做了一些增删，如果有任何问题，希望各位不吝指教。\x3c\/p\x3e\n\x3cp\x3e写文章不容易，也许写这些代码就几分钟的事，写一篇大家好接受的文章或许需要几天的酝酿，然后加上几天的码字，累并快乐着。如果文章对您有帮助请我喝杯咖啡吧！\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVMMoV?w=612\x26amp;h=384\x22 src=\x22https:\/\/static.alili.tech\/img\/bVMMoV?w=612\x26amp;h=384\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e转载需标注本文原始地址：\x3ca href=\x22https:\/\/zhaomenghuan.github.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/zhaomenghuan.github.io\/\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>cordova研习笔记(一) —— 初试牛刀之cordova.js概要</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009199801">https://segmentfault.com/a/1190000009199801</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/zuljw35yls/" target="_blank">https://alili.tech/archive/zuljw35yls/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>