<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="手摸手，带你用vue撸后台 系列一(基础篇)"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>手摸手，带你用vue撸后台 系列一(基础篇) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/axmdao5mbzc/",
				"appid": "1613049289050283", 
				"title": "手摸手，带你用vue撸后台 系列一(基础篇) | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-15T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/nam0wflavuf/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/9n4zjdvug7/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&text=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&text=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&is_video=false&description=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2faxmdao5mbzc%2f&title=%e6%89%8b%e6%91%b8%e6%89%8b%ef%bc%8c%e5%b8%a6%e4%bd%a0%e7%94%a8vue%e6%92%b8%e5%90%8e%e5%8f%b0%20%e7%b3%bb%e5%88%97%e4%b8%80%28%e5%9f%ba%e7%a1%80%e7%af%87%29"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">手摸手，带你用vue撸后台 系列一(基础篇)</h1><div class="meta"><div class="postdate"><time datetime="2019-01-15" itemprop="datePublished">2019-01-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e完整项目地址：\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-element-admin\x3c\/a\x3e\x3cbr\x3e系类文章二：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009506097\x22\x3e手摸手，带你用vue撸后台 系列二（登录权限篇）\x3c\/a\x3e\x3cbr\x3e系类文章三：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009762198\x22 target=\x22_blank\x22\x3e手摸手，带你用vue撸后台 系列三(实战篇）\x3c\/a\x3e\x3cbr\x3e系类文章四：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010043013\x22\x3e手摸手，带你用vue撸后台 系列四(vueAdmin 一个极简的后台基础模板)\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000012213278\x22 target=\x22_blank\x22\x3e手摸手，带你优雅的使用 icon\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009090836\x22\x3e手摸手，带你封装一个vue component\x3c\/a\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e前言\x3c\/h2\x3e\n\x3cp\x3e说好的教程终于来了，第一篇文章主要来说一说在开始写实际业务代码之前的一些准备工作吧，但这里不会教你 webpack 的基础配置，热更新原理是什么，webpack速度优化等等，有需求的请自行 google，相关文章已经很多了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e目录结构\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22├── build                      \/\/ 构建相关\x26nbsp;\x26nbsp;\n├── config                     \/\/ 配置相关\n├── src                        \/\/ 源代码\n│\x26nbsp;\x26nbsp; ├── api                    \/\/ 所有请求\n│\x26nbsp;\x26nbsp; ├── assets                 \/\/ 主题 字体等静态资源\n│\x26nbsp;\x26nbsp; ├── components             \/\/ 全局公用组件\n│\x26nbsp;\x26nbsp; ├── directive              \/\/ 全局指令\n│\x26nbsp;\x26nbsp; ├── filtres                \/\/ 全局 filter\n│\x26nbsp;\x26nbsp; ├── icons                  \/\/ 项目所有 svg icons\n│\x26nbsp;\x26nbsp; ├── lang                   \/\/ 国际化 language\n│\x26nbsp;\x26nbsp; ├── mock                   \/\/ 项目mock 模拟数据\n│\x26nbsp;\x26nbsp; ├── router                 \/\/ 路由\n│\x26nbsp;\x26nbsp; ├── store                  \/\/ 全局 store管理\n│\x26nbsp;\x26nbsp; ├── styles                 \/\/ 全局样式\n│\x26nbsp;\x26nbsp; ├── utils                  \/\/ 全局公用方法\n│\x26nbsp;\x26nbsp; ├── vendor                 \/\/ 公用vendor\n│\x26nbsp;\x26nbsp; ├── views                   \/\/ view\n│\x26nbsp;\x26nbsp; ├── App.vue                \/\/ 入口页面\n│\x26nbsp;\x26nbsp; ├── main.js                \/\/ 入口 加载组件 初始化等\n│   └── permission.js          \/\/ 权限管理\n├── static                     \/\/ 第三方不打包资源\n│\x26nbsp;\x26nbsp; └── Tinymce                \/\/ 富文本\n├── .babelrc                   \/\/ babel-loader 配置\n├── eslintrc.js                \/\/ eslint 配置项\n├── .gitignore                 \/\/ git 忽略项\n├── favicon.ico                \/\/ favicon图标\n├── index.html                 \/\/ html模板\n└── package.json               \/\/ package.json\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode class=\x22shell\x22\x3e├── build                      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 构建相关\x26nbsp;\x26nbsp;\x3c\/span\x3e\n├── config                     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 配置相关\x3c\/span\x3e\n├── src                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 源代码\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── api                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 所有请求\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── assets                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 主题 字体等静态资源\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── components             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局公用组件\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── directive              \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局指令\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── filtres                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局 filter\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── icons                  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 项目所有 svg icons\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── lang                   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 国际化 language\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── mock                   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 项目mock 模拟数据\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── router                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 路由\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── store                  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局 store管理\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── styles                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局样式\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── utils                  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 全局公用方法\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── vendor                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 公用vendor\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── views                   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ view\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── App\x3cspan class=\x22hljs-selector-class\x22\x3e.vue\x3c\/span\x3e                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 入口页面\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; ├── main\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 入口 加载组件 初始化等\x3c\/span\x3e\n│   └── permission\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e          \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 权限管理\x3c\/span\x3e\n├── static                     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第三方不打包资源\x3c\/span\x3e\n│\x26nbsp;\x26nbsp; └── Tinymce                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 富文本\x3c\/span\x3e\n├── \x3cspan class=\x22hljs-selector-class\x22\x3e.babelrc\x3c\/span\x3e                   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ babel-loader 配置\x3c\/span\x3e\n├── eslintrc\x3cspan class=\x22hljs-selector-class\x22\x3e.js\x3c\/span\x3e                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ eslint 配置项\x3c\/span\x3e\n├── \x3cspan class=\x22hljs-selector-class\x22\x3e.gitignore\x3c\/span\x3e                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ git 忽略项\x3c\/span\x3e\n├── favicon\x3cspan class=\x22hljs-selector-class\x22\x3e.ico\x3c\/span\x3e                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ favicon图标\x3c\/span\x3e\n├── index\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ html模板\x3c\/span\x3e\n└── package\x3cspan class=\x22hljs-selector-class\x22\x3e.json\x3c\/span\x3e               \x3cspan class=\x22hljs-comment\x22\x3e\/\/ package.json\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里来简单讲一下src文件\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3eapi 和 views\x3c\/h3\x3e\n\x3cp\x3e简单截取一下公司后台项目，现在后台大概有四五十个 api 模块\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282310?w=364\x26amp;h=482\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282310?w=364\x26amp;h=482\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e如图可见模块有很多，而且随着业务的迭代，模块还会会越来越多。\x3cbr\x3e所以这里建议根据业务模块来划分 views，并且 将views 和 api 两个模块一一对应，从而方便维护。如下图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282311?w=1240\x26amp;h=697\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282311?w=1240\x26amp;h=697\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如 article 模块下放的都是文章相关的 api，这样不管项目怎么累加，api和views的维护还是清晰的，当然也有一些全区公用的api模块，如七牛upload，remoteSearch等等，这些单独放置就行。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3ecomponents\x3c\/h3\x3e\n\x3cp\x3e这里的 components 放置的都是全局公用的一些组件，如上传组件，富文本等等。一些页面级的组件建议还是放在各自views文件下，方便管理。如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282312?w=458\x26amp;h=312\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282312?w=458\x26amp;h=312\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3estore\x3c\/h3\x3e\n\x3cp\x3e这里我个人建议不要为了用 vuex 而用 vuex。就拿我司的后台项目来说，它虽然比较庞大，几十个业务模块，几十种权限，但业务之间的耦合度是很低的，文章模块和评论模块几乎是俩个独立的东西，所以根本没有必要使用 vuex 来存储data，每个页面里存放自己的 data 就行。当然有些数据还是需要用 vuex 来统一管理的，如登录token,用户信息，或者是一些全局个人偏好设置等，还是用vuex管理更加的方便，具体当然还是要结合自己的业务场景的。总之还是那句话，不要为了用vuex而用vuex！\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3ewebpack\x3c\/h2\x3e\n\x3cblockquote\x3e这里是用 \x3ca href=\x22https:\/\/github.com\/vuejs\/vue-cli\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-cli\x3c\/a\x3e 的 \x3ca href=\x22https:\/\/github.com\/vuejs-templates\/webpack\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-template\x3c\/a\x3e 为基础模板构建的，如果你对这个有什么疑惑请自行google，相关的配置绍其它的文章已经介详细了，这里就不再展开了。简单说一些需要注意到地方。\x3c\/blockquote\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3ejquery (本项目已移除)\x3c\/h3\x3e\n\x3cp\x3e管理后台不同于前台项目，会经常用到一些第三方插件，但有些插件是不得不依赖 jquery 的，如市面很多富文本基都是依赖 jquery 的，所以干脆就直接引入到项目中省事(gzip之后只有34kb，而且常年from cache,不要考虑那些吹毛求疵的大小问题，这几kb和提高的开发效率根本不能比)。但是如果第三方库的代码中出现$.xxx或jQuery.xxx或window.jQuery或window.$则会直接报错。要达到类似的效果，则需要使用 webpack 内置的 \x3ccode\x3eProvidePlugin\x3c\/code\x3e 插件，配置很简单，只需要\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new webpack.ProvidePlugin({\n  $: \x27jquery\x27 ,\n  \x27jQuery\x27: \x27jquery\x27\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.ProvidePlugin({\n  $: \x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e ,\n  \x3cspan class=\x22hljs-string\x22\x3e\x27jQuery\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27jquery\x27\x3c\/span\x3e\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样当 webpack 碰到 require 的第三方库中出现全局的$、jQeury和window.jQuery 时，就会使用 node_module 下 jquery 包 export 出来的东西了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3ealias\x3c\/h3\x3e\n\x3cp\x3e当项目逐渐变大之后，文件与文件直接的引用关系会很复杂，这时候就需要使用\x3ca href=\x22https:\/\/webpack.js.org\/configuration\/resolve\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ealias\x3c\/a\x3e 了。\x3cbr\x3e有的人喜欢alias 指向src目录下，再使用相对路径找文件\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22resolve: {\n  alias: {\n    \x27~\x27: resolve(__dirname, \x27src\x27)\n  }\n}\n\n\/\/使用\nimport stickTop from \x27~\/components\/stickTop\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eresolve: {\n  \x3cspan class=\x22hljs-attr\x22\x3ealias\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-string\x22\x3e\x27~\x27\x3c\/span\x3e: resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e)\n  }\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/使用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e stickTop \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27~\/components\/stickTop\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e或者也可以\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22alias: {\n  \x27src\x27: path.resolve(__dirname, \x27..\/src\x27),\n  \x27components\x27: path.resolve(__dirname, \x27..\/src\/components\x27),\n  \x27api\x27: path.resolve(__dirname, \x27..\/src\/api\x27),\n  \x27utils\x27: path.resolve(__dirname, \x27..\/src\/utils\x27),\n  \x27store\x27: path.resolve(__dirname, \x27..\/src\/store\x27),\n  \x27router\x27: path.resolve(__dirname, \x27..\/src\/router\x27)\n}\n\n\/\/使用\nimport stickTop from \x27components\/stickTop\x27\nimport getArticle from \x27api\/article\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3ealias: {\n  \x3cspan class=\x22hljs-string\x22\x3e\x27src\x27\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/src\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-string\x22\x3e\x27components\x27\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/src\/components\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-string\x22\x3e\x27api\x27\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/src\/api\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-string\x22\x3e\x27utils\x27\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/src\/utils\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-string\x22\x3e\x27store\x27\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/src\/store\x27\x3c\/span\x3e),\n  \x3cspan class=\x22hljs-string\x22\x3e\x27router\x27\x3c\/span\x3e: path.resolve(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27..\/src\/router\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/使用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e stickTop \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27components\/stickTop\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e getArticle \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27api\/article\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e没有好与坏对与错，纯看个人喜好和团队规范。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3eESLint\x3c\/h2\x3e\n\x3cp\x3e不管是多人合作还是个人项目，代码规范是很重要的。这样做不仅可以很大程度地避免基本语法错误，也保证了代码的可读性。这所谓工欲善其事，必先利其器，个人推荐 eslint\x2bvscode 来写 vue，绝对有种飞一般的感觉。效果如图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282313?w=800\x26amp;h=476\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282313?w=800\x26amp;h=476\x22 alt=\x22eslintGif.gif\x22 title=\x22eslintGif.gif\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e每次保存，vscode就能标红不符合eslint规则的地方，同时还会做一些简单的自我修正。安装步骤如下：\x3c\/p\x3e\n\x3cp\x3e首先安装eslint插件\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282314?w=800\x26amp;h=408\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282314?w=800\x26amp;h=408\x22 alt=\x22eslint1.png\x22 title=\x22eslint1.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e安装并配置完成 ESLint 后，我们继续回到 VSCode 进行扩展设置，依次点击 文件 \x26gt; 首选项 \x26gt; 设置 打开 VSCode 配置文件,添加如下配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n    \x26quot;files.autoSave\x26quot;:\x26quot;off\x26quot;,\n    \x26quot;eslint.validate\x26quot;: [\n       \x26quot;javascript\x26quot;,\n       \x26quot;javascriptreact\x26quot;,\n       \x26quot;html\x26quot;,\n       {\x26nbsp;\x26quot;language\x26quot;:\x26nbsp;\x26quot;vue\x26quot;,\x26nbsp;\x26quot;autoFix\x26quot;:\x26nbsp;true\x26nbsp;}\n     ],\n     \x26quot;eslint.options\x26quot;: {\n        \x26quot;plugins\x26quot;: [\x26quot;html\x26quot;]\n     }\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs prolog\x22\x3e\x3ccode\x3e\n    \x3cspan class=\x22hljs-string\x22\x3e\x22files.autoSave\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22off\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-string\x22\x3e\x22eslint.validate\x22\x3c\/span\x3e: [\n       \x3cspan class=\x22hljs-string\x22\x3e\x22javascript\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-string\x22\x3e\x22javascriptreact\x22\x3c\/span\x3e,\n       \x3cspan class=\x22hljs-string\x22\x3e\x22html\x22\x3c\/span\x3e,\n       {\x26nbsp;\x3cspan class=\x22hljs-string\x22\x3e\x22language\x22\x3c\/span\x3e:\x26nbsp;\x3cspan class=\x22hljs-string\x22\x3e\x22vue\x22\x3c\/span\x3e,\x26nbsp;\x3cspan class=\x22hljs-string\x22\x3e\x22autoFix\x22\x3c\/span\x3e:\x26nbsp;true\x26nbsp;}\n     ],\n     \x3cspan class=\x22hljs-string\x22\x3e\x22eslint.options\x22\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-string\x22\x3e\x22plugins\x22\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x22html\x22\x3c\/span\x3e]\n     }\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样每次保存的时候就可以根据根目录下.eslintrc.js你配置的eslint规则来检查和做一些简单的fix。这里提供了一份我平时的eslint规则\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/.eslintrc.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e地址\x3c\/a\x3e，都简单写上了注释。每个人和团队都有自己的代码规范，统一就好了，去打造一份属于自己的eslint 规则上传到npm吧，如饿了么团队的 \x3ca href=\x22https:\/\/www.npmjs.com\/package\/eslint-config-elemefe\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3econfig\x3c\/a\x3e，vue的 \x3ca href=\x22https:\/\/github.com\/vuejs\/eslint-config-vue\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3econfig\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/varHarrie\/Dawn-Blossoms\/issues\/10\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evscode 插件和配置推荐\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader9\x22\x3e封装 axios\x3c\/h2\x3e\n\x3cp\x3e我们经常遇到一些线上 的bug，但测试环境很难模拟。其实可以通过简单的配置就可以在本地调试线上环境。\x3cbr\x3e这里结合业务封装了axios ，\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\/blob\/master\/src\/utils\/fetch.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e线上代码\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import axios from \x27axios\x27\nimport { Message } from \x27element-ui\x27\nimport store from \x27@\/store\x27\nimport { getToken } from \x27@\/utils\/auth\x27\n\n\/\/ 创建axios实例\nconst service = axios.create({\n  baseURL: process.env.BASE_API, \/\/ api的base_url\n  timeout: 5000 \/\/ 请求超时时间\n})\n\n\/\/ request拦截器\nservice.interceptors.request.use(config =\x3e {\n  \/\/ Do something before request is sent\n  if (store.getters.token) {\n    config.headers[\x27X-Token\x27] = getToken() \/\/ 让每个请求携带token--[\x27X-Token\x27]为自定义key 请根据实际情况自行修改\n  }\n  return config\n}, error =\x3e {\n  \/\/ Do something with request error\n  console.log(error) \/\/ for debug\n  Promise.reject(error)\n})\n\n\/\/ respone拦截器\nservice.interceptors.response.use(\n  response =\x3e response,\n  \/**\n  * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\n  * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中\n  *\/\n  \/\/  const res = response.data;\n  \/\/     if (res.code !== 20000) {\n  \/\/       Message({\n  \/\/         message: res.message,\n  \/\/         type: \x27error\x27,\n  \/\/         duration: 5 * 1000\n  \/\/       });\n  \/\/       \/\/ 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\n  \/\/       if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\n  \/\/         MessageBox.confirm(\x27你已被登出，可以取消继续留在该页面，或者重新登录\x27, \x27确定登出\x27, {\n  \/\/           confirmButtonText: \x27重新登录\x27,\n  \/\/           cancelButtonText: \x27取消\x27,\n  \/\/           type: \x27warning\x27\n  \/\/         }).then(() =\x3e {\n  \/\/           store.dispatch(\x27FedLogOut\x27).then(() =\x3e {\n  \/\/             location.reload();\/\/ 为了重新实例化vue-router对象 避免bug\n  \/\/           });\n  \/\/         })\n  \/\/       }\n  \/\/       return Promise.reject(\x27error\x27);\n  \/\/     } else {\n  \/\/       return response.data;\n  \/\/     }\n  error =\x3e {\n    console.log(\x27err\x27 \x2b error)\/\/ for debug\n    Message({\n      message: error.message,\n      type: \x27error\x27,\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  })\n\nexport default service\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e axios \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27axios\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { Message } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27element-ui\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e store \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/store\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e { getToken } \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/utils\/auth\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建axios实例\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e service = axios.create({\n  \x3cspan class=\x22hljs-attr\x22\x3ebaseURL\x3c\/span\x3e: process.env.BASE_API, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ api的base_url\x3c\/span\x3e\n  timeout: \x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 请求超时时间\x3c\/span\x3e\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ request拦截器\x3c\/span\x3e\nservice.interceptors.request.use(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3econfig\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Do something before request is sent\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (store.getters.token) {\n    config.headers[\x3cspan class=\x22hljs-string\x22\x3e\x27X-Token\x27\x3c\/span\x3e] = getToken() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 让每个请求携带token--[\x27X-Token\x27]为自定义key 请根据实际情况自行修改\x3c\/span\x3e\n  }\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e config\n}, error =\x26gt; {\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Do something with request error\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(error) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ for debug\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.reject(error)\n})\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ respone拦截器\x3c\/span\x3e\nservice.interceptors.response.use(\n  \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e =\x26gt;\x3c\/span\x3e response,\n  \x3cspan class=\x22hljs-comment\x22\x3e\/**\n  * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\n  * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中\n  *\/\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/  const res = response.data;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/     if (res.code !== 20000) {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/       Message({\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/         message: res.message,\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/         type: \x27error\x27,\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/         duration: 5 * 1000\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/       });\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/       \/\/ 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/       if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/         MessageBox.confirm(\x27你已被登出，可以取消继续留在该页面，或者重新登录\x27, \x27确定登出\x27, {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/           confirmButtonText: \x27重新登录\x27,\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/           cancelButtonText: \x27取消\x27,\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/           type: \x27warning\x27\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/         }).then(() =\x26gt; {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/           store.dispatch(\x27FedLogOut\x27).then(() =\x26gt; {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/             location.reload();\/\/ 为了重新实例化vue-router对象 避免bug\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/           });\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/         })\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/       }\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/       return Promise.reject(\x27error\x27);\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/     } else {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/       return response.data;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/     }\x3c\/span\x3e\n  error =\x26gt; {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27err\x27\x3c\/span\x3e \x2b error)\x3cspan class=\x22hljs-comment\x22\x3e\/\/ for debug\x3c\/span\x3e\n    Message({\n      \x3cspan class=\x22hljs-attr\x22\x3emessage\x3c\/span\x3e: error.message,\n      \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27error\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3eduration\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e * \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e\n    })\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.reject(error)\n  })\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e service\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import request from \x27@\/utils\/request\x27\n\n\/\/使用\nexport function getInfo(params) {\n  return request({\n    url: \x27\/user\/info\x27,\n    method: \x27get\x27,\n    params\n  });\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e request \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27@\/utils\/request\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/使用\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetInfo\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eparams\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e request({\n    \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27\/user\/info\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3emethod\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27get\x27\x3c\/span\x3e,\n    params\n  });\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e比如后台项目，每一个请求都是要带 token 来验证权限的，这样封装以下的话我们就不用每个请求都手动来塞 token，或者来做一些统一的异常处理，一劳永逸。\x3cbr\x3e而且因为我们的 api 是根据 \x3ccode\x3eenv\x3c\/code\x3e 环境变量动态切换的，如果以后线上出现了bug，我们只需配置一下 \x3ccode\x3e@\/config\/dev.env.js\x3c\/code\x3e 再重启一下服务，就能在本地模拟线上的环境了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22module.exports = {\n    NODE_ENV: \x27\x26quot;development\x26quot;\x27,\n    BASE_API: \x27\x26quot;https:\/\/api-dev\x26quot;\x27, \/\/修改为\x27\x26quot;https:\/\/api-prod\x26quot;\x27就行了\n    APP_ORIGIN: \x27\x26quot;https:\/\/wallstreetcn.com\x26quot;\x27 \/\/为公司打个广告 pc站为vue\x2bssr\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haxe\x22\x3e\x3ccode\x3emodule.exports = {\n    NODE_ENV: \x3cspan class=\x22hljs-type\x22\x3e\x3c\/span\x3e\x27\x3cspan class=\x22hljs-string\x22\x3e\x22development\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27,\n    BASE_API: \x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/api-dev\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27, \/\/修改为\x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/api-prod\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27就行了\n    APP_ORIGIN: \x27\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/wallstreetcn.com\x22\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e\x27 \/\/为公司打个广告 pc站为vue\x2bssr\n}\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e妈妈再也不用担心我调试线上bug了。\x3c\/strong\x3e\x3cbr\x3e当然这里只是简单举了个例子，axios还可以执行多个并发请求，拦截器什么的，大家自行去研究吧。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e多环境\x3c\/h2\x3e\n\x3cp\x3evue-cli 默认只提供了\x3ccode\x3edev\x3c\/code\x3e和\x3ccode\x3eprod\x3c\/code\x3e两种环境。但其实正真的开发流程可能还会多一个\x3ccode\x3esit\x3c\/code\x3e或者\x3ccode\x3estage\x3c\/code\x3e环境，就是所谓的测试环境和预发布环境。所以我们就要简单的修改一下代码。其实很简单就是设置不同的环境变量\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;build:prod\x26quot;: \x26quot;NODE_ENV=production node build\/build.js\x26quot;,\n\x26quot;build:sit\x26quot;: \x26quot;NODE_ENV=sit node build\/build.js\x26quot;,\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs n1ql\x22\x3e\x3ccode\x3e\x22\x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e:prod\x3cspan class=\x22hljs-string\x22\x3e\x22: \x22\x3c\/span\x3eNODE_ENV=production node \x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e\/\x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e.js\x3cspan class=\x22hljs-string\x22\x3e\x22,\n\x22\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e:sit\x3cspan class=\x22hljs-string\x22\x3e\x22: \x22\x3c\/span\x3eNODE_ENV=sit node \x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e\/\x3cspan class=\x22hljs-keyword\x22\x3ebuild\x3c\/span\x3e.js\x3cspan class=\x22hljs-string\x22\x3e\x22,\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e之后在代码里自行判断，想干就干啥\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var env = process.env.NODE_ENV === \x27production\x27 ? config.build.prodEnv : config.build.sitEnv\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs arduino\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3evar env = \x3cspan class=\x22hljs-built_in\x22\x3eprocess\x3c\/span\x3e.env.NODE_ENV === \x3cspan class=\x22hljs-string\x22\x3e\x27production\x27\x3c\/span\x3e ? \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e.build.prodEnv : \x3cspan class=\x22hljs-built_in\x22\x3econfig\x3c\/span\x3e.build.sitEnv\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e新版的 vue-cli 也内置了 \x3ccode\x3ewebpack-bundle-analyzer\x3c\/code\x3e 一个模块分析的东西，相当的好用。使用方法也很简单，和之前一样封装一个 npm script 就可以。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/package.json\n \x26quot;build:sit-preview\x26quot;: \x26quot;cross-env NODE_ENV=production env_config=sit npm_config_preview=true  npm_config_report=true node build\/build.js\x26quot;\n\n\/\/之后通过process.env.npm_config_report来判断是否来启用webpack-bundle-analyzer\n\nvar BundleAnalyzerPlugin = require(\x27webpack-bundle-analyzer\x27).BundleAnalyzerPlugin\nwebpackConfig.plugins.push(new BundleAnalyzerPlugin())\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/package.json\x3c\/span\x3e\n \x3cspan class=\x22hljs-string\x22\x3e\x22build:sit-preview\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22cross-env NODE_ENV=production env_config=sit npm_config_preview=true  npm_config_report=true node build\/build.js\x22\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/之后通过process.env.npm_config_report来判断是否来启用webpack-bundle-analyzer\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e BundleAnalyzerPlugin = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27webpack-bundle-analyzer\x27\x3c\/span\x3e).BundleAnalyzerPlugin\nwebpackConfig.plugins.push(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e BundleAnalyzerPlugin())\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果图\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282315?w=1240\x26amp;h=597\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282315?w=1240\x26amp;h=597\x22 alt=\x22analyzer.png\x22 title=\x22analyzer.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3ewebpack-bundle-analyzer这个插件还是很有用的，对后期的代码优化什么的，最重要的是它够\x3cstrong\x3e装逼\x3c\/strong\x3e~\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader11\x22\x3e前后端交互\x3c\/h2\x3e\n\x3cp\x3e每个公司都有自己一套的开发流程，没有绝对的好与坏。这里我来讲讲我司的前后端交互流程。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader12\x22\x3e跨域问题\x3c\/h3\x3e\n\x3cp\x3e首先前后端交互不可避免的就会遇到跨域问题，我司现在全是用 \x3ccode\x3ecors\x3c\/code\x3e来解决的，如果你司后端嫌麻烦不肯配置的话，dev环境也可以通过\x3cbr\x3e\x3ccode\x3ewebpack-dev-server\x3c\/code\x3e的\x3ccode\x3eproxy\x3c\/code\x3e来解决，开发环境用\x3ccode\x3enginx\x3c\/code\x3e反代理一下就好了，具体配置这里就不展开了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e前后端的交互问题\x3c\/h3\x3e\n\x3cp\x3e其实大家也知道，平时的开发中交流成本占据了我们很大一部分时间，但前后端如果有一个好的协作方式的话能解决很多时间。我司开发流程都是前后端和产品一起开会讨论项目，之后后端根据需求，首先定义数据格式和api，然后 mock api 生成好文档，我们前端才是对接接口的。这里推荐一个文档生成器 \x3ca href=\x22http:\/\/swagger.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eswagger\x3c\/a\x3e。\x3cbr\x3e\x3cstrong\x3eswagger\x3c\/strong\x3e是一个REST APIs文档生成工具，可以在许多不同的平台上从代码注释中自动生成，开源，支持大部分语言，社区好，总之就是一个强大，如下图的api 文档(swagger自动生成，ui忽略)\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282316?w=1240\x26amp;h=690\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282316?w=1240\x26amp;h=690\x22 alt=\x22\x22 title=\x22\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3eapi 地址，需要传是没参数，需要的传参类型，返回的数据格式什么都一清二楚了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e前端自行mock\x3c\/h3\x3e\n\x3cp\x3e如果后端不肯来帮你 mock 数据的话，前端自己来 mock 也是很简单的。你可以使用mock server 或者使用 \x3ca href=\x22https:\/\/github.com\/badoo\/MockJS\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3emockjs\x3c\/a\x3e \x2b \x3ca href=\x22https:\/\/github.com\/thx\/RAP\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3erap\x3c\/a\x3e 也是很方便的。\x3cbr\x3e 不久前出的 \x3ca href=\x22https:\/\/easy-mock.com\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eeasy-mock\x3c\/a\x3e也相当的不错，还能结合 swagger。\x3cbr\x3e 我们大前端终于不用再看后端的脸色了~\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3eiconfont\x3c\/h3\x3e\n\x3cp\x3eelement-ui 默认的icon不是很多，这里要安利一波阿里的\x3ca href=\x22http:\/\/iconfont.cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eiconfont\x3c\/a\x3e简直是神器，不管是公司项目还是个人项目都在使用。它提供了png,ai,svg三种格式，同时使用也支持unicode，font-class，symbol三种方式。由于是管理后台对兼容性要求不高，楼主平时都喜欢用symbol，晒一波我司后台的图标(都是楼主自己发挥的)。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282317?w=332\x26amp;h=628\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282317?w=332\x26amp;h=628\x22 alt=\x22iconfont.png\x22 title=\x22iconfont.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e详细具体的使用可以见文章 \x3ca href=\x22https:\/\/juejin.im\/post\/59bb864b5188257e7a427c09\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e手摸手，带你优雅的使用 icon\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3erouter-view\x3c\/h2\x3e\n\x3cp\x3edifferent router the same component vue。真实的业务场景中，这种情况很多。比如\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282318?w=1014\x26amp;h=84\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282318?w=1014\x26amp;h=84\x22 alt=\x22router-view.png\x22 title=\x22router-view.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e我创建和编辑的页面使用的是同一个component,默认情况下当这两个页面切换时并不会触发vue的created或者mounted钩子，官方说你可以通过watch $route的变化来做处理，但其实说真的还是蛮麻烦的。后来发现其实可以简单的在 router-view上加上一个唯一的key，来保证路由切换时都会重新渲染触发钩子了。这样简单的多了。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3crouter-view :key=\x26quot;key\x26quot;\x3e\x3c\/router-view\x3e\n\ncomputed: {\n    key() {\n        return this.$route.name !== undefined? this.$route.name \x2b \x2bnew Date(): this.$route \x2b \x2bnew Date()\n    }\n }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3e\x26lt;router-view \x3cspan class=\x22hljs-symbol\x22\x3e:key=\x3cspan class=\x22hljs-string\x22\x3e\x22key\x22\x3c\/span\x3e\x26gt;\x26lt;\/router-view\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-symbol\x22\x3ecomputed:\x3c\/span\x3e {\n    key() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e this.\x3cspan class=\x22hljs-variable\x22\x3e$route\x3c\/span\x3e.name !== undefined? this.\x3cspan class=\x22hljs-variable\x22\x3e$route\x3c\/span\x3e.name \x2b \x2bnew Date(): this.\x3cspan class=\x22hljs-variable\x22\x3e$route\x3c\/span\x3e \x2b \x2bnew Date()\n    }\n }\x3c\/code\x3e\x3c\/pre\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader17\x22\x3e优化\x3c\/h2\x3e\n\x3cp\x3e有些人会觉得现在构建是不是有点慢，我司现在技术栈是容器服务，后台项目会把dist文件夹里的东西都会打包成一个docker镜像，基本步骤为\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install\nnpm run build:prod\n加打包镜像，一共是耗时如下\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3enpm install\nnpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e build:prod\n\x3c\/span\x3e加打包镜像，一共是耗时如下\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000009282319?w=800\x26amp;h=52\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000009282319?w=800\x26amp;h=52\x22 alt=\x22Paste_Image.png\x22 title=\x22Paste_Image.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e还是属于能接受时间的范围。\x3cbr\x3e主站PC站基于nodejs、Vue实现服务端渲染，所以不仅需要依赖nodejs，而且需要利用pm2进行nodejs生命周期的管理。为了加速线上镜像构建的速度，我们利用taobao源 \x3ca href=\x22https:\/\/registry.npm.taobao.org\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/registry.npm.taobao.org\x3c\/a\x3e 进行加速, 并且将一些常见的npm依赖打入了基础镜像，避免每次都需要重新下载。\x3cbr\x3e这里注意下 建议不要使用cnpm install或者update 它的包都是一个link，反正会有各种诡异的bug，这里建议这样使用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install --registry=https:\/\/registry.npm.taobao.org\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode class=\x22shell\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e install --registry=https:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3eregistry.\x3cspan class=\x22hljs-built_in\x22\x3enpm\x3c\/span\x3e.taobao.org\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e如果你觉得慢还是有可优化的空间如使用\x3ccode\x3ewebpack dll\x3c\/code\x3e 或者把那些第三方vendor单独打包 external出去，或者我司现在用的是http2 可以使用\x3ccode\x3eAggressiveSplittingPlugin\x3c\/code\x3e等等，这里有需求的可以自行优化。\x3c\/p\x3e\n\x3chr\x3e\n\x3ch2 id=\x22articleHeader18\x22\x3e占坑\x3c\/h2\x3e\n\x3cp\x3e常规占坑，这里是手摸手，带你用vue撸后台系列。\x3cbr\x3e完整项目地址：\x3ca href=\x22https:\/\/github.com\/PanJiaChen\/vue-element-admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-element-admin\x3c\/a\x3e\x3cbr\x3e系类文章二：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009506097\x22\x3e手摸手，带你用vue撸后台 系列二（登录权限篇）\x3c\/a\x3e\x3cbr\x3e系类文章三：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009762198\x22 target=\x22_blank\x22\x3e手摸手，带你用vue撸后台 系列三(实战篇）\x3c\/a\x3e\x3cbr\x3e系类文章四：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000010043013\x22\x3e手摸手，带你用vue撸后台 系列四(vueAdmin 一个极简的后台基础模板)\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000012213278\x22 target=\x22_blank\x22\x3e手摸手，带你优雅的使用 icon\x3c\/a\x3e\x3cbr\x3e系类文章：\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000009090836\x22\x3e手摸手，带你封装一个vue component\x3c\/a\x3e\x3cbr\x3e楼主个人免费\x3ca href=\x22https:\/\/jianshiapp.com\/circles\/1209\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e圈子\x3c\/a\x3e。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>手摸手，带你用vue撸后台 系列一(基础篇)</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009275424">https://segmentfault.com/a/1190000009275424</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/axmdao5mbzc/" target="_blank">https://alili.tech/archive/axmdao5mbzc/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>