<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="[译]CSS animations 与 transitions 在浏览器方面的性能研究"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>[译]CSS animations 与 transitions 在浏览器方面的性能研究 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/bf2ozc3cf4t/",
				"appid": "1613049289050283", 
				"title": "[译]CSS animations 与 transitions 在浏览器方面的性能研究 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-03T02:30:40"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/zk0b8vdixn/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/kcnu5ul5ec9/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&text=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&text=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&title=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&is_video=false&description=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&title=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&title=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&title=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fbf2ozc3cf4t%2f&title=%5b%e8%af%91%5dCSS%20animations%20%e4%b8%8e%20transitions%20%e5%9c%a8%e6%b5%8f%e8%a7%88%e5%99%a8%e6%96%b9%e9%9d%a2%e7%9a%84%e6%80%a7%e8%83%bd%e7%a0%94%e7%a9%b6"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">[译]CSS animations 与 transitions 在浏览器方面的性能研究</h1><div class="meta"><div class="postdate"><time datetime="2019-02-03" itemprop="datePublished">2019-02-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3ca href=\x22http:\/\/blogs.adobe.com\/webplatform\/2014\/03\/18\/css-animations-and-transitions-performance\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e原文地址\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e你也许早已在项目中使用上了Animations 或 Transitions（如果还没有，可以阅读CSS-Trick’s almanac 关于\x3ca href=\x22https:\/\/css-tricks.com\/almanac\/properties\/a\/animation\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eanimations\x3c\/a\x3e或\x3ca href=\x22https:\/\/css-tricks.com\/almanac\/properties\/t\/transition\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etransitions\x3c\/a\x3e的相关文章）。你会发现你的一些运动表现流畅，而另一些却不尽如人意，你想知道原因？\x3c\/p\x3e\n\x3cp\x3e本文将阐述浏览器是怎样处理\x3cem\x3eCSS animations\x3c\/em\x3e 与 \x3cem\x3etransitions\x3c\/em\x3e。以期在编写代码之前，你可以通过直觉判断某一运动能否运行良好。通过这种直觉，你将能过做出浏览器亲和且用户体验流畅的设计决策。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e深入浏览器内部\x3c\/h2\x3e\n\x3cp\x3e让我深入浏览器内部一探究竟。只有理解了它的工作用力，我们才能做的更好。\x3c\/p\x3e\n\x3cp\x3e现代浏览器有两个重要的执行线程。两个线程共同协作来渲染web页面。他们是：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e主线程（\x3cem\x3eThe main thread\x3c\/em\x3e）\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e排版线程（\x3cem\x3eThe compositor thread\x3c\/em\x3e）\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e一般来说，主线程负责：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e运行JS代码\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e计算HTML元素的CSS样式\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e布局页面\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e将元素绘制成一副或多幅位图\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e将位图传给排版线程\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e排版线程则负责：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e通过GPU，将位图绘制到屏幕上\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e对可见或即将可见的区域，询问主线程是否进行位图更新。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e计算页面的可见区域\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当滚动屏幕时，计算出即将可见的区域\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当滚动时移动页面区域\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e主线程花费大量的时间忙于执行JS代码与绘制大型元素。主线程正在处理任务时，他将无法响应用户的输入（注：这里是广义的输入，泛指交互）。\x3c\/p\x3e\n\x3cp\x3e另一方面，排版线程保持着对用户的输入的响应。当页面改变时，排版线程会进行每秒60次的重绘。甚至在页面还不完整时。\x3c\/p\x3e\n\x3cp\x3e例如，当用户滚动页面时，排版线程会询问主线程是否为新的可见区域更新位图。然而，当主线程的反馈不那么迅速时，排版线程并不会等待。他将对已有反馈的页面进行绘制并使用空白代替未反馈的部分。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3eGPU\x3c\/h2\x3e\n\x3cp\x3e上文提到排版线程通过GPU将位图绘制到屏幕上。让我们聊一聊GPU。\x3c\/p\x3e\n\x3cp\x3eGPU是现今大多数手机，平板，电脑的组成部分。它是一个相当专门化的部件，这意味着它只专注处理一些事务。\x3c\/p\x3e\n\x3cp\x3eGPUs 能够快速处理：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e把图形绘制到屏幕上\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e重复绘制位图\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在不同的区域绘制相同位图或将位图旋转，缩放。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3etransition: height\x3c\/h2\x3e\n\x3cp\x3e现在我们对浏览网页时，硬件与软件的大致行为。让我们来看看究竟浏览器的两个线程是如何协同运作来完成一个CSS动画的。\x3c\/p\x3e\n\x3cp\x3e假设我们使用如下代码，将一个元素从100px变为200px:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22div {\n    height: 100px;\n    transition: height 1s linear;\n}\n \ndiv:hover {\n    height: 200px;\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100px\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: height \x3cspan class=\x22hljs-number\x22\x3e1s\x3c\/span\x3e linear;\n}\n \n\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200px\x3c\/span\x3e;\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e两个线程将会按照下图示意的操作执行。橙色框中的操作会消耗大量时间，而蓝色框的操作运行迅速。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVDc96?w=958\x26amp;h=1479\x22 src=\x22https:\/\/static.alili.tech\/img\/bVDc96?w=958\x26amp;h=1479\x22 alt=\x22animate-height-2x.png\x22 title=\x22animate-height-2x.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如图，这一过程中有大量的黄色框，这意味着浏览器并不能流畅运行。过渡动画将会卡顿。\x3c\/p\x3e\n\x3cp\x3e在每一帧的过渡动画，浏览器都将执行布局，绘制以及向GPC内存更新新的位图的操作。如我们所知，向GPU内存加载位图是一个相当缓慢的操作。\x3c\/p\x3e\n\x3cp\x3e浏览器每一帧运行不流畅的原因在于元素的内容在持续变化。变化元素的高度意味着其子元素的形状也跟着改变，因此浏览器要进行布局。布局后，主线程要为元素从新生成位图。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3etransition: transform\x3c\/h2\x3e\n\x3cp\x3e因此，改变高度是一种高代价的过渡动画。那么有什么的代价比较低廉？\x3c\/p\x3e\n\x3cp\x3e假设我们将一个元素的尺寸从一半还原会正常尺寸。同时，假设使用\x3cem\x3eCSS transform\x3c\/em\x3e 属性去缩放，采用过渡完成动画，代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22div {\n    transform: scale(0.5);\n    transition: transform 1s linear;\n}\n \ndiv:hover {\n    transform: scale(1.0);\n}\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs css\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3escale\x3c\/span\x3e(0.5);\n    \x3cspan class=\x22hljs-attribute\x22\x3etransition\x3c\/span\x3e: transform \x3cspan class=\x22hljs-number\x22\x3e1s\x3c\/span\x3e linear;\n}\n \n\x3cspan class=\x22hljs-selector-tag\x22\x3ediv\x3c\/span\x3e\x3cspan class=\x22hljs-selector-pseudo\x22\x3e:hover\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-attribute\x22\x3etransform\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3escale\x3c\/span\x3e(1.0);\n}\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e让我们看看这个过程的示意图：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVDda8?w=958\x26amp;h=1209\x22 src=\x22https:\/\/static.alili.tech\/img\/bVDda8?w=958\x26amp;h=1209\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e这次橙色框明显减少，这意味着动画更加流畅。元素\x3cem\x3etransform\x3c\/em\x3e 变化与高度变化的动画究竟区别在哪？\x3c\/p\x3e\n\x3cp\x3e通过定义，\x3cem\x3eCSS transform\x3c\/em\x3e 属性并没有改变元素与相邻元素的布局，仅仅只影响了作为一个整体的元素自身（缩放，旋转整个元素或移动整个元素）。\x3c\/p\x3e\n\x3cp\x3e这对于浏览器来说是个好消息。浏览器仅需要产生元素的位图，并在动画开始时向GPU更新位图。之后，浏览器不用再做更多的布局，绘制和位图更新操作。取而代之的是，仰仗GPU专业的能力在不同的区域绘制相同的位图，或使之旋转，缩放。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader4\x22\x3e设计决策\x3c\/h2\x3e\n\x3cp\x3e如此，是否意味着不应进行元素高度的动画？不，有时这仰赖你的设计，运动同样能运行的足够快。也许你的元素是独立的，并不会造成其它部分的重排。也许你的元素只是简单的重绘，浏览器可以快速地执行。也许你的元素很小，浏览器只要向GPU更新一个小的位图。\x3c\/p\x3e\n\x3cp\x3e当然，如果你的动画使用像\x3cem\x3eCSS transform\x3c\/em\x3e一样的“廉价”属性替代像\x3cem\x3eCSS height\x3c\/em\x3e的更“昂贵”的属性，并且这不影响你的设计理念，那就这样做吧。例如，当你的设计需要一个按钮在点击时显示菜单，你需要尝试元素的\x3cem\x3etransform\x3c\/em\x3e属性来显示菜单而不是通过使用\x3cem\x3etop\x3c\/em\x3e或\x3cem\x3eheight\x3c\/em\x3e属性来实现相同或相似的效果。\x3c\/p\x3e\n\x3cp\x3e下面列出一些能实现快速动画的\x3cem\x3eCSS\x3c\/em\x3e属性：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eCSS transform\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eCSS opacity\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eCSS filter (取决于filter的复杂程度与浏览器性能)\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e这个列表现在看来可能很有限，但随着浏览器的进步，越来越多的属性会运动地更快。同时，只是用这个列表上的属性，你也会惊叹于仅仅通过使用这些属性的组合就能创造出大量丰富的效果。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>[译]CSS animations 与 transitions 在浏览器方面的性能研究</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006923260">https://segmentfault.com/a/1190000006923260</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/bf2ozc3cf4t/" target="_blank">https://alili.tech/archive/bf2ozc3cf4t/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>