<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="mui框架开发中下拉刷新页面无法添加区域滚动的问题"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>mui框架开发中下拉刷新页面无法添加区域滚动的问题 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/82uk4qpv07f/",
				"appid": "1613049289050283", 
				"title": "mui框架开发中下拉刷新页面无法添加区域滚动的问题 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-01T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/30tak3uso6u/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ekkut3yf8b/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&text=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&text=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&title=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&is_video=false&description=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&title=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&title=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&title=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f82uk4qpv07f%2f&title=mui%e6%a1%86%e6%9e%b6%e5%bc%80%e5%8f%91%e4%b8%ad%e4%b8%8b%e6%8b%89%e5%88%b7%e6%96%b0%e9%a1%b5%e9%9d%a2%e6%97%a0%e6%b3%95%e6%b7%bb%e5%8a%a0%e5%8c%ba%e5%9f%9f%e6%bb%9a%e5%8a%a8%e7%9a%84%e9%97%ae%e9%a2%98"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">mui框架开发中下拉刷新页面无法添加区域滚动的问题</h1><div class="meta"><div class="postdate"><time datetime="2019-02-01" itemprop="datePublished">2019-02-01</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e这几天在用到\x3ccode\x3emui\x3c\/code\x3e框架开发app时遇到了一些前端页面构建的一些问题，在鼓捣了一天也没有太好的解决办法后，特地记录下这个问题。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e在\x3ccode\x3emui\x3c\/code\x3e框架初始的默认下拉刷新上拉加载的结构之中，无法添加区域滚动的问题\x3c\/h2\x3e\n\x3cp\x3e此问题出现在构建类似原生手机端app时遇到的，大概需求是要在一个可下拉刷新的页面之中点击筛选框弹出特定的下拉列表。本来看到\x3ccode\x3emui\x3c\/code\x3e框架对于区域滚动已经封装了自己的组件后，觉得并没有太大问题。但在实际调试之中发现，利用其封装好的遮罩层\x3ccode\x3ePopover\x3c\/code\x3e来制作弹出菜单时，参照官方文档和其提供的demo示例使用\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;mui-scroll-wrapper\x26quot;\x3e  \n  \x3cdiv class=\x26quot;mui-scroll\x26quot;\x3e  \n     \x3c!-- 此处放置滚动区域内容 --\x3e  \n  \x3c\/div\x3e  \n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mui-scroll-wrapper\x22\x3c\/span\x3e\x26gt;  \n  \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mui-scroll\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e  \n     \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- 此处放置滚动区域内容 --\x26gt;\x3c\/span\x3e  \n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e  \n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/div\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e对\x3ccode\x3epopover\x3c\/code\x3e进行包裹后，在普通页面之中是没有问题的，但是加入到了父子嵌套刷新的页面之中就会出现滚动穿透的问题，\x3ccode\x3epopover\x3c\/code\x3e层的滚动事件不会触发，反而处于遮罩层的列表会继续触发滚动事件。同时在dcloud问答社区也找到了前辈的提问，但是并未有人解决。（点击查看问题链接）另外由于父子页面也会引发另一个问题：\x3cbr\x3e\x3cstrong\x3e父页面的tab切换栏不能在子页面\x3ccode\x3epopover\x3c\/code\x3e弹出时候进行遮罩来阻止操作。\x3c\/strong\x3e\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e\x3cem\x3e利用事件的冒泡属性，阻止\x3ccode\x3epopover\x3c\/code\x3e层的滚动事件冒泡到遮罩层。\x3c\/em\x3e\x3c\/strong\x3e\x3cbr\x3e这个尝试以失败告终，首先这个下拉刷新上来加载页面是通过mui框架封装的父子webview功能来实现的，利用jq的\x3ccode\x3epreventDefault()\x3c\/code\x3e方法并不能取得效果，而且菜单列表还是无法正常的初始化滚动。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e\x3cem\x3e抛弃popover的区域滚动，进行高度自适应的填充。\x3c\/em\x3e\x3c\/strong\x3e\x3cbr\x3e好吧，这居然也算一个解决方案，对于不需要用太多处理的较短筛选列表是可以采用这个方法的，对于第二个问题也是由一种思路可以弥补的，我们放到第三种方法一起讨论。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e\x3cem\x3e利用mui框架官方示例之中的另一个上下拉刷新组件来取代原有的父子\x3ccode\x3ewebview\x3c\/code\x3e刷新页面，这样做的好处是可以构建出上下拉和区域滚动兼容的一个页面来。\x3c\/em\x3e\x3c\/strong\x3e\x3cbr\x3e但是与之伴随的问题也来了，这个必须引用额外的js才可以实现，而且整体效果相对于原生的拖动有较大的差异。对于父页面的遮罩，如果利用mui的自定义事件向父页面触发事件应该是可以解决的，自己利用css遮罩层触发popover的弹出操作。但是popover整体在子页面的操作并不是很流畅，需要进一步利用fire方法在父页面向子页面发请求来操作。整体来说是一种解决思路。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3cstrong\x3e利用H5\x2b的\x3ccode\x3enativeUI\x3c\/code\x3e来构建遮罩层替代popover组件实现需求。\x3c\/strong\x3e\x3cbr\x3e这个想法是在dcloud的官方文章之中找到的，本人不才并没有接触过安卓和ios的原生开发，之后搜索并了解了下这个原生UI的功能。在H5\x2b的文档上发现这个\x3ccode\x3enativeObj\x3c\/code\x3e提供的view对象是可以达到全屏遮罩层的效果。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e但是这个遮罩是全\x3ccode\x3ewebview\x3c\/code\x3e置顶的，而且上面无法放置任何html代码，故而无法达到\x3ccode\x3epopover\x3c\/code\x3e的效果。\x3cbr\x3e继续寻找发现在官方给的H5\x2b的示例之中有\x3ccode\x3ewbview\x3c\/code\x3e遮罩层的示例，研究了一番发现有一个直接封装好的方法，可以直接对当前\x3ccode\x3ewebview\x3c\/code\x3e设置遮罩层同时绑定遮罩层的点击事件。代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 创建Webview窗口带遮罩层  \nvar wd = plus.webview.create(\x27http:\/\/www.dcloud.io\/\x27,\x27dcloud\x27,{mask:\x27rgba(0,0,0,0.5)\x27});  \nwd.show();  \n  \n\/\/ 动态修改Webview窗口的遮罩层  \nvar ws=plus.webview.currentWebview();  \nws.setStyle({mask:\x26quot;rgba(0,0,0,0.5)\x26quot;});  \n\/\/ 用户点击Webview窗口后不显示遮罩层  \nws.addEventListener(\x26quot;maskClick\x26quot;,function(){  \n    ws.setStyle({mask:\x26quot;none\x26quot;});  \n},false);  \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建Webview窗口带遮罩层  \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e wd = plus.webview.create(\x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/www.dcloud.io\/\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-string\x22\x3e\x27dcloud\x27\x3c\/span\x3e,{mask:\x3cspan class=\x22hljs-string\x22\x3e\x27rgba(0,0,0,0.5)\x27\x3c\/span\x3e});  \nwd.show();  \n  \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 动态修改Webview窗口的遮罩层  \x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ws=plus.webview.currentWebview();  \nws.setStyle({mask:\x3cspan class=\x22hljs-string\x22\x3e\x22rgba(0,0,0,0.5)\x22\x3c\/span\x3e});  \n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户点击Webview窗口后不显示遮罩层  \x3c\/span\x3e\nws.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22maskClick\x22\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{  \n    ws.setStyle({mask:\x3cspan class=\x22hljs-string\x22\x3e\x22none\x22\x3c\/span\x3e});  \n},\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);  \x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e利用这个方法可以将要处理的\x3ccode\x3epopover\x3c\/code\x3e弹出层放置到一个新的子\x3ccode\x3ewebview\x3c\/code\x3e中去，这样设计的两个问题就都解决了。而且遮罩层不用自己去手写，相对而言事件的触发也没有变得太多，的确是一个更好的办法。\x3c\/p\x3e\n\x3cp\x3e最终，利用方法4的思路，在子页面触发事件，分别向父页面\x3ccode\x3efire\x3c\/code\x3e事件打开遮罩层（点击后隐藏）并打开菜单页（放置要处理的弹出菜单）。在菜单页关闭的同时也关闭父页面的遮罩，触发子页面的数据刷新，问题就解决了。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3eps.调试发现菜单栏的\x3ccode\x3ewebview\x3c\/code\x3e最好不要多次创建，使用时\x3ccode\x3ehide\x3c\/code\x3e和\x3ccode\x3eshow\x3c\/code\x3e比多次调用\x3ccode\x3ecreate\x3c\/code\x3e要流畅不少。\x3c\/em\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e追加dcloud一实现参考方法：\x3ca href=\x22http:\/\/ask.dcloud.net.cn\/article\/965\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/ask.dcloud.net.cn\/arti...\x3c\/a\x3e\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>mui框架开发中下拉刷新页面无法添加区域滚动的问题</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007268932">https://segmentfault.com/a/1190000007268932</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/82uk4qpv07f/" target="_blank">https://alili.tech/archive/82uk4qpv07f/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>