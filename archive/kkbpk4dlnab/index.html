<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="关于跨域"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>关于跨域 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/kkbpk4dlnab/",
				"appid": "1613049289050283", 
				"title": "关于跨域 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-03T02:30:40"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/a4sk701m6bb/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/e1lzyae8tkk/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&text=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&text=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&title=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&is_video=false&description=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&title=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&title=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&title=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fkkbpk4dlnab%2f&title=%e5%85%b3%e4%ba%8e%e8%b7%a8%e5%9f%9f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">关于跨域</h1><div class="meta"><div class="postdate"><time datetime="2019-02-03" itemprop="datePublished">2019-02-03</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e前言\x3c\/h1\x3e\n\x3cp\x3e转眼就是秋招季啦。经历了几场笔试面试，屡次被问到关于如何实现跨域。老实说，之前都是纸上谈兵，也没有项目需要跨域，甚至觉得这个东西没什么意义。直到今天项目中遇到了跨域问题，看了不少资料才理解跨域的普遍性和意义。特写此篇文章整理自己所得。\x3cbr\x3e转自个人博客: \x3ca href=\x22http:\/\/lsxj615.com\/2016\/09\/14\/cross-domain\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e关于跨域\x3c\/a\x3e\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e什么是跨域\x3c\/h1\x3e\n\x3cp\x3e一般来说，如果你在开发中需要进行跨域操作（从一个非同源网站发送请求获取数据），一般而言，你在浏览器控制台看到的结果为：\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3eXMLHttpRequest cannot load http:\/\/external-domain\/service. No ‘Access-Control-Allow-Origin’ header is present on the requested resource. Origin ‘http:\/\/my-domain’ is therefore not allowed access.\x3c\/code\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e同源策略\x3c\/h2\x3e\n\x3cp\x3e说到跨域就不得不提“同源策略”。   \x3cbr\x3e同源策略是Web浏览器针对恶意的代码所进行的措施，为了防止世界被破坏，为了保护世界的和平，Web浏览器，采取了同源策略，只允许脚本读取和所属文档来源相同的窗口和文档的属性。\x3cbr\x3e那么，怎么判断文档来源是否相同呢？很简单，看三个部分： \x3cstrong\x3e协议\x3c\/strong\x3e、\x3cstrong\x3e主机\x3c\/strong\x3e、\x3cstrong\x3e端口号\x3c\/strong\x3e。只要其中一个部分不同，则不同源。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e跨域的应用场景\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e来自 \x3ccode\x3ehome.example.com\x3c\/code\x3e 的文档里的脚本读取 \x3ccode\x3edeveloper.example.com\x3c\/code\x3e载入的文档的属性。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e来自 \x3ccode\x3ehome.example.com\x3c\/code\x3e 的文档里的脚本读取 \x3ccode\x3etext.segmentfault.com\x3c\/code\x3e载入的文档的属性\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e如何跨域\x3c\/h1\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e设置\x3ccode\x3edomain\x3c\/code\x3e属性\x3c\/h2\x3e\n\x3cp\x3e针对上述应用场景的第一种情况，可以设置\x3ccode\x3eDocument\x3c\/code\x3e对象的\x3ccode\x3edomain\x3c\/code\x3e属性。但是设置时使用的字符串必须具有有效的域前缀或者它本身。   \x3cbr\x3ePS: \x3ccode\x3edomain\x3c\/code\x3e值中必须有一个点号。   \x3cbr\x3ePS: \x3ccode\x3edomain\x3c\/code\x3e不能由松散的变为紧绷的。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/初始值 \x26quot;home.example.com\x26quot; \ndocument.domain = \x26quot;example.com\x26quot;; \/\/OK\ndocument.domain = \x26quot;home.example.com\x26quot;; \/\/NO,不能由松散变紧绷\ndocument.domain = \x26quot;example\x26quot;; \/\/NO，必须有一个点号\ndocument.domain = \x26quot;another.com\x26quot;; \/\/NO， 必须是有效域前缀或其本身\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dart\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/初始值 \x22home.example.com\x22 \x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.domain = \x3cspan class=\x22hljs-string\x22\x3e\x22example.com\x22\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/OK\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.domain = \x3cspan class=\x22hljs-string\x22\x3e\x22home.example.com\x22\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/NO,不能由松散变紧绷\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.domain = \x3cspan class=\x22hljs-string\x22\x3e\x22example\x22\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/NO，必须有一个点号\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.domain = \x3cspan class=\x22hljs-string\x22\x3e\x22another.com\x22\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/NO， 必须是有效域前缀或其本身\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3eJSONP\x3c\/h2\x3e\n\x3cp\x3eJSONP由两部分组成： 回调函数和数据。\x3cbr\x3e原理：通过动态\x3ccode\x3e\x26lt;script\x26gt;\x3c\/code\x3e元素来使用，可以通过\x3ccode\x3esrc\x3c\/code\x3e属性指定一个跨域URL。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function handler(data){\n    console.log(data);\n}\n\nvar script = document.createElement(\x26quot;script\x26quot;);\nscript.src = \x26quot;https:\/\/segmentfault.com\/json\/?callback=handler\x26quot;;\ndocument.body.insertBefore(script, document.body.firstChild);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ehandler\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(data);\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e script = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.createElement(\x3cspan class=\x22hljs-string\x22\x3e\x22script\x22\x3c\/span\x3e);\nscript.src = \x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/segmentfault.com\/json\/?callback=handler\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.insertBefore(script, \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.body.firstChild);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除此之外，还可以利用\x3ccode\x3ejQuery\x3c\/code\x3e来实现。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function jsonCallback(json){\n  console.log(json);\n}\n\n$.ajax({\n  url: \x26quot;http:\/\/run.plnkr.co\/plunks\/v8xyYN64V4nqCshgjKms\/data-2.json\x26quot;,\n  dataType: \x26quot;jsonp\x26quot;\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ejsonCallback\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ejson\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(json);\n}\n\n$.ajax({\n  \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/run.plnkr.co\/plunks\/v8xyYN64V4nqCshgjKms\/data-2.json\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3edataType\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22jsonp\x22\x3c\/span\x3e\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行结果如下：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006934762?w=937\x26amp;h=288\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006934762?w=937\x26amp;h=288\x22 alt=\x22结果\x22 title=\x22结果\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e某些API(例如\x3ca href=\x22https:\/\/developer.github.com\/v3\/#json-p-callbacks\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eGithub API\x3c\/a\x3e)允许你定义一个回调函数，当请求返回时执行该函数。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function logResults(json){\n  console.log(json);\n}\n\n$.ajax({\n  url: \x26quot;https:\/\/api.github.com\/users\/jeresig\x26quot;,\n  dataType: \x26quot;jsonp\x26quot;,\n  jsonpCallback: \x26quot;logResults\x26quot;\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3elogResults\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ejson\x3c\/span\x3e)\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(json);\n}\n\n$.ajax({\n  \x3cspan class=\x22hljs-attr\x22\x3eurl\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/api.github.com\/users\/jeresig\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3edataType\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22jsonp\x22\x3c\/span\x3e,\n  \x3cspan class=\x22hljs-attr\x22\x3ejsonpCallback\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22logResults\x22\x3c\/span\x3e\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e运行结果如下：   \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000006934763?w=407\x26amp;h=217\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000006934763?w=407\x26amp;h=217\x22 alt=\x22结果\x22 title=\x22结果\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e优点:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e兼容性强。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e简单易用，能之间访问响应文本，支持浏览器与服务器之间双向通信。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e不足：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e只能用\x3ccode\x3eGET\x3c\/code\x3e方法，不能使用\x3ccode\x3ePOST\x3c\/code\x3e方法\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e无法判断请求是否失败，没有错误处理。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e跨域资源共享CORS\x3c\/h2\x3e\n\x3cp\x3e需要浏览器和服务器同时支持。   \x3cbr\x3e原理：使用\x3ccode\x3e\x22Origin:\x22\x3c\/code\x3e请求头和\x3ccode\x3e\x22Access-Control-Allow-Origin\x22\x3c\/code\x3e响应头来扩展HTTP。其实就是利用新的HTTP头部来进行浏览器与服务器之间的沟通。\x3c\/p\x3e\n\x3cp\x3e针对前端代码而言，变化的地方在于\x3cstrong\x3e相对路径需改为绝对路径\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/以前的方式\nvar xhr = new XMLHttpRequest(); \nxhr.open(\x26quot;GET\x26quot;, \x26quot;\/test\x26quot;, true); \nxhr.send(); \n\/\/CORS方式\nvar xhr = new XMLHttpRequest(); \nxhr.open(\x26quot;GET\x26quot;, \x26quot;http:\/\/segmentfault.com\/test\x26quot;, true); \nxhr.send(); \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs accesslog\x22\x3e\x3ccode\x3e\/\/以前的方式\nvar xhr = new XMLHttpRequest(); \nxhr.open(\x3cspan class=\x22hljs-string\x22\x3e\x22\x3cspan class=\x22hljs-keyword\x22\x3eGET\x3c\/span\x3e\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22\/test\x22\x3c\/span\x3e, true); \nxhr.send(); \n\/\/CORS方式\nvar xhr = new XMLHttpRequest(); \nxhr.open(\x3cspan class=\x22hljs-string\x22\x3e\x22\x3cspan class=\x22hljs-keyword\x22\x3eGET\x3c\/span\x3e\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/segmentfault.com\/test\x22\x3c\/span\x3e, true); \nxhr.send(); \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e针对服务器代码而言，需要设置\x3ccode\x3eAccess-Control-Allow-Origin\x3c\/code\x3e，显式地列出源或使用通配符来匹配所有源。\x3c\/p\x3e\n\x3cp\x3e优点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3eCORS支持所有类型的HTTP请求。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用CORS，开发者可以使用普通的\x3ccode\x3eXMLHttpRequest\x3c\/code\x3e发起请求和获得数据\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e不足：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e不能发送和接收\x3ccode\x3ecookie\x3c\/code\x3e   \x3cbr\x3e\x3cstrong\x3e更新：\x3c\/strong\x3e服务端可以通过设置\x3ccode\x3eAccess-Control-Allow-Credentials\x3c\/code\x3e该字段来表示是否允许发送Cookie。发送ajax请求时，需配置\x3ccode\x3ewithCredentials\x3c\/code\x3e属性。(感谢sf小伙伴\x3ca href=\x22\/u\/lloyd_zhou\x22\x3e@lloyd_zhou\x3c\/a\x3e 指正) 具体可查看   \x3ca href=\x22http:\/\/www.ruanyifeng.com\/blog\/2016\/04\/cors.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e阮一峰大大的博客\x3c\/a\x3e。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e不能使用\x3ccode\x3esetRequestHeader()\x3c\/code\x3e设置自定义头部\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e兼容IE10\x2b\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader8\x22\x3epostMessage\x3c\/h2\x3e\n\x3cp\x3e\x3ccode\x3epostMessge()\x3c\/code\x3e是HTML5新定义的通信机制。所有主流浏览器都已实现。该API定义在Window对象。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22otherWindow.postMessage(message, targetOrigin);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode\x3eotherWindow.postMessage(\x3cspan class=\x22hljs-keyword\x22\x3emessage\x3c\/span\x3e, targetOrigin);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3emessage\x3c\/code\x3e: 要传递的消息。   \x3cbr\x3e\x3ccode\x3etargetOrigin\x3c\/code\x3e: 指定\x3cstrong\x3e目标窗口\x3c\/strong\x3e的源。在发送消息的时候，如果目标窗口的协议、主机地址或端口这三者的任意一项不匹配targetOrigin提供的值，那么消息就不会被发送；只有三者完全匹配，消息才会被发送。这个机制用来控制消息可以发送到哪些窗口；\x3c\/p\x3e\n\x3cp\x3e当源匹配时，调用\x3ccode\x3epostMessage()\x3c\/code\x3e方法时，目标窗口的Window对象会触发一个\x3ccode\x3emessage\x3c\/code\x3e事件。在进行监听事件时，应先判断\x3ccode\x3eorigin\x3c\/code\x3e属性，忽略来自未知源的消息。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/\x3chttp:\/\/example.com:8080\x3e上的脚本:\nvar popup = window.open(...popup details...);\npopup.postMessage(\x26quot;The user is \x27bob\x27 and the password is \x27secret\x27\x26quot;,\n              \x26quot;https:\/\/secure.example.net\x26quot;);  \npopup.postMessage(\x26quot;hello there!\x26quot;, \x26quot;http:\/\/example.org\x26quot;);\n\nfunction receiveMessage(event)\n{\n  if (event.origin !== \x26quot;http:\/\/example.org\x26quot;)\n    return;\n  \/\/ event.source is popup\n  \/\/ event.data is \x26quot;hi there yourself!  the secret response is: rheeeeet!\x26quot;【见下面一段代码可知】\n}\nwindow.addEventListener(\x26quot;message\x26quot;, receiveMessage, false);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/\x26lt;http:\/\/example.com:8080\x26gt;上的脚本:\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e popup = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.open(...popup details...);\npopup.postMessage(\x3cspan class=\x22hljs-string\x22\x3e\x22The user is \x27bob\x27 and the password is \x27secret\x27\x22\x3c\/span\x3e,\n              \x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/secure.example.net\x22\x3c\/span\x3e);  \npopup.postMessage(\x3cspan class=\x22hljs-string\x22\x3e\x22hello there!\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/example.org\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ereceiveMessage\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevent\x3c\/span\x3e)\n\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (event.origin !== \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/example.org\x22\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ event.source is popup\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ event.data is \x22hi there yourself!  the secret response is: rheeeeet!\x22【见下面一段代码可知】\x3c\/span\x3e\n}\n\x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22message\x22\x3c\/span\x3e, receiveMessage, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e针对上面的脚本进行接受数据的操作：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/*\n * popup的脚本，运行在\x3chttp:\/\/example.org\x3e:\n *\/\n\n\/\/当postMessage后触发的监听事件\nfunction receiveMessage(event)\n{\n  \/\/先判断源\n  if (event.origin !== \x26quot;http:\/\/example.com:8080\x26quot;)\n    return;\n\n  \/\/ event.source：window.opener\n  \/\/ event.data：\x26quot;hello there!\x26quot;\n\n  event.source.postMessage(\x26quot;hi there yourself!  the secret response \x26quot; \x2b\n                           \x26quot;is: rheeeeet!\x26quot;,\n                           event.origin);\n}\n\nwindow.addEventListener(\x26quot;message\x26quot;, receiveMessage, false);\n     \x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/*\n * popup的脚本，运行在\x26lt;http:\/\/example.org\x26gt;:\n *\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/当postMessage后触发的监听事件\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3efunction \x3cspan class=\x22hljs-title\x22\x3ereceiveMessage\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eevent\x3c\/span\x3e\x3c\/span\x3e)\n\x3c\/span\x3e{\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/先判断源\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3eevent\x3c\/span\x3e.origin !== \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/example.com:8080\x22\x3c\/span\x3e)\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ event.source：window.opener\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ event.data：\x22hello there!\x22\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eevent\x3c\/span\x3e.source.postMessage(\x3cspan class=\x22hljs-string\x22\x3e\x22hi there yourself!  the secret response \x22\x3c\/span\x3e \x2b\n                           \x3cspan class=\x22hljs-string\x22\x3e\x22is: rheeeeet!\x22\x3c\/span\x3e,\n                           \x3cspan class=\x22hljs-keyword\x22\x3eevent\x3c\/span\x3e.origin);\n}\n\nwindow.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22message\x22\x3c\/span\x3e, receiveMessage, \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e);\n     \x3c\/code\x3e\x3c\/pre\x3e\n\x3ch1 id=\x22articleHeader9\x22\x3e后续\x3c\/h1\x3e\n\x3cp\x3e收到了很多小伙伴的建议和指正，不胜感激，我会慢慢丰富这篇文章的内容的。请多多指教~\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader10\x22\x3e参考文章\x3c\/h2\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.tuicool.com\/articles\/YRFRrmb\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e前端跨域请求原理及实践\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/API\/Window\/postMessage\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWindow.postMessage()|MDN\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.tuicool.com\/articles\/zEZJzm2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e老生常谈的跨域处理\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.tuicool.com\/articles\/A7Ff2iV\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJavaScript跨域问题总结\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.tuicool.com\/articles\/JrMFbiY\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e实现跨域的几种方式\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/www.sitepoint.com\/jsonp-examples\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ejQuery’s JSONP Explained with Examples\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>关于跨域</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000006908944">https://segmentfault.com/a/1190000006908944</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/kkbpk4dlnab/" target="_blank">https://alili.tech/archive/kkbpk4dlnab/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>