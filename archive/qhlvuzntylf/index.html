<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何使用树莓派测定颗粒物（PM 2.5）"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何使用树莓派测定颗粒物（PM 2.5） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/qhlvuzntylf/",
				"appid": "1613049289050283", 
				"title": "如何使用树莓派测定颗粒物（PM 2.5） | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-19T02:30:10"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/4hclhzhcyvy/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ejjsd22oq1h/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&text=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&text=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&title=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&title=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&title=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&title=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqhlvuzntylf%2f&title=%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%b5%8b%e5%ae%9a%e9%a2%97%e7%b2%92%e7%89%a9%ef%bc%88PM%202.5%ef%bc%89"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何使用树莓派测定颗粒物（PM 2.5）</h1><div class="meta"><div class="postdate"><time datetime="2019-01-19" itemprop="datePublished">2019-01-19</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#如何使用树莓派测定颗粒物pm-25\x22\x3e\x3c\/a\x3e如何使用树莓派测定颗粒物（PM 2.5）\x3c\/h1\x3e\n\x3cblockquote\x3e\n\x3cp\x3e使用两个简单的硬件设备和几行代码构建一个空气质量探测器。\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/ca259ca2028f89670d189bd6423ac6f9feee1662\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f7374796c65732f696d6167652d66756c6c2d73697a652f7075626c69632f6c6561642d696d616765732f627562626c6568616e64735f66726f6d5248545f3532305f303631324c4c2e706e673f69746f6b3d5f695132644f3353\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t018e5f42d3f2f6e6c6.png\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e我们在东南亚的学校定期测定空气中的颗粒物。这里的测定值非常高，尤其是在二到五月之间，干燥炎热、土地干旱等各种因素都对空气质量产生了不利的影响。我将会在这篇文章中展示如何使用树莓派来测定颗粒物。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#什么是颗粒物\x22\x3e\x3c\/a\x3e什么是颗粒物？\x3c\/h3\x3e\n\x3cp\x3e颗粒物就是粉尘或者空气中的微小颗粒。其中 PM10 和 PM2.5 之间的差别就是 PM10 指的是粒径小于 10 微米的颗粒，而 PM2.5 指的是粒径小于 2.5 微米的颗粒。在粒径小于 2.5 微米的的情况下，由于它们能被吸入肺泡中并且对呼吸系统造成影响，因此颗粒越小，对人的健康危害越大。\x3c\/p\x3e\n\x3cp\x3e世界卫生组织的建议\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Particulates\x22\x3e颗粒物浓度\x3c\/a\x3e是：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e年均 PM10 不高于 20 µg\/m³\x3c\/li\x3e\n\x3cli\x3e年均 PM2.5 不高于 10 µg\/m³\x3c\/li\x3e\n\x3cli\x3e不允许超标时，日均 PM10 不高于 50 µg\/m³\x3c\/li\x3e\n\x3cli\x3e不允许超标时，日均 PM2.5 不高于 25 µg\/m³\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e以上数值实际上是低于大多数国家的标准的，例如欧盟对于 PM10 所允许的年均值是不高于 40 µg\/m³。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#什么是空气质量指数air-quality-indexaqi\x22\x3e\x3c\/a\x3e什么是空气质量指数Air Quality Index（AQI）？\x3c\/h3\x3e\n\x3cp\x3e空气质量指数是按照颗粒物的测定值来评价空气质量的好坏，然而由于各国之间的计算方式有所不同，这个指数并没有统一的标准。维基百科上关于\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Air_quality_index\x22\x3e空气质量指数\x3c\/a\x3e的词条对此给出了一个概述。我们学校则以\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/United_States_Environmental_Protection_Agency\x22\x3e美国环境保护协会\x3c\/a\x3eEnvironment Protection Agency（EPA）建立的分类法来作为依据。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/9f898512d9c6f201b69878a69f0f202e6724ff30\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f7374796c65732f70616e6f706f6c795f696d6167655f6f726967696e616c2f7075626c69632f696d616765732f6c6966652d75706c6f6164732f6169725f7175616c6974795f696e6465782e706e673f69746f6b3d46776d4766315a53\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t015134ffb7307cfd45.png\x22 alt=\x22空气质量指数\x22 title=\x22Air quality index\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e空气质量指数\x3c\/em\x3e\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#测定颗粒物需要哪些准备\x22\x3e\x3c\/a\x3e测定颗粒物需要哪些准备？\x3c\/h3\x3e\n\x3cp\x3e测定颗粒物只需要以下两种器材：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e树莓派（款式不限，最好带有 WiFi）\x3c\/li\x3e\n\x3cli\x3eSDS011 颗粒物传感器\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/76008beb8df9e5ecbbc5db89a764e0997439cbc0\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f7374796c65732f70616e6f706f6c795f696d6167655f6f726967696e616c2f7075626c69632f696d616765732f6c6966652d75706c6f6164732f706172746963756c6174655f73656e736f722e6a70673f69746f6b3d646448336242774f\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01da2663a8db1ffbce.jpg\x22 alt=\x22颗粒物传感器\x22 title=\x22Particulate sensor\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e颗粒物传感器\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e如果是只带有 Micro USB 的树莓派 Zero W，那还需要一根连接到标准 USB 端口的适配线，只需要 20 美元，而传感器则自带适配串行接口的 USB 适配器。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#安装过程\x22\x3e\x3c\/a\x3e安装过程\x3c\/h3\x3e\n\x3cp\x3e对于树莓派，只需要下载对应的 Raspbian Lite 镜像并且\x3ca href=\x22https:\/\/www.raspberrypi.org\/documentation\/installation\/installing-images\/README.md\x22\x3e写入到 Micro SD 卡\x3c\/a\x3e上就可以了（网上很多教程都有介绍如何设置 WLAN 连接，我就不细说了）。\x3c\/p\x3e\n\x3cp\x3e如果要使用 SSH，那还需要在启动分区建立一个名为 \x3ccode\x3essh\x3c\/code\x3e 的空文件。树莓派的 IP 通过路由器或者 DHCP 服务器获取，随后就可以通过 SSH 登录到树莓派了（默认密码是 raspberry）：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lsl\x22\x3e$ ssh pi@\x3cspan class=\x22hljs-number\x22\x3e192.168\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.1\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e.5\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e首先我们需要在树莓派上安装一下这些包：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs crystal\x22\x3e$ sudo apt install git-core python-serial python-\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eenum\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3elighttpd\x3c\/span\x3e\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在开始之前，我们可以用 \x3ccode\x3edmesg\x3c\/code\x3e 来获取 USB 适配器连接的串行接口：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3e$ dmesg\n[ 5.559802] usbcore: registered new\x3cspan class=\x22hljs-built_in\x22\x3e interface \x3c\/span\x3edriver usbserial\n[ 5.559930] usbcore: registered new\x3cspan class=\x22hljs-built_in\x22\x3e interface \x3c\/span\x3edriver usbserial_generic\n[ 5.560049] usbserial: USB Serial support registered \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e generic\n[ 5.569938] usbcore: registered new\x3cspan class=\x22hljs-built_in\x22\x3e interface \x3c\/span\x3edriver ch341\n[ 5.570079] usbserial: USB Serial support registered \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e ch341-uart\n[ 5.570217] ch341 1–1.4:1.0: ch341-uart converter detected\n[ 5.575686] usb 1–1.4: ch341-uart converter now attached \x3cspan class=\x22hljs-keyword\x22\x3eto\x3c\/span\x3e ttyUSB0\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在最后一行，可以看到接口 \x3ccode\x3ettyUSB0\x3c\/code\x3e。然后我们需要写一个 Python 脚本来读取传感器的数据并以 JSON 格式存储，在通过一个 HTML 页面就可以把数据展示出来了。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#在树莓派上读取数据\x22\x3e\x3c\/a\x3e在树莓派上读取数据\x3c\/h3\x3e\n\x3cp\x3e首先创建一个传感器实例，每 5 分钟读取一次传感器的数据，持续 30 秒，这些数值后续都可以调整。在每两次测定的间隔，我们把传感器调到睡眠模式以延长它的使用寿命（厂商认为元件的寿命大约 8000 小时）。\x3c\/p\x3e\n\x3cp\x3e我们可以使用以下命令来下载 Python 脚本：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs awk\x22\x3e$ wget -O \x3cspan class=\x22hljs-regexp\x22\x3e\/home\/\x3c\/span\x3epi\x3cspan class=\x22hljs-regexp\x22\x3e\/aqi.py https:\/\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/raw.githubusercontent.com\/\x3c\/span\x3ezefanja\x3cspan class=\x22hljs-regexp\x22\x3e\/aqi\/m\x3c\/span\x3easter\x3cspan class=\x22hljs-regexp\x22\x3e\/python\/\x3c\/span\x3eaqi.py\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e另外还需要执行以下两条命令来保证脚本正常运行：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs groovy\x22\x3e$ sudo chown \x3cspan class=\x22hljs-string\x22\x3epi:\x3c\/span\x3epi \x3cspan class=\x22hljs-regexp\x22\x3e\/var\/\x3c\/span\x3ewww\x3cspan class=\x22hljs-regexp\x22\x3e\/html\/\x3c\/span\x3e\n$ echo \x3cspan class=\x22hljs-string\x22\x3e\x27[]\x27\x3c\/span\x3e \x26gt; \x3cspan class=\x22hljs-regexp\x22\x3e\/var\/\x3c\/span\x3ewww\x3cspan class=\x22hljs-regexp\x22\x3e\/html\/\x3c\/span\x3eaqi.json\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e下面就可以执行脚本了：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs gcode\x22\x3e$ chmod \x2bx aqi.p\n$ .\/aqi.py\nP\x3cspan class=\x22hljs-name\x22\x3eM2.5\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e55.3\x3c\/span\x3e, P\x3cspan class=\x22hljs-name\x22\x3eM10\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e47.5\x3c\/span\x3e\nP\x3cspan class=\x22hljs-name\x22\x3eM2.5\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e55.5\x3c\/span\x3e, P\x3cspan class=\x22hljs-name\x22\x3eM10\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e47.7\x3c\/span\x3e\nP\x3cspan class=\x22hljs-name\x22\x3eM2.5\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e55.7\x3c\/span\x3e, P\x3cspan class=\x22hljs-name\x22\x3eM10\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e47.8\x3c\/span\x3e\nP\x3cspan class=\x22hljs-name\x22\x3eM2.5\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e53.9\x3c\/span\x3e, P\x3cspan class=\x22hljs-name\x22\x3eM10\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e47.6\x3c\/span\x3e\nP\x3cspan class=\x22hljs-name\x22\x3eM2.5\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e53.6\x3c\/span\x3e, P\x3cspan class=\x22hljs-name\x22\x3eM10\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e47.4\x3c\/span\x3e\nP\x3cspan class=\x22hljs-name\x22\x3eM2.5\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e54.2\x3c\/span\x3e, P\x3cspan class=\x22hljs-name\x22\x3eM10\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e47.3\x3c\/span\x3e\n…\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch3\x3e\x3ca href=\x22#自动化执行脚本\x22\x3e\x3c\/a\x3e自动化执行脚本\x3c\/h3\x3e\n\x3cp\x3e只需要使用诸如 crontab 的服务，我们就不需要每次都手动启动脚本了。按照以下命令打开 crontab 文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs shell\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e$\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e crontab -e\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在文件末尾添加这一行：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs groovy\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e@reboot\x3c\/span\x3e cd \x3cspan class=\x22hljs-regexp\x22\x3e\/home\/\x3c\/span\x3epi\x3cspan class=\x22hljs-regexp\x22\x3e\/ \x26amp;\x26amp; .\/\x3c\/span\x3eaqi.py\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在我们的脚本就会在树莓派每次重启后自动执行了。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#展示颗粒物测定值和空气质量指数的-html-页面\x22\x3e\x3c\/a\x3e展示颗粒物测定值和空气质量指数的 HTML 页面\x3c\/h3\x3e\n\x3cp\x3e我们在前面已经安装了一个轻量级的 web 服务器 \x3ccode\x3elighttpd\x3c\/code\x3e，所以我们需要把 HTML、JavaScript、CSS 文件放置在 \x3ccode\x3e\/var\/www\/html\x3c\/code\x3e 目录中，这样就能通过电脑和智能手机访问到相关数据了。执行下面的三条命令，可以下载到对应的文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs elixir\x22\x3e\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3ewget -O \/var\/www\/html\/index.html \x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/raw.githubusercontent.com\/zefanja\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/aqi\/master\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/html\/index\x3c\/span\x3e.html\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3ewget -O \/var\/www\/html\/aqi.js \x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/raw.githubusercontent.com\/zefanja\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/aqi\/master\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/html\/aqi\x3c\/span\x3e.js\n\x3cspan class=\x22hljs-variable\x22\x3e$ \x3c\/span\x3ewget -O \/var\/www\/html\/style.css \x3cspan class=\x22hljs-symbol\x22\x3ehttps:\x3c\/span\x3e\/\x3cspan class=\x22hljs-regexp\x22\x3e\/raw.githubusercontent.com\/zefanja\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/aqi\/master\x3c\/span\x3e\x3cspan class=\x22hljs-regexp\x22\x3e\/html\/style\x3c\/span\x3e.css\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在 JavaScript 文件中，实现了打开 JSON 文件、提取数据、计算空气质量指数的过程，随后页面的背景颜色将会根据 EPA 的划分标准而变化。\x3c\/p\x3e\n\x3cp\x3e你只需要用浏览器访问树莓派的地址，就可以看到当前颗粒物浓度值等数据了： \x3ca href=\x22http:\/\/192.168.1.5\/\x22\x3ehttp:\/\/192.168.1.5:\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e这个页面比较简单而且可扩展，比如可以添加一个展示过去数小时历史数据的表格等等。\x3c\/p\x3e\n\x3cp\x3e这是\x3ca href=\x22https:\/\/github.com\/zefanja\/aqi\x22\x3eGithub上的完整源代码\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#总结\x22\x3e\x3c\/a\x3e总结\x3c\/h3\x3e\n\x3cp\x3e在资金相对紧张的情况下，树莓派是一种选择。除此以外，还有很多可以用来测定颗粒物的应用，包括室外固定装置、移动测定设备等等。我们学校则同时采用了这两种：固定装置在室外测定全天颗粒物浓度，而移动测定设备在室内检测空调过滤器的效果。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/luftdaten.info\/\x22\x3eLuftdaten.info\x3c\/a\x3e 提供了一个如何设计类似的传感器的介绍，其中的软件效果出众，而且因为它没有使用树莓派，所以硬件更是小巧。\x3c\/p\x3e\n\x3cp\x3e对于学生来说，设计一个颗粒物传感器确实算得上是一个优秀的课外项目。\x3c\/p\x3e\n\x3cp\x3e你又打算如何使用你的\x3ca href=\x22https:\/\/openschoolsolutions.org\/shutdown-servers-case-power-failure%e2%80%8a-%e2%80%8aups-nut-co\/\x22\x3e树莓派\x3c\/a\x3e呢？\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/opensource.com\/article\/18\/3\/how-measure-particulate-matter-raspberry-pi\x22\x3ehttps:\/\/opensource.com\/article\/18\/3\/how-measure-particulate-matter-raspberry-pi\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/opensource.com\/users\/stephan\x22\x3eStephan Tetzel\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/HankChow\x22\x3eHankChow\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>如何使用树莓派测定颗粒物（PM 2.5）</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/how-to-measure-particulate-matter-with-a-raspberry-pi">https://www.zcfy.cc/article/how-to-measure-particulate-matter-with-a-raspberry-pi</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/qhlvuzntylf/" target="_blank">https://alili.tech/archive/qhlvuzntylf/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>