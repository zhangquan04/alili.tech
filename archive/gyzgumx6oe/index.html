<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="微信公众平台网页开发实战--1.微信分享一个网页到朋友圈"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>微信公众平台网页开发实战--1.微信分享一个网页到朋友圈 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/gyzgumx6oe/",
				"appid": "1613049289050283", 
				"title": "微信公众平台网页开发实战--1.微信分享一个网页到朋友圈 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-12T02:30:24"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/sc0nc5b209p/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/lcaj3qwwye/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&text=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&text=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&title=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&is_video=false&description=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&title=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&title=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&title=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fgyzgumx6oe%2f&title=%e5%be%ae%e4%bf%a1%e5%85%ac%e4%bc%97%e5%b9%b3%e5%8f%b0%e7%bd%91%e9%a1%b5%e5%bc%80%e5%8f%91%e5%ae%9e%e6%88%98--1.%e5%be%ae%e4%bf%a1%e5%88%86%e4%ba%ab%e4%b8%80%e4%b8%aa%e7%bd%91%e9%a1%b5%e5%88%b0%e6%9c%8b%e5%8f%8b%e5%9c%88"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">微信公众平台网页开发实战--1.微信分享一个网页到朋友圈</h1><div class="meta"><div class="postdate"><time datetime="2019-01-12" itemprop="datePublished">2019-01-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e对微信的JSSDK进行封装一下，创建一份类似的文件结构，增加index.html与shareApi.js文件，结构如图3.3所示。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPdlg?w=145\x26amp;h=105\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPdlg?w=145\x26amp;h=105\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e  图3.3  3.2节文件结构\x3cbr\x3e另外，提醒读者一下，wxJSSDK.js文件的JSSDK环境配置中，需要更改一下配置参数，代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x2201            jsApiList: [ \/\/ 其他代码略\n02                \x26quot;onMenuShareTimeline\x26quot;,\n03                \x26quot;onMenuShareAppMessage\x26quot;,\n04                \x26quot;onMenuShareQQ\x26quot;,\n05                \x26quot;onMenuShareWeibo\x26quot;\n06            ]         \/\/ 必填，需要使用的JS接口列表，所有JS接口列表见附录B\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs basic\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3e01 \x3c\/span\x3e           jsApiList: [ \/\/ 其他代码略\n\x3cspan class=\x22hljs-symbol\x22\x3e02 \x3c\/span\x3e               \x3cspan class=\x22hljs-string\x22\x3e\x22onMenuShareTimeline\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e03 \x3c\/span\x3e               \x3cspan class=\x22hljs-string\x22\x3e\x22onMenuShareAppMessage\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e04 \x3c\/span\x3e               \x3cspan class=\x22hljs-string\x22\x3e\x22onMenuShareQQ\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-symbol\x22\x3e05 \x3c\/span\x3e               \x3cspan class=\x22hljs-string\x22\x3e\x22onMenuShareWeibo\x22\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3e06 \x3c\/span\x3e           ]         \/\/ 必填，需要使用的JS接口列表，所有JS接口列表见附录B\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eindex.html文件增加如下代码(HTML5网页)：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x2201    \x3c!DOCTYPE html\x3e\n02    \x3chtml lang=\x26quot;en\x26quot;\x3e\n03    \x3chead\x3e\n04        \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n05        \x3ctitle\x3e第3章 3.2节 分享接口的作用\x3c\/title\x3e\n06        \x3c!--依赖文件：jQuery--\x3e\n07        \x3cscript src=\x26quot;.\/js\/jquery-1.11.2.min.js\x26quot;\x3e\x3c\/script\x3e\n08        \x3c!--依赖文件：微信的JSSDK源文件--\x3e\n09        \x3cscript src=\x26quot;http:\/\/res.wx.qq.com\/open\/js\/jweixin-1.0.0.js\x26quot;\x3e\x3c\/script\x3e\n10        \x3c!--依赖文件：coolie--\x3e\n11        \x3cscript src=\x26quot;.\/js\/cookie.js\x26quot;\x3e\x3c\/script\x3e\n12        \x3c!--JSSDK的环境--\x3e\n13        \x3cscript src=\x26quot;.\/js\/wxJSSDK.js\x26quot;\x3e\x3c\/script\x3e\n14        \x3c!--引入检测API的分享接口--\x3e\n15        \x3cscript src=\x26quot;.\/shareApi.js\x26quot;\x3e\x3c\/script\x3e\n16    \x3c\/head\x3e\n17    \x3cbody\x3e\n18        \x3ch1 style=\x26quot;font-size: 40px\x26quot;\x3e:)\x3c\/h1\x3e\n19        \x3cb style=\x26quot;font-size: 20px\x26quot;\x3e分享接口的作用！\x3c\/b\x3e\n20    \x3c\/body\x3e\n21    \x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs basic\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3e01 \x3c\/span\x3e   \x26lt;!DOCTYPE html\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e02 \x3c\/span\x3e   \x26lt;html lang=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e03 \x3c\/span\x3e   \x26lt;head\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e04 \x3c\/span\x3e       \x26lt;meta charset=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e05 \x3c\/span\x3e       \x26lt;title\x26gt;第\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e章 \x3cspan class=\x22hljs-number\x22\x3e3.2\x3c\/span\x3e节 分享接口的作用\x26lt;\/title\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e06 \x3c\/span\x3e       \x26lt;!--依赖文件：jQuery--\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e07 \x3c\/span\x3e       \x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/js\/jquery-1.11.2.min.js\x22\x3c\/span\x3e\x26gt;\x26lt;\/script\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e08 \x3c\/span\x3e       \x26lt;!--依赖文件：微信的JSSDK源文件--\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e09 \x3c\/span\x3e       \x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/res.wx.qq.com\/open\/js\/jweixin-1.0.0.js\x22\x3c\/span\x3e\x26gt;\x26lt;\/script\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e10 \x3c\/span\x3e       \x26lt;!--依赖文件：coolie--\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e11 \x3c\/span\x3e       \x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/js\/cookie.js\x22\x3c\/span\x3e\x26gt;\x26lt;\/script\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e12 \x3c\/span\x3e       \x26lt;!--JSSDK的环境--\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e13 \x3c\/span\x3e       \x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/js\/wxJSSDK.js\x22\x3c\/span\x3e\x26gt;\x26lt;\/script\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e14 \x3c\/span\x3e       \x26lt;!--引入检测API的分享接口--\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e15 \x3c\/span\x3e       \x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22.\/shareApi.js\x22\x3c\/span\x3e\x26gt;\x26lt;\/script\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e16 \x3c\/span\x3e   \x26lt;\/head\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e17 \x3c\/span\x3e   \x26lt;body\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e18 \x3c\/span\x3e       \x26lt;h1 style=\x3cspan class=\x22hljs-string\x22\x3e\x22font-size: 40px\x22\x3c\/span\x3e\x26gt;:)\x26lt;\/h1\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e19 \x3c\/span\x3e       \x26lt;b style=\x3cspan class=\x22hljs-string\x22\x3e\x22font-size: 20px\x22\x3c\/span\x3e\x26gt;分享接口的作用！\x26lt;\/b\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e20 \x3c\/span\x3e   \x26lt;\/body\x26gt;\n\x3cspan class=\x22hljs-symbol\x22\x3e21 \x3c\/span\x3e   \x26lt;\/html\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3eshareApi.js增加分享API的测试封装方案代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x2201    \/*声明：\n02            为了方便读者朋友，这里省略配置环境，直接写检测代码。\n03     *\/\n04    \n05    \/*\n06     函数名称：wxJSSDK.shareApi\n07     函数功能：为wxJSSDK增加分享模块\n08     参数：\n09        shareList（Array） 必选项，待分享的API配置表\n10     *\/\n11    wxJSSDK.shareApi = function(shareList){\n12        if(wxJSSDK.isReady){\/\/wxJSSDK.isReady 查看微信JSSDK是否初始化完毕\n13    \n14            \/\/ 获取“分享到朋友圈”按钮点击状态及自定义分享内容接口\n15            if(shareList.onMenuShareTimeline){\n16                var ParametersTimeline = shareList.onMenuShareTimeline;\n17                wx.onMenuShareTimeline({\n18                    title: ParametersTimeline.title,         \/\/ 分享标题\n19                    link: ParametersTimeline.link,         \/\/ 分享链接\n20                    imgUrl: ParametersTimeline.imgUrl,     \/\/ 分享图标\n21                    success: function () {\n22                        \/\/ 用户确认分享后执行的回调函数\n23                        ParametersTimeline.success \x26amp;\x26amp; ParametersTimeline.success();\n24                    },\n25                    cancel: function () {\n26                        \/\/ 用户取消分享后执行的回调函数\n27                        ParametersTimeline.cancel \x26amp;\x26amp; ParametersTimeline.cancel();\n28                    }\n29                });\n30            }\n31    \n32            \/\/ 获取“分享给朋友”按钮点击状态及自定义分享内容接口\n33            if(shareList.onMenuShareAppMessage){\n34                var ParametersAppMessage = shareList.onMenuShareAppMessage;\n35                wx.onMenuShareAppMessage({\n36                    title: ParametersAppMessage.title,     \/\/ 分享标题\n37                    desc: ParametersAppMessage.desc,     \/\/ 分享描述\n38                    link: ParametersAppMessage.link,     \/\/ 分享链接\n39                    imgUrl: ParametersAppMessage.imgUrl, \/\/ 分享图标\n40                    type: ParametersAppMessage.type,     \/\/ 分享类型，music、video或link， \n41    不填默认为link\n42                    dataUrl:  ParametersAppMessage.dataUrl, \/\/ 如果type是music或video，\n43    则要提供数据链接，默认为空\n44                    success: function () {\n45                        \/\/ 用户确认分享后执行的回调函数\n46                        ParametersAppMessage.success \x26amp;\x26amp; \n47    ParametersAppMessage.success();\n48                    },\n49                    cancel: function () {\n50                        \/\/ 用户取消分享后执行的回调函数\n51                        ParametersAppMessage.cancel \x26amp;\x26amp; ParametersAppMessage.cancel();\n52                    }\n53                });\n54            }\n55    \n56            \/\/ 获取“分享到QQ”按钮点击状态及自定义分享内容接口\n57            if(shareList.onMenuShareQQ){\n58                var ParametersQQ = shareList.onMenuShareQQ;\n59                wx.onMenuShareQQ({\n60                    title: ParametersQQ.title,             \/\/ 分享标题\n61                    desc: ParametersQQ.desc,             \/\/ 分享描述\n62                    link: ParametersQQ.link,             \/\/ 分享链接\n63                    imgUrl: ParametersQQ.imgUrl,         \/\/ 分享图标\n64                    success: function () {\n65                        \/\/ 用户确认分享后执行的回调函数\n66                        ParametersQQ.success \x26amp;\x26amp; ParametersQQ.success();\n67                    },\n68                    cancel: function () {\n69                        \/\/ 用户取消分享后执行的回调函数\n70                        ParametersQQ.cancel \x26amp;\x26amp; ParametersQQ.cancel();\n71                    }\n72                });\n73            }\n74    \n75            \/\/ 获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口\n76            if(shareList.onMenuShareWeibo){\n77                var ParametersWeibo = shareList.onMenuShareWeibo;\n78                wx.onMenuShareWeibo({\n79                    title: ParametersWeibo.title,             \/\/ 分享标题\n80                    desc: ParametersWeibo.desc,         \/\/ 分享描述\n81                    link: ParametersWeibo.link,            \/\/ 分享链接\n82                    imgUrl: ParametersWeibo.imgUrl,     \/\/ 分享图标\n83                    success: function () {\n84                        \/\/ 用户确认分享后执行的回调函数\n85                        ParametersWeibo.success \x26amp;\x26amp; ParametersWeibo.success();\n86                    },\n87                    cancel: function () {\n88                        \/\/ 用户取消分享后执行的回调函数\n89                        ParametersWeibo.cancel \x26amp;\x26amp; ParametersWeibo.cancel();\n90                    }\n91                });\n92            }\n93    \n94        }else{\n95            console.log(\x26quot;抱歉，wx没有初始化完毕，请等待wx初始化完毕，再调用检测API服\n96    务。\x26quot;);\n97        }\n98    \n99    }\n100    \n101    \/\/ 成功初始化后执行API分享事务\n102    wxJSSDK.readySuccessCall.push(function(){\n103        var title = \x26quot;HTML5外包，HTML5外包，HTML5是我们的生活，值得信赖的HTML5解决\n104    方案提供商！\x26quot;,\n105            link = \x26quot;http:\/\/www.html5waibao.com\x26quot;,\n106            imgUrl = \x26quot;http:\/\/www.html5waibao.com\/images\/logo_35.png\x26quot;,\n107            desc = \x26quot;html5外包,HTML5外包,html5外宝,html5活,html5手机网站\x26quot;,\n108            success = function(){\n109                alert(\x26quot;分享成功回调\x26quot;);\n110            },\n111            cancel = function(){\n112                alert(\x26quot;分享失败回调\x26quot;);\n113            };\n114        wxJSSDK.shareApi({\n115            onMenuShareTimeline : {        \/\/ 分享到朋友圈\n116                title: title,                 \/\/ 分享标题\n117                link: link,                 \/\/ 分享链接\n118                imgUrl: imgUrl,             \/\/ 分享图标\n119                success: function () {\n120                    success();\n121    \n122                },\n123                cancel: function () {\n124                    cancel();\n125    \n126                }\n127            },\n128            onMenuShareAppMessage:{\n129                title: title,                 \/\/ 分享标题\n130                desc: desc,                \/\/ 分享描述\n131                link: link,                 \/\/ 分享链接\n132                imgUrl: imgUrl,             \/\/ 分享图标\n133                type: \x26quot;link\x26quot;, \/\/ 分享类型，music、video或link，不填默认为link\n134                dataUrl:  \x26quot;\x26quot;, \/\/ 如果type是music或video，则要提供数据链接，默认为空\n135                success: function () {\n136                    success();\n137                },\n138                cancel: function () {\n139                    cancel();\n140                }\n141            },\n142            onMenuShareQQ:{\n143                title: title,             \/\/ 分享标题\n144                desc: desc,            \/\/ 分享描述\n145                link: link,             \/\/ 分享链接\n146                imgUrl: imgUrl,         \/\/ 分享图标\n147                success: function () {\n148                    success();\n149                },\n150                cancel: function () {\n151                    cancel();\n152                }\n153            },\n154            onMenuShareWeibo:{\n155                title: title,             \/\/ 分享标题\n156                desc: desc,             \/\/ 分享描述\n157                link: link,             \/\/ 分享链接\n158                imgUrl: imgUrl,         \/\/ 分享图标\n159                success: function () {\n160                    success();\n161                },\n162              cancel: function () {\n163                    cancel();\n164                }\n165            }\n166        });\n167    });\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs php\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-number\x22\x3e01\x3c\/span\x3e    \x3cspan class=\x22hljs-comment\x22\x3e\/*声明：\n02            为了方便读者朋友，这里省略配置环境，直接写检测代码。\n03     *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e04\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e05\x3c\/span\x3e    \x3cspan class=\x22hljs-comment\x22\x3e\/*\n06     函数名称：wxJSSDK.shareApi\n07     函数功能：为wxJSSDK增加分享模块\n08     参数：\n09        shareList（Array） 必选项，待分享的API配置表\n10     *\/\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e    wxJSSDK.shareApi = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(shareList)\x3c\/span\x3e\x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(wxJSSDK.isReady){\x3cspan class=\x22hljs-comment\x22\x3e\/\/wxJSSDK.isReady 查看微信JSSDK是否初始化完毕\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e14\x3c\/span\x3e            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取“分享到朋友圈”按钮点击状态及自定义分享内容接口\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(shareList.onMenuShareTimeline){\n\x3cspan class=\x22hljs-number\x22\x3e16\x3c\/span\x3e                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ParametersTimeline = shareList.onMenuShareTimeline;\n\x3cspan class=\x22hljs-number\x22\x3e17\x3c\/span\x3e                wx.onMenuShareTimeline({\n\x3cspan class=\x22hljs-number\x22\x3e18\x3c\/span\x3e                    title: ParametersTimeline.title,         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e19\x3c\/span\x3e                    link: ParametersTimeline.link,         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e                    imgUrl: ParametersTimeline.imgUrl,     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e21\x3c\/span\x3e                    success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户确认分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e23\x3c\/span\x3e                        ParametersTimeline.success \x26amp;\x26amp; ParametersTimeline.success();\n\x3cspan class=\x22hljs-number\x22\x3e24\x3c\/span\x3e                    },\n\x3cspan class=\x22hljs-number\x22\x3e25\x3c\/span\x3e                    cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e26\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户取消分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e27\x3c\/span\x3e                        ParametersTimeline.cancel \x26amp;\x26amp; ParametersTimeline.cancel();\n\x3cspan class=\x22hljs-number\x22\x3e28\x3c\/span\x3e                    }\n\x3cspan class=\x22hljs-number\x22\x3e29\x3c\/span\x3e                });\n\x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e            }\n\x3cspan class=\x22hljs-number\x22\x3e31\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取“分享给朋友”按钮点击状态及自定义分享内容接口\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(shareList.onMenuShareAppMessage){\n\x3cspan class=\x22hljs-number\x22\x3e34\x3c\/span\x3e                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ParametersAppMessage = shareList.onMenuShareAppMessage;\n\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e                wx.onMenuShareAppMessage({\n\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e                    title: ParametersAppMessage.title,     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e37\x3c\/span\x3e                    desc: ParametersAppMessage.desc,     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享描述\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e38\x3c\/span\x3e                    link: ParametersAppMessage.link,     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e39\x3c\/span\x3e                    imgUrl: ParametersAppMessage.imgUrl, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e                    type: ParametersAppMessage.type,     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享类型，music、video或link， \x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e41\x3c\/span\x3e    不填默认为link\n\x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e                    dataUrl:  ParametersAppMessage.dataUrl, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果type是music或video，\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e43\x3c\/span\x3e    则要提供数据链接，默认为空\n\x3cspan class=\x22hljs-number\x22\x3e44\x3c\/span\x3e                    success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e45\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户确认分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e46\x3c\/span\x3e                        ParametersAppMessage.success \x26amp;\x26amp; \n\x3cspan class=\x22hljs-number\x22\x3e47\x3c\/span\x3e    ParametersAppMessage.success();\n\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e                    },\n\x3cspan class=\x22hljs-number\x22\x3e49\x3c\/span\x3e                    cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e50\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户取消分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e51\x3c\/span\x3e                        ParametersAppMessage.cancel \x26amp;\x26amp; ParametersAppMessage.cancel();\n\x3cspan class=\x22hljs-number\x22\x3e52\x3c\/span\x3e                    }\n\x3cspan class=\x22hljs-number\x22\x3e53\x3c\/span\x3e                });\n\x3cspan class=\x22hljs-number\x22\x3e54\x3c\/span\x3e            }\n\x3cspan class=\x22hljs-number\x22\x3e55\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e56\x3c\/span\x3e            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取“分享到QQ”按钮点击状态及自定义分享内容接口\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e57\x3c\/span\x3e            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(shareList.onMenuShareQQ){\n\x3cspan class=\x22hljs-number\x22\x3e58\x3c\/span\x3e                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ParametersQQ = shareList.onMenuShareQQ;\n\x3cspan class=\x22hljs-number\x22\x3e59\x3c\/span\x3e                wx.onMenuShareQQ({\n\x3cspan class=\x22hljs-number\x22\x3e60\x3c\/span\x3e                    title: ParametersQQ.title,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e61\x3c\/span\x3e                    desc: ParametersQQ.desc,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享描述\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e62\x3c\/span\x3e                    link: ParametersQQ.link,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e63\x3c\/span\x3e                    imgUrl: ParametersQQ.imgUrl,         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e64\x3c\/span\x3e                    success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e65\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户确认分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e66\x3c\/span\x3e                        ParametersQQ.success \x26amp;\x26amp; ParametersQQ.success();\n\x3cspan class=\x22hljs-number\x22\x3e67\x3c\/span\x3e                    },\n\x3cspan class=\x22hljs-number\x22\x3e68\x3c\/span\x3e                    cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e69\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户取消分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e70\x3c\/span\x3e                        ParametersQQ.cancel \x26amp;\x26amp; ParametersQQ.cancel();\n\x3cspan class=\x22hljs-number\x22\x3e71\x3c\/span\x3e                    }\n\x3cspan class=\x22hljs-number\x22\x3e72\x3c\/span\x3e                });\n\x3cspan class=\x22hljs-number\x22\x3e73\x3c\/span\x3e            }\n\x3cspan class=\x22hljs-number\x22\x3e74\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e75\x3c\/span\x3e            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取“分享到腾讯微博”按钮点击状态及自定义分享内容接口\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e76\x3c\/span\x3e            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(shareList.onMenuShareWeibo){\n\x3cspan class=\x22hljs-number\x22\x3e77\x3c\/span\x3e                \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e ParametersWeibo = shareList.onMenuShareWeibo;\n\x3cspan class=\x22hljs-number\x22\x3e78\x3c\/span\x3e                wx.onMenuShareWeibo({\n\x3cspan class=\x22hljs-number\x22\x3e79\x3c\/span\x3e                    title: ParametersWeibo.title,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e80\x3c\/span\x3e                    desc: ParametersWeibo.desc,         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享描述\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e81\x3c\/span\x3e                    link: ParametersWeibo.link,            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e82\x3c\/span\x3e                    imgUrl: ParametersWeibo.imgUrl,     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e83\x3c\/span\x3e                    success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e84\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户确认分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e85\x3c\/span\x3e                        ParametersWeibo.success \x26amp;\x26amp; ParametersWeibo.success();\n\x3cspan class=\x22hljs-number\x22\x3e86\x3c\/span\x3e                    },\n\x3cspan class=\x22hljs-number\x22\x3e87\x3c\/span\x3e                    cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e88\x3c\/span\x3e                        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 用户取消分享后执行的回调函数\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e89\x3c\/span\x3e                        ParametersWeibo.cancel \x26amp;\x26amp; ParametersWeibo.cancel();\n\x3cspan class=\x22hljs-number\x22\x3e90\x3c\/span\x3e                    }\n\x3cspan class=\x22hljs-number\x22\x3e91\x3c\/span\x3e                });\n\x3cspan class=\x22hljs-number\x22\x3e92\x3c\/span\x3e            }\n\x3cspan class=\x22hljs-number\x22\x3e93\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e94\x3c\/span\x3e        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e95\x3c\/span\x3e            console.log(\x3cspan class=\x22hljs-string\x22\x3e\x22抱歉，wx没有初始化完毕，请等待wx初始化完毕，再调用检测API服\n96    务。\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-number\x22\x3e97\x3c\/span\x3e        }\n\x3cspan class=\x22hljs-number\x22\x3e98\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e99\x3c\/span\x3e    }\n\x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e101\x3c\/span\x3e    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 成功初始化后执行API分享事务\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e102\x3c\/span\x3e    wxJSSDK.readySuccessCall.push(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e103\x3c\/span\x3e        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e title = \x3cspan class=\x22hljs-string\x22\x3e\x22HTML5外包，HTML5外包，HTML5是我们的生活，值得信赖的HTML5解决\n104    方案提供商！\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-number\x22\x3e105\x3c\/span\x3e            link = \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/www.html5waibao.com\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-number\x22\x3e106\x3c\/span\x3e            imgUrl = \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/www.html5waibao.com\/images\/logo_35.png\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-number\x22\x3e107\x3c\/span\x3e            desc = \x3cspan class=\x22hljs-string\x22\x3e\x22html5外包,HTML5外包,html5外宝,html5活,html5手机网站\x22\x3c\/span\x3e,\n\x3cspan class=\x22hljs-number\x22\x3e108\x3c\/span\x3e            success = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e109\x3c\/span\x3e                alert(\x3cspan class=\x22hljs-string\x22\x3e\x22分享成功回调\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-number\x22\x3e110\x3c\/span\x3e            },\n\x3cspan class=\x22hljs-number\x22\x3e111\x3c\/span\x3e            cancel = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e112\x3c\/span\x3e                alert(\x3cspan class=\x22hljs-string\x22\x3e\x22分享失败回调\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-number\x22\x3e113\x3c\/span\x3e            };\n\x3cspan class=\x22hljs-number\x22\x3e114\x3c\/span\x3e        wxJSSDK.shareApi({\n\x3cspan class=\x22hljs-number\x22\x3e115\x3c\/span\x3e            onMenuShareTimeline : {        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享到朋友圈\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e116\x3c\/span\x3e                title: title,                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e117\x3c\/span\x3e                link: link,                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e118\x3c\/span\x3e                imgUrl: imgUrl,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e119\x3c\/span\x3e                success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e120\x3c\/span\x3e                    success();\n\x3cspan class=\x22hljs-number\x22\x3e121\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e122\x3c\/span\x3e                },\n\x3cspan class=\x22hljs-number\x22\x3e123\x3c\/span\x3e                cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e124\x3c\/span\x3e                    cancel();\n\x3cspan class=\x22hljs-number\x22\x3e125\x3c\/span\x3e    \n\x3cspan class=\x22hljs-number\x22\x3e126\x3c\/span\x3e                }\n\x3cspan class=\x22hljs-number\x22\x3e127\x3c\/span\x3e            },\n\x3cspan class=\x22hljs-number\x22\x3e128\x3c\/span\x3e            onMenuShareAppMessage:{\n\x3cspan class=\x22hljs-number\x22\x3e129\x3c\/span\x3e                title: title,                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e130\x3c\/span\x3e                desc: desc,                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享描述\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e131\x3c\/span\x3e                link: link,                 \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e132\x3c\/span\x3e                imgUrl: imgUrl,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e133\x3c\/span\x3e                type: \x3cspan class=\x22hljs-string\x22\x3e\x22link\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享类型，music、video或link，不填默认为link\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e134\x3c\/span\x3e                dataUrl:  \x3cspan class=\x22hljs-string\x22\x3e\x22\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 如果type是music或video，则要提供数据链接，默认为空\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e135\x3c\/span\x3e                success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e136\x3c\/span\x3e                    success();\n\x3cspan class=\x22hljs-number\x22\x3e137\x3c\/span\x3e                },\n\x3cspan class=\x22hljs-number\x22\x3e138\x3c\/span\x3e                cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e139\x3c\/span\x3e                    cancel();\n\x3cspan class=\x22hljs-number\x22\x3e140\x3c\/span\x3e                }\n\x3cspan class=\x22hljs-number\x22\x3e141\x3c\/span\x3e            },\n\x3cspan class=\x22hljs-number\x22\x3e142\x3c\/span\x3e            onMenuShareQQ:{\n\x3cspan class=\x22hljs-number\x22\x3e143\x3c\/span\x3e                title: title,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e144\x3c\/span\x3e                desc: desc,            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享描述\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e145\x3c\/span\x3e                link: link,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e146\x3c\/span\x3e                imgUrl: imgUrl,         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e147\x3c\/span\x3e                success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e148\x3c\/span\x3e                    success();\n\x3cspan class=\x22hljs-number\x22\x3e149\x3c\/span\x3e                },\n\x3cspan class=\x22hljs-number\x22\x3e150\x3c\/span\x3e                cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e151\x3c\/span\x3e                    cancel();\n\x3cspan class=\x22hljs-number\x22\x3e152\x3c\/span\x3e                }\n\x3cspan class=\x22hljs-number\x22\x3e153\x3c\/span\x3e            },\n\x3cspan class=\x22hljs-number\x22\x3e154\x3c\/span\x3e            onMenuShareWeibo:{\n\x3cspan class=\x22hljs-number\x22\x3e155\x3c\/span\x3e                title: title,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享标题\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e156\x3c\/span\x3e                desc: desc,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享描述\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e157\x3c\/span\x3e                link: link,             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享链接\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e158\x3c\/span\x3e                imgUrl: imgUrl,         \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 分享图标\x3c\/span\x3e\n\x3cspan class=\x22hljs-number\x22\x3e159\x3c\/span\x3e                success: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e160\x3c\/span\x3e                    success();\n\x3cspan class=\x22hljs-number\x22\x3e161\x3c\/span\x3e                },\n\x3cspan class=\x22hljs-number\x22\x3e162\x3c\/span\x3e              cancel: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \x3c\/span\x3e{\n\x3cspan class=\x22hljs-number\x22\x3e163\x3c\/span\x3e                    cancel();\n\x3cspan class=\x22hljs-number\x22\x3e164\x3c\/span\x3e                }\n\x3cspan class=\x22hljs-number\x22\x3e165\x3c\/span\x3e            }\n\x3cspan class=\x22hljs-number\x22\x3e166\x3c\/span\x3e        });\n\x3cspan class=\x22hljs-number\x22\x3e167\x3c\/span\x3e    });\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e【代码解释】\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e为“wxJSSDK”增加“shareApi”方法。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e以对象的参数形式，为调用“shareApi”方法的使用者配置具体的JSSDK的API。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e分别进行配置填充。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e用“wxJSSDK.readySuccessCall.push”增加JSSDK分享API的测试用例。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e打开手机会看到如图3.4所示的UI。点击右上角的分享到朋友圈按钮，会看到如图3.5所示的UI。如果分享成功会弹出对应的提示，如图3.6所示。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPdlo?w=505\x26amp;h=285\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPdlo?w=505\x26amp;h=285\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e图3.4  测试用例分享界面                         \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPdlp?w=510\x26amp;h=478\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPdlp?w=510\x26amp;h=478\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e图3.5  分享到朋友圈UI\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPdlw?w=508\x26amp;h=539\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPdlw?w=508\x26amp;h=539\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e图3.6  分享到朋友圈成功提示\x3c\/p\x3e\n\x3cp\x3e《微信公众平台网页开发实战——HTML5\x2bJSSDK混合开发解密》\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVPdlx?w=927\x26amp;h=555\x22 src=\x22https:\/\/static.alili.tech\/img\/bVPdlx?w=927\x26amp;h=555\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e欢迎一起交流本书\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>微信公众平台网页开发实战&ndash;1.微信分享一个网页到朋友圈</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009783686">https://segmentfault.com/a/1190000009783686</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/gyzgumx6oe/" target="_blank">https://alili.tech/archive/gyzgumx6oe/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>