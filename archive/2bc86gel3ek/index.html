<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="谈一谈几种处理JavaScript异步操作的办法"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>谈一谈几种处理JavaScript异步操作的办法 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/2bc86gel3ek/",
				"appid": "1613049289050283", 
				"title": "谈一谈几种处理JavaScript异步操作的办法 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-26T02:30:18"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/a4kpewlts4g/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/0j58in6148/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&text=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&text=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&title=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&is_video=false&description=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&title=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&title=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&title=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f2bc86gel3ek%2f&title=%e8%b0%88%e4%b8%80%e8%b0%88%e5%87%a0%e7%a7%8d%e5%a4%84%e7%90%86JavaScript%e5%bc%82%e6%ad%a5%e6%93%8d%e4%bd%9c%e7%9a%84%e5%8a%9e%e6%b3%95"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">谈一谈几种处理JavaScript异步操作的办法</h1><div class="meta"><div class="postdate"><time datetime="2019-01-26" itemprop="datePublished">2019-01-26</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e引言\x3c\/h1\x3e\n\x3cp\x3ejs的异步操作，已经是一个老生常谈的话题，关于这个话题的文章随便google一下都可以看到一大堆。那么为什么我还要写这篇东西呢？在最近的工作中，为了编写一套相对比较复杂的插件，需要处理各种各样的异步操作。但是为了体积和兼容性，不打算引入任何的pollyfill，甚至连babel也不允许使用，这也意味着只能以es5的方式去处理。使用回调的方式对于解耦非常不利，于是找了别的方法去处理这个问题。问题是处理完了，却也引发了自己的一些思考：处理js的异步操作，都有一些什么方法呢？\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader1\x22\x3e一、回调函数\x3c\/h1\x3e\n\x3cp\x3e传说中的“callback hell”就是来自回调函数。而回调函数也是最基础最常用的处理js异步操作的办法。我们来看一个简单的例子：\x3c\/p\x3e\n\x3cp\x3e首先定义三个函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function fn1 () {\n  console.log(\x27Function 1\x27)\n}\n\nfunction fn2 () {\n  setTimeout(() =\x3e {\n    console.log(\x27Function 2\x27)\n  }, 500)\n}\n\nfunction fn3 () {\n  console.log(\x27Function 3\x27)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn1\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 1\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn2\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 2\x27\x3c\/span\x3e)\n  }, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn3\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 3\x27\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e其中\x3ccode\x3efn2\x3c\/code\x3e可以视作一个延迟了500毫秒执行的异步函数。现在我希望可以依次执行\x3ccode\x3efn1\x3c\/code\x3e，\x3ccode\x3efn2\x3c\/code\x3e，\x3ccode\x3efn3\x3c\/code\x3e。为了保证\x3ccode\x3efn3\x3c\/code\x3e在最后执行，我们可以把它作为\x3ccode\x3efn2\x3c\/code\x3e的回调函数：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function fn2 (f) {\n  setTimeout(() =\x3e {\n    console.log(\x27Function 2\x27)\n    f()\n  }, 500)\n}\n\nfn2(fn3)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn2\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ef\x3c\/span\x3e) \x3c\/span\x3e{\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 2\x27\x3c\/span\x3e)\n    f()\n  }, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n}\n\nfn2(fn3)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，\x3ccode\x3efn2\x3c\/code\x3e和\x3ccode\x3efn3\x3c\/code\x3e完全耦合在一起，如果有多个类似的函数，很有可能会出现\x3ccode\x3efn1(fn2(fn3(fn4(...))))\x3c\/code\x3e这样的情况。回调地狱的坏处我就不赘述了，相信各位读者一定有自己的体会。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader2\x22\x3e二、事件发布\/订阅\x3c\/h1\x3e\n\x3cp\x3e发布\/订阅模式也是诸多设计模式当中的一种，恰好这种方式可以在es5下相当优雅地处理异步操作。什么是发布\/订阅呢？以上一节的例子来说，\x3ccode\x3efn1\x3c\/code\x3e，\x3ccode\x3efn2\x3c\/code\x3e，\x3ccode\x3efn3\x3c\/code\x3e都可以视作一个事件的发布者，只要执行它，就会发布一个事件。这个时候，我们可以通过一个事件的订阅者去批量订阅并处理这些事件，包括它们的先后顺序。下面我们基于上一章节的例子，增加一个消息订阅者的方法（为了简单起见，代码使用了es6的写法）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22class AsyncFunArr {\n  constructor (...arr) {\n    this.funcArr = [...arr]\n  }\n\n  next () {\n    const fn = this.funcArr.shift()\n    if (typeof fn === \x27function\x27) fn()\n  }\n\n  run () {\n    this.next()\n  }\n}\n\nconst asyncFunArr = new AsyncFunArr(fn1, fn2, fn3)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eAsyncFunArr\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e (...arr) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.funcArr = [...arr]\n  }\n\n  next () {\n    \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e fn = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.funcArr.shift()\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3etypeof\x3c\/span\x3e fn === \x3cspan class=\x22hljs-string\x22\x3e\x27function\x27\x3c\/span\x3e) fn()\n  }\n\n  run () {\n    \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.next()\n  }\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e asyncFunArr = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AsyncFunArr(fn1, fn2, fn3)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后在\x3ccode\x3efn1\x3c\/code\x3e，\x3ccode\x3efn2\x3c\/code\x3e，\x3ccode\x3efn3\x3c\/code\x3e内调用其\x3ccode\x3enext()\x3c\/code\x3e方法：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function fn1 () {\n  console.log(\x27Function 1\x27)\n  asyncFunArr.next()\n}\n\nfunction fn2 () {\n  setTimeout(() =\x3e {\n    console.log(\x27Function 2\x27)\n    asyncFunArr.next()\n  }, 500)\n}\n\nfunction fn3 () {\n  console.log(\x27Function 3\x27)\n  asyncFunArr.next()\n}\n\n\/\/ output =\x3e\n\/\/ Function 1\n\/\/ Function 2\n\/\/ Function 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn1\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 1\x27\x3c\/span\x3e)\n  asyncFunArr.next()\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn2\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 2\x27\x3c\/span\x3e)\n    asyncFunArr.next()\n  }, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn3\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 3\x27\x3c\/span\x3e)\n  asyncFunArr.next()\n}\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ output =\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 1\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 2\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e可以看到，函数的处理顺序等于传入\x3ccode\x3eAsyncFunArr\x3c\/code\x3e的参数顺序。\x3ccode\x3eAsyncFunArr\x3c\/code\x3e在内部维护一个数组，每一次调用\x3ccode\x3enext()\x3c\/code\x3e方法都会按顺序推出数组所保存的一个对象并执行，这也是我在实际的工作中比较常用的方法。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader3\x22\x3e三、Promise\x3c\/h1\x3e\n\x3cp\x3e使用Promise的方式，就不需要额外地编写一个消息订阅者函数了，只需要异步函数返回一个Promise即可。且看例子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function fn1 () {\n  console.log(\x27Function 1\x27)\n}\n\nfunction fn2 () {\n  return new Promise((resolve, reject) =\x3e {\n    setTimeout(() =\x3e {\n      console.log(\x27Function 2\x27)\n      resolve()\n    }, 500)\n  })\n}\n\nfunction fn3 () {\n  console.log(\x27Function 3\x27)\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn1\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 1\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn2\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 2\x27\x3c\/span\x3e)\n      resolve()\n    }, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n  })\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn3\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 3\x27\x3c\/span\x3e)\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同样的，我们定义了三个函数，其中\x3ccode\x3efn2\x3c\/code\x3e是一个返回Promise的异步函数，现在我们希望按顺序执行它们，只需要按以下方式即可：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22fn1()\nfn2().then(() =\x3e { fn3() })\n\n\/\/ output =\x3e\n\/\/ Function 1\n\/\/ Function 2\n\/\/ Function 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efn1\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efn2\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e.then(() =\x26gt; { fn3() })\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ output =\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 1\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 2\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用Promise与回调有两个最大的不同，第一个是\x3ccode\x3efn2\x3c\/code\x3e与\x3ccode\x3efn3\x3c\/code\x3e得以解耦；第二是把函数嵌套改为了链式调用，无论从语义还是写法上都对开发者更加友好。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader4\x22\x3e四、generator\x3c\/h1\x3e\n\x3cp\x3e如果说Promise的使用能够化回调为链式，那么generator的办法则可以消灭那一大堆的Promise特征方法，比如一大堆的\x3ccode\x3ethen()\x3c\/code\x3e。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function fn1 () {\n  console.log(\x27Function 1\x27)\n}\n\nfunction fn2 () {\n  setTimeout(() =\x3e {\n    console.log(\x27Function 2\x27)\n    af.next()\n  }, 500)\n}\n\nfunction fn3 () {\n  console.log(\x27Function 3\x27)\n}\n\nfunction* asyncFunArr (...fn) {\n  fn[0]()\n  yield fn[1]()\n  fn[2]()\n}\n\nconst af = asyncFunArr(fn1, fn2, fn3)\n\naf.next()\n\n\/\/ output =\x3e\n\/\/ Function 1\n\/\/ Function 2\n\/\/ Function 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs markdown\x22\x3e\x3ccode\x3efunction fn1 () {\n  console.log(\x27Function 1\x27)\n}\n\nfunction fn2 () {\n  setTimeout(() =\x26gt; {\n\x3cspan class=\x22hljs-code\x22\x3e    console.log(\x27Function 2\x27)\x3c\/span\x3e\n\x3cspan class=\x22hljs-code\x22\x3e    af.next()\x3c\/span\x3e\n  }, 500)\n}\n\nfunction fn3 () {\n  console.log(\x27Function 3\x27)\n}\n\nfunction* asyncFunArr (...fn) {\n  fn[\x3cspan class=\x22hljs-string\x22\x3e0\x3c\/span\x3e](\x3cspan class=\x22hljs-link\x22\x3e\x3c\/span\x3e)\n  yield fn[\x3cspan class=\x22hljs-string\x22\x3e1\x3c\/span\x3e](\x3cspan class=\x22hljs-link\x22\x3e\x3c\/span\x3e)\n  fn[\x3cspan class=\x22hljs-string\x22\x3e2\x3c\/span\x3e](\x3cspan class=\x22hljs-link\x22\x3e\x3c\/span\x3e)\n}\n\nconst af = asyncFunArr(fn1, fn2, fn3)\n\naf.next()\n\n\/\/ output =\x26gt;\n\/\/ Function 1\n\/\/ Function 2\n\/\/ Function 3\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在这个例子中，generator函数\x3ccode\x3easyncFunArr()\x3c\/code\x3e接受一个待执行函数列表\x3ccode\x3efn\x3c\/code\x3e，异步函数将会通过\x3ccode\x3eyield\x3c\/code\x3e来执行。在异步函数内，通过\x3ccode\x3eaf.next()\x3c\/code\x3e激活generator函数的下一步操作。\x3c\/p\x3e\n\x3cp\x3e这么粗略的看起来，其实和发布\/订阅模式非常相似，都是通过在异步函数内部主动调用方法，告诉订阅者去执行下一步操作。但是这种方式还是不够优雅，比如说如果有多个异步函数，那么这个generator函数肯定得改写，而且在语义化的程度来说也有一点不太直观。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader5\x22\x3e五、优雅的async\/await\x3c\/h1\x3e\n\x3cp\x3e使用最新版本的Node已经可以原生支持\x3ccode\x3easync\/await\x3c\/code\x3e写法了，通过各种pollyfill也能在旧的浏览器使用。那么为什么说\x3ccode\x3easync\/await\x3c\/code\x3e方法是最优雅的呢？且看代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function fn1 () {\n  console.log(\x27Function 1\x27)\n}\n\nfunction fn2 () {\n  return new Promise((resolve, reject) =\x3e {\n    setTimeout(() =\x3e {\n      console.log(\x27Function 2\x27)\n      resolve()\n    }, 500)\n  })\n}\n\nfunction fn3 () {\n  console.log(\x27Function 3\x27)\n}\n\nasync function asyncFunArr () {\n  fn1()\n  await fn2()\n  fn3()\n}\n\nasyncFunArr()\n\n\/\/ output =\x3e\n\/\/ Function 1\n\/\/ Function 2\n\/\/ Function 3\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn1\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 1\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn2\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e {\n      \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 2\x27\x3c\/span\x3e)\n      resolve()\n    }, \x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n  })\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3efn3\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Function 3\x27\x3c\/span\x3e)\n}\n\n\x3cspan class=\x22hljs-keyword\x22\x3easync\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3easyncFunArr\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  fn1()\n  \x3cspan class=\x22hljs-keyword\x22\x3eawait\x3c\/span\x3e fn2()\n  fn3()\n}\n\nasyncFunArr()\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ output =\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 1\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 2\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Function 3\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e有没有发现，在定义异步函数\x3ccode\x3efn2\x3c\/code\x3e的时候，其内容和前文使用Promise的时候一模一样？再看执行函数\x3ccode\x3easyncFunArr()\x3c\/code\x3e，其执行的方式和使用generator的时候也非常类似。\x3c\/p\x3e\n\x3cp\x3e异步的操作都返回Promise，需要顺序执行时只需要await相应的函数即可，这种方式在语义化方面非常友好，对于代码的维护也很简单——只需要返回Promise并await它就好，无需像generator那般需要自己去维护内部\x3ccode\x3eyield\x3c\/code\x3e的执行。\x3c\/p\x3e\n\x3ch1 id=\x22articleHeader6\x22\x3e六、尾声\x3c\/h1\x3e\n\x3cp\x3e作为一个归纳和总结，本文内容的诸多知识点也是来自于他人的经验，不过加入了一些自己的理解和体会。不求科普于他人，但求作为个人的积累。希望读者可以提出订正的意见，共同学习进步！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>谈一谈几种处理JavaScript异步操作的办法</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008489550">https://segmentfault.com/a/1190000008489550</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/2bc86gel3ek/" target="_blank">https://alili.tech/archive/2bc86gel3ek/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>