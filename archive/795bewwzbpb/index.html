<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="如何用树莓派控制 GOIO 引脚并操作继电器"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>如何用树莓派控制 GOIO 引脚并操作继电器 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/795bewwzbpb/",
				"appid": "1613049289050283", 
				"title": "如何用树莓派控制 GOIO 引脚并操作继电器 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-23T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/w21fxru93an/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wo0c31tyxmg/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&text=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&text=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&is_video=false&description=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f795bewwzbpb%2f&title=%e5%a6%82%e4%bd%95%e7%94%a8%e6%a0%91%e8%8e%93%e6%b4%be%e6%8e%a7%e5%88%b6%20GOIO%20%e5%bc%95%e8%84%9a%e5%b9%b6%e6%93%8d%e4%bd%9c%e7%bb%a7%e7%94%b5%e5%99%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">如何用树莓派控制 GOIO 引脚并操作继电器</h1><div class="meta"><div class="postdate"><time datetime="2019-01-23" itemprop="datePublished">2019-01-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#如何用树莓派控制-goio-引脚并操作继电器\x22\x3e\x3c\/a\x3e如何用树莓派控制 GOIO 引脚并操作继电器\x3c\/h1\x3e\n\x3cblockquote\x3e\n\x3cp\x3e学习如何用 PHP 和温度传感器实现树莓派控制 GPIO 并操作继电器\x3c\/p\x3e\n\x3c\/blockquote\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/102587fb171f2246b4d07be7abedc9cad06d7169\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f7374796c65732f696d6167652d66756c6c2d73697a652f7075626c69632f696d616765732f6c6966652f7261737062657272795f70695f6461795f6c6561645f302e6a7065673f69746f6b3d6c43786d76695244\x22\x3e\x3cimg src=\x22\x22 alt=\x22How to control GPIO pins and operate relays with the Raspberry Pi\x22 title=\x22How to control GPIO pins and operate relays with the Raspberry Pi\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e你是否曾经想知道怎样使用手机或者电脑在任何地方控制你的风扇和灯等一些家用电器？\x3c\/p\x3e\n\x3cp\x3e我现在想控制我的圣诞彩灯，是使用手机呢，还是使用平板电脑呢，或者是使用笔记本电脑呢？都不是，而是仅仅使用一个树莓派。让我来告诉你如何使用 PHP 和温度传感器实现树莓派控制 GPIO 引脚并操作继电器。我使用 AJAX 把它们整合在了一起。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#硬件要求\x22\x3e\x3c\/a\x3e硬件要求：\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e树莓派\x3c\/li\x3e\n\x3cli\x3e安装有 Raspbian 系统的 SD 卡（任何一张 SD 卡都可以，但是我更偏向使用大小为 32GB 等级为 class 10 的 SD 卡）\x3c\/li\x3e\n\x3cli\x3e电源适配器\x3c\/li\x3e\n\x3cli\x3e跳线（母对母跳线和公转母跳线）\x3c\/li\x3e\n\x3cli\x3e继电器板（我使用一个用于 12V 继电器的继电器板）\x3c\/li\x3e\n\x3cli\x3eDS18B20 温度传感器\x3c\/li\x3e\n\x3cli\x3e树莓派的 Wi-Fi 适配器\x3c\/li\x3e\n\x3cli\x3e路由器（为了访问互联网，你需要有一个拥有端口转发的路由器）\x3c\/li\x3e\n\x3cli\x3e10KΩ 的电阻\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3\x3e\x3ca href=\x22#软件要求\x22\x3e\x3c\/a\x3e软件要求：\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e下载并安装 Raspbian 系统到你的 SD 卡\x3c\/li\x3e\n\x3cli\x3e有效的互联网连接\x3c\/li\x3e\n\x3cli\x3eApache web 服务器\x3c\/li\x3e\n\x3cli\x3ePHP\x3c\/li\x3e\n\x3cli\x3eWiringPi\x3c\/li\x3e\n\x3cli\x3e基于 Mac 或者 Windows 的 SSH 客户端\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3\x3e\x3ca href=\x22#一般的配置和设置\x22\x3e\x3c\/a\x3e一般的配置和设置\x3c\/h3\x3e\n\x3cp\x3e1、 插入 SD 卡到树莓派，然后使用以太网网线将它连接到路由器；\x3c\/p\x3e\n\x3cp\x3e2、 连接 WiFi 适配器；\x3c\/p\x3e\n\x3cp\x3e3、 使用 SSH 方式登录到树莓派，然后使用下面的命令编辑 \x3ccode\x3einterfaces\x3c\/code\x3e 文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dts\x22\x3esudo nano \x3cspan class=\x22hljs-meta-keyword\x22\x3e\/etc\/\x3c\/span\x3enetwork\/interfaces\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这个命令会用一个叫做 \x3ccode\x3enano\x3c\/code\x3e 的编辑器打开这个文件。它是一个非常简单又易于使用的文本编辑器。如果你不熟悉基 Linux 的操作系统，可以使用键盘上的方向键来操作。\x3c\/p\x3e\n\x3cp\x3e用 \x3ccode\x3enano\x3c\/code\x3e 打开这个文件后，你会看到这样一个界面：\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/4b55f5bf42ae050d91f357820ed8c625bceb1529\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f70757474795f302e706e67\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01ba9854610b07ed96.png\x22 alt=\x22File editor nano\x22 title=\x22File editor nano\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e4、要配置你的无线网络，按照下面所示修改这个文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs pf\x22\x3eiface lo \x3cspan class=\x22hljs-keyword\x22\x3einet\x3c\/span\x3e loopback\niface eth0 \x3cspan class=\x22hljs-keyword\x22\x3einet\x3c\/span\x3e dhcp\nallow-hotplug wlan0\nauto wlan0\niface wlan0 \x3cspan class=\x22hljs-keyword\x22\x3einet\x3c\/span\x3e dhcp\n   wpa-ssid \x3cspan class=\x22hljs-string\x22\x3e\x22Your Network SSID\x22\x3c\/span\x3e\n   wpa-psk \x3cspan class=\x22hljs-string\x22\x3e\x22Your Password\x22\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e5、 按 \x3ccode\x3eCTRL\x2bO\x3c\/code\x3e 保存，然后按 \x3ccode\x3eCTRL\x2bX\x3c\/code\x3e 退出编辑器。\x3c\/p\x3e\n\x3cp\x3e到目前为止，一切都已经配置完成，接下来你需要做的就是使用命令重新加载网络：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3esudo\x3cspan class=\x22hljs-built_in\x22\x3e service \x3c\/span\x3enetworking reload\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e（警告：如果你是使用远程连接的方式连接的树莓派，连接将会中断。)\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#软件配置\x22\x3e\x3c\/a\x3e软件配置\x3c\/h3\x3e\n\x3ch4\x3e\x3ca href=\x22#安装-apache-web-服务器\x22\x3e\x3c\/a\x3e安装 Apache web 服务器\x3c\/h4\x3e\n\x3cp\x3eApache 是一个受欢迎的服务器应用，你可以在树莓派安装这个程序让它提供网页服务。Apache 原本就可以通过 HTTP 方式提供 HTML 文件服务，添加其他模块后，Apache 还可以使用像 PHP 这样的脚本语言来提供动态网页的服务。\x3c\/p\x3e\n\x3cp\x3e可以在命令行输入下面命令安装 Apache：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3esudo apt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e install apache2 -y\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e安装完成后，可以在浏览器地址栏输入树莓派的 IP 地址来测试 web 服务器。如果你可以获得下面图片的内容，说明你已经成功地安装并设置好了你的服务器。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/cfe04af3fb54ec0a4abebed865ada1b61430ddb1\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f6974776f726b732e706e67\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01ec18da6984456bb2.png\x22 alt=\x22Successful server setup\x22 title=\x22Successful server setup\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e要改变这个默认的页面和添加你自己的 html 文件，进入 \x3ccode\x3evar\/www\/html\x3c\/code\x3e 目录：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ecd\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/var\/www\/html\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e添加一些文件来测试是否成功。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#安装-php\x22\x3e\x3c\/a\x3e安装 PHP\x3c\/h4\x3e\n\x3cp\x3ePHP 是一个预处理器，这意味着它是当服务器收到网页请求时才会运行的一段代码。它开始运行，处理网页上需要被显示的内容，然后把网页发送给浏览器。不像静态的 HTML，PHP 在不同的环境下可以显示不同的内容。其他的语言也可以做到这一点，但是由于 WordPress 是用 PHP 编写的，有些时候你需要使用它。PHP 是 web 上一种非常受欢迎的语言，像 Facebok 和 Wikipeadia 这样的大型项目都是用 PHP 编写的。\x3c\/p\x3e\n\x3cp\x3e使用下面的命令安装 PHP 和 Apache 软件包：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs applescript\x22\x3esudo apt-\x3cspan class=\x22hljs-keyword\x22\x3eget\x3c\/span\x3e install php5 libapache2-\x3cspan class=\x22hljs-keyword\x22\x3emod\x3c\/span\x3e-php5 -y\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#测试-php\x22\x3e\x3c\/a\x3e测试 PHP\x3c\/h4\x3e\n\x3cp\x3e创建文件 \x3ccode\x3eindex.php\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3esudo nano index\x3cspan class=\x22hljs-selector-class\x22\x3e.php\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在里面写入一些 PHP 内容：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22php\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;?php\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eecho\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22hello world\x22\x3c\/span\x3e; \x3cspan class=\x22hljs-meta\x22\x3e?\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e保存文件，接下来删除 \x3ccode\x3eindex.html\x3c\/code\x3e，因为它比 \x3ccode\x3eindex.php\x3c\/code\x3e 的优先级更高：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3esudo rm index\x3cspan class=\x22hljs-selector-class\x22\x3e.html\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e刷新你的浏览器，你会看到 “hello world”。这并不是动态的，但是它仍然由 PHP 提供服务。如果你在上面看到提原始的 PHP 文件而不是“hello world”，重新加载和重启 Apahce（LCTT 译注，重启即可）：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3esudo \x3cspan class=\x22hljs-string\x22\x3e\/etc\/init.d\/apache2\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ereload\x3c\/span\x3e\nsudo \x3cspan class=\x22hljs-string\x22\x3e\/etc\/init.d\/apache2\x3c\/span\x3e restart\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3ch4\x3e\x3ca href=\x22#安装-wiringpi\x22\x3e\x3c\/a\x3e安装 WiringPi\x3c\/h4\x3e\n\x3cp\x3e为了可以对代码的更改进行跟踪，WiringPi 的维护采用 git。但假如你因为某些原因而没法使用 git，还有一种可以替代的方案。（通常你的防火墙会把你隔离开来，所以请先检查一下你的防火墙的设置情况！）\x3c\/p\x3e\n\x3cp\x3e如果你还没有安装 git，那么在 Debian 及其衍生版本中（比如 Raspbian），你可以这样安装它：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3esudo apt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e install git-core\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e若是你遇到了一些错误，请确保你的树莓派是最新版本的 Raspbian 系统：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs routeros\x22\x3esudo apt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e update sudo apt-\x3cspan class=\x22hljs-builtin-name\x22\x3eget\x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3e upgrade\n\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e使用 git 获取最 WiringPi：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs crmsh\x22\x3esudo git \x3cspan class=\x22hljs-keyword\x22\x3eclone\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egit\x3c\/span\x3e:\/\/git.drogon.net\/wiringPi\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果你之前已经使用过 clone 操作，那么可以使用下面命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs 1c\x22\x3ecd wiringPi \x3cspan class=\x22hljs-meta\x22\x3e\x26amp;\x26amp; git pull origin\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这个命令会将会获取更新的版本，你然后可以重新运行下面的构建脚本。\x3c\/p\x3e\n\x3cp\x3e有一个新的简化的脚本来构建和安装:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ecd\x3c\/span\x3e wiringPi \x26amp;\x26amp; \x3cspan class=\x22hljs-string\x22\x3e.\/build\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这个新的构建脚本将会为你完成编译和安装 WiringPi。它曾一度需要使用 \x3ccode\x3esudo\x3c\/code\x3e 命令，所以在运行这它之前你可能需要检查一下这个脚本。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#测试-wiringpi\x22\x3e\x3c\/a\x3e测试 WiringPi\x3c\/h4\x3e\n\x3cp\x3e运行 \x3ccode\x3egpio\x3c\/code\x3e 命令来检查安装成功与否:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ebnf\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3egpio -v gpio readall\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这将给你一些信心，软件运行良好。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#连接-ds18b20-传感器到树莓派\x22\x3e\x3c\/a\x3e连接 DS18B20 传感器到树莓派\x3c\/h4\x3e\n\x3cul\x3e\n\x3cli\x3e传感器上的黑线用于 GND。\x3c\/li\x3e\n\x3cli\x3e红线用于 VCC。\x3c\/li\x3e\n\x3cli\x3e黄线是 GPIO 线。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/a360396d0ca1168b5319de55d396a2f4b2ad4a47\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f6770696f5f302e706e67\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t015f51077b275133d4.png\x22 alt=\x22GPIO image\x22 title=\x22GPIO image\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e连线：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3eVCC 连接 3V 的 1 号引脚。\x3c\/li\x3e\n\x3cli\x3eGPIO 线连接 7 号引脚（GPIO4）。\x3c\/li\x3e\n\x3cli\x3e地线连接 GND 的 9 号引脚。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch4\x3e\x3ca href=\x22#软件配置-1\x22\x3e\x3c\/a\x3e软件配置\x3c\/h4\x3e\n\x3cp\x3e为了用 PHP 使用 DS18B20 温度传感器模块，你需要执行下面的命令来激活用于树莓派上 GPIO 引脚和 DS18B20 的内核模块：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs nginx\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3esudo\x3c\/span\x3e modprobe w1-gpio\nsudo modprobe w1-therm\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e你不想每次 Raspberry 重启后都手动执行上述命令，所以你想每次开机能自动启动这些模块。可以在文件 \x3ccode\x3e\/etc\/modules\x3c\/code\x3e 中添加下面的命令行来做到：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs coffeescript\x22\x3esudo nano \x3cspan class=\x22hljs-regexp\x22\x3e\/etc\/modules\/\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e添加下面的命令行到它里面:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs\x22\x3ew1-gpio\nw1-therm\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e为了测试，输入:\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dts\x22\x3ecd \x3cspan class=\x22hljs-meta-keyword\x22\x3e\/sys\/\x3c\/span\x3ebus\x3cspan class=\x22hljs-meta-keyword\x22\x3e\/w1\/\x3c\/span\x3edevices\/\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在输入 \x3ccode\x3els\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e你会看到你的设备信息。在设备驱动程序中，你的 DS18B20 传感器应该作为一串字母和数字被列出。在本例中，设备被记录为 \x3ccode\x3e28-000005e2fdc3\x3c\/code\x3e。然后你需要使用 \x3ccode\x3ecd\x3c\/code\x3e 命令来访问传感器，用你自己的序列号替代我的： \x3ccode\x3ecd 28-000005e2fdc3\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3eDS18B20 会周期性的将数据写入文件 \x3ccode\x3ew1_slave\x3c\/code\x3e，所以你只需要使用命令 \x3ccode\x3ecat\x3c\/code\x3e来读出数据： \x3ccode\x3ecat w1_slave\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e这会生成下面的两行文本，输出中 \x3ccode\x3et=\x3c\/code\x3e 表示摄氏单位的温度。在前两位数后面加上一个小数点(例如，我收到的温度读数是 30.125 摄氏度)。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#连接继电器\x22\x3e\x3c\/a\x3e连接继电器\x3c\/h3\x3e\n\x3cp\x3e1、 取两根跳线，把其中一根连接到树莓派上的 GPIO24（18 号引脚），另一根连接 GND 引脚。你可以参考下面这张图。\x3c\/p\x3e\n\x3cp\x3e2、 现在将跳线的另一端连接到继电器板。GND 连接到继电器上的 GND，GPIO 输出线连接到继电器的通道引脚号，这取决于你正使用的继电器型号。记住，将树莓派上的 GND 与继电器上的 GND 连接连接起来，树莓派上的 GPIO 输出连接继电器上的输入引脚。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/4642236cc5939e1a05aaeddb5965bd3cfca77304\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f686561646572732e706e67\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t010a197dc3a4d671ad.png\x22 alt=\x22Headers\x22 title=\x22Headers\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e注意！将继电器连接树莓派的时候小心一些，因为它可能会导致电流回流，这会造成短路。\x3c\/p\x3e\n\x3cp\x3e3、 现在将电源连接继电器，可以使用 12V 的电源适配器，也可以将 VCC 引脚连接到什么破上的 3.3V 或 5.5V 引脚。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#使用-php-控制继电器\x22\x3e\x3c\/a\x3e使用 PHP 控制继电器\x3c\/h3\x3e\n\x3cp\x3e让我们先写一个借助于 WiringPi 软件用来控制 Paspberry Pi 上 GPIO 引脚的 PHP 脚本。\x3c\/p\x3e\n\x3cp\x3e1、在 Apache 服务器的网站根目录下创建一个文件，使用下面命令切换到该目录：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs jboss-cli\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3ecd\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\/var\/www\/html\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e2、 新建一个叫 \x3ccode\x3eHome\x3c\/code\x3e 的文件夹：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs arduino\x22\x3esudo \x3cspan class=\x22hljs-built_in\x22\x3emkdir\x3c\/span\x3e Home\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e3、 新建一个叫 \x3ccode\x3eon.php\x3c\/code\x3e的脚本\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs applescript\x22\x3esudo nano \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3ephp\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e4、 在脚本中加入下面的代码：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22php\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;?php\x3c\/span\x3e\n\n        system(\x3cspan class=\x22hljs-string\x22\x3e\x22gpio-g mode 24 out\x22\x3c\/span\x3e);\n        system(\x3cspan class=\x22hljs-string\x22\x3e\x22gpio-g write 24 1\x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-meta\x22\x3e?\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e5、 使用 \x3ccode\x3eCTRL\x2bO\x3c\/code\x3e 保存文件，\x3ccode\x3eCTRL\x2bX\x3c\/code\x3e 退出。\x3c\/p\x3e\n\x3cp\x3e上面的代码中，你在第一行使用命令将 24 号 GPIO引脚设置为 output 模式：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs abnf\x22\x3esystem(\x3cspan class=\x22hljs-string\x22\x3e\x22gpio-g mode 24 out\x22\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在第二行，你使用 \x3ccode\x3e1\x3c\/code\x3e 将 24 号引脚 GPIO 打开，在二进制中\x221\x22表示打开，\x220\x22表示关闭。\x3c\/p\x3e\n\x3cp\x3e6、 为了关闭继电器，可以创建另外一个 \x3ccode\x3eoff.php\x3c\/code\x3e 文件，并用 \x3ccode\x3e0\x3c\/code\x3e 替换 \x3ccode\x3e1\x3c\/code\x3e。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22php\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;?php\x3c\/span\x3e\n\n        system(\x3cspan class=\x22hljs-string\x22\x3e\x22 gpio-g mode 24 out \x22\x3c\/span\x3e);\n        system(\x3cspan class=\x22hljs-string\x22\x3e\x22 gpio-g write 24 1 \x22\x3c\/span\x3e);\n\n\x3cspan class=\x22hljs-meta\x22\x3e?\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e7、 如果你已经将继电器连接了树莓派，可以在浏览器中输入你的树莓派的 IP 地址，并在后面加上目录名和文件名来进行访问：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs awk\x22\x3ehttp:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e{IPADDRESS}\x3cspan class=\x22hljs-regexp\x22\x3e\/home\/\x3c\/span\x3eon.php \n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这将会打开继电器。\x3c\/p\x3e\n\x3cp\x3e8、 要关闭它，可以访问叫 \x3ccode\x3eoff.php\x3c\/code\x3e 的文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs awk\x22\x3ehttp:\x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e{IPADDRESS}\x3cspan class=\x22hljs-regexp\x22\x3e\/home\/\x3c\/span\x3eoff.php\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e现在你需要能够在一个单独的页面来控制这两样事情，而不用单独的刷新或者访问这两个页面。你可以使用 AJAX 来完成。\x3c\/p\x3e\n\x3cp\x3e9、 新建一个 HTML 文件，并在其中加入下面代码：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs django\x22\x3e\x3cspan class=\x22xml\x22\x3e[html \x2b php \x2b ajax codeblock]\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22https:\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/1.11.3\/jquery.min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ \x26lt;![CDATA[\x3c\/span\x3e\n\n$(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).ready(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n\n$(\x3cspan class=\x22hljs-string\x22\x3e\x27#on\x27\x3c\/span\x3e).click(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a= \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e XMLHttpRequest();\n\na.open(\x3cspan class=\x22hljs-string\x22\x3e\x22GET\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22on.php\x22\x3c\/span\x3e); a.onreadystatechange=\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(a.readyState==\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e){ \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(a.status ==\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e){\n\n } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e alert (\x3cspan class=\x22hljs-string\x22\x3e\x22http error\x22\x3c\/span\x3e); } }\n\na.send();\n\n});\n\n});\n\n$(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).ready(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\n\n\x3c\/span\x3e{ $(\x3cspan class=\x22hljs-string\x22\x3e\x27#Off\x27\x3c\/span\x3e).click(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a= \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e XMLHttpRequest();\n\na.open(\x3cspan class=\x22hljs-string\x22\x3e\x22GET\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22off.php\x22\x3c\/span\x3e);\n\na.onreadystatechange=\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(a.readyState==\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e){\n\n\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(a.status ==\x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e){\n\n } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e alert (\x3cspan class=\x22hljs-string\x22\x3e\x22http error\x22\x3c\/span\x3e); } }\n\na.send();\n\n});\n\n});\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22on\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e``\x3cspan class=\x22hljs-attr\x22\x3eSwitch\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eLights\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eOn\x3c\/span\x3e \x26lt;\/\x3cspan class=\x22hljs-attr\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22off\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22button\x22\x3c\/span\x3e``\x3cspan class=\x22hljs-attr\x22\x3eSwitch\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eLights\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eOff\x3c\/span\x3e \x26lt;\/\x3cspan class=\x22hljs-attr\x22\x3ebutton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e10、 保存文件，进入你的 web 浏览器目录，然后打开那个网页。你会看到两个按钮，它们可以打开和关闭灯泡。基于同样的想法，你还可以使用 bootstrap 和 CSS 来创建一个更加漂亮的 web 界面。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#在这个网页上观察温度\x22\x3e\x3c\/a\x3e在这个网页上观察温度\x3c\/h3\x3e\n\x3cp\x3e1、 新建一个 \x3ccode\x3etemperature.php\x3c\/code\x3e 的文件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs stylus\x22\x3esudo nano temperature\x3cspan class=\x22hljs-selector-class\x22\x3e.php\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e2、 在文件中加入下面的代码，用你自己的设备 ID 替换 \x3ccode\x3e10-000802292522\x3c\/code\x3e：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22php\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;?php\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/File to read\x3c\/span\x3e\n$file = \x3cspan class=\x22hljs-string\x22\x3e\x27\/sys\/devices\/w1_bus_master1\/10-000802292522\/w1_slave\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Read the file line by line\x3c\/span\x3e\n$lines = file($file);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Get the temp from second line\x3c\/span\x3e\n$temp = explode(\x3cspan class=\x22hljs-string\x22\x3e\x27=\x27\x3c\/span\x3e, $lines[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e]);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/Setup some nice formatting (i.e., 21,3)\x3c\/span\x3e\n$temp = number_format($temp[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \/ \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27,\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/And echo that temp\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eecho\x3c\/span\x3e $temp . \x3cspan class=\x22hljs-string\x22\x3e\x22 °C\x22\x3c\/span\x3e;\n\x3cspan class=\x22hljs-meta\x22\x3e?\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e3、 打开你刚刚创建的 HTML 文件，并创建一个新的带有 \x3ccode\x3eid\x3c\/code\x3e 为 “screen” 的 \x3ccode\x3e\x26lt;div\x26gt;\x3c\/code\x3e标签\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs applescript\x22\x3e\x26lt;\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22screen\x22\x3c\/span\x3e\x26gt;\x26lt;\/\x3cspan class=\x22hljs-keyword\x22\x3ediv\x3c\/span\x3e\x26gt;\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e4、 在这个标签后或者这个文档的尾部下面的代码：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n$(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).ready(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\nsetInterval(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n$(\x3cspan class=\x22hljs-string\x22\x3e\x22#screen\x22\x3c\/span\x3e).load(\x3cspan class=\x22hljs-string\x22\x3e\x27temperature.php\x27\x3c\/span\x3e)\n}, \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e);\n});\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e其中，\x3ccode\x3e#screen\x3c\/code\x3e 是标签 \x3ccode\x3e\x26lt;div\x26gt;\x3c\/code\x3e 的 \x3ccode\x3eid\x3c\/code\x3e ，你想在它里面显示温度。它会每隔 1000 毫秒加载一次 \x3ccode\x3etemperature.php\x3c\/code\x3e 文件。\x3c\/p\x3e\n\x3cp\x3e我使用了 bootstrap 框架来制作一个漂亮的面板来显示温度，你还可以加入多个图标和图形让网页更有吸引力。\x3c\/p\x3e\n\x3cp\x3e这只是一个控制继电器板并显示温度的基础的系统，你可以通过创建基于定时和从恒温器读数等基于事件触发来进一步地对系统进行开发。\x3c\/p\x3e\n\x3cp\x3e（ 题图：opensource.com）\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3e作者简介：\x3c\/p\x3e\n\x3cp\x3eAbdul Hannan Mustajab: 我 17 岁，生活在印度。我正在追求科学，数学和计算机科学方面的教育。我在 spunkytechnology.com 上发表关于我的项目的博客。我一直在对使用不同的微控制器和电路板的基于物联网的 AI 进行研究。\x3c\/p\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/opensource.com\/article\/17\/3\/operate-relays-control-gpio-pins-raspberry-pi\x22\x3ehttps:\/\/opensource.com\/article\/17\/3\/operate-relays-control-gpio-pins-raspberry-pi\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/opensource.com\/users\/mustajabhannan\x22\x3eAbdul Hannan Mustajab\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/zhousiyu325\x22\x3ezhousiyu325\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>如何用树莓派控制 GOIO 引脚并操作继电器</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/how-to-control-gpio-pins-and-operate-relays-with-the-raspberry-pi">https://www.zcfy.cc/article/how-to-control-gpio-pins-and-operate-relays-with-the-raspberry-pi</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/795bewwzbpb/" target="_blank">https://alili.tech/archive/795bewwzbpb/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>