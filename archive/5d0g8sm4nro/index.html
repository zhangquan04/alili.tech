<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="聊聊webWorker"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>聊聊webWorker | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/5d0g8sm4nro/",
				"appid": "1613049289050283", 
				"title": "聊聊webWorker | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-15T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/o0yy14ekalt/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/997mxmaqgwk/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&text=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&text=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&title=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&is_video=false&description=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e8%81%8a%e8%81%8awebWorker&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&title=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&title=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&title=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f5d0g8sm4nro%2f&title=%e8%81%8a%e8%81%8awebWorker"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">聊聊webWorker</h1><div class="meta"><div class="postdate"><time datetime="2019-01-15" itemprop="datePublished">2019-01-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch4\x3e先看几个例子\x3c\/h4\x3e\n\x3cp\x3e本例子是通过通过红点展示地球上的地震带，数据来自于地质探测局\x3cbr\x3e\x3ccode\x3e通过console.log看到数据运算所耗的时间\x3c\/code\x3e\x3cbr\x3e不使用 webworker  \x3ca href=\x22http:\/\/spademan.github.io\/earthquake-heatmap-layer\/no_worker.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eNo web workers - all on main thread\x3c\/a\x3e\x3cbr\x3e使用一条 webworker \x3ca href=\x22http:\/\/spademan.github.io\/earthquake-heatmap-layer\/one_worker.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eOne web worker\x3c\/a\x3e\x3cbr\x3e使用两条   \x3ca href=\x22http:\/\/spademan.github.io\/earthquake-heatmap-layer\/two_worker.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eTwo web workers\x3c\/a\x3e\x3cbr\x3e使用八条   \x3ca href=\x22http:\/\/spademan.github.io\/earthquake-heatmap-layer\/eight_worker.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eEight web workers\x3c\/a\x3e\x3cbr\x3e使用20条   \x3ca href=\x22http:\/\/spademan.github.io\/earthquake-heatmap-layer\/20_worker.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e20 web workers\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3e结论\x3c\/code\x3e：是？ \/\/ 带着思考看下去\x3c\/p\x3e\n\x3ch4\x3e背景\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3eJavaScript\x3c\/code\x3e引擎是单线程运行的，\x3ccode\x3eJavaScript\x3c\/code\x3e中耗时的\x3ccode\x3eI\/O\x3c\/code\x3e操作都被处理为异步操作，它们包括键盘、鼠标\x3ccode\x3eI\/O\x3c\/code\x3e输入输出事件、窗口大小的\x3ccode\x3eresize\x3c\/code\x3e事件、定时器(\x3ccode\x3esetTimeout、setInterval\x3c\/code\x3e)事件、\x3ccode\x3eAjax\x3c\/code\x3e请求网络\x3ccode\x3eI\/O\x3c\/code\x3e回调等。当这些异步任务发生的时候，它们将会被放入浏览器的事件任务队列中去，等到\x3ccode\x3eJavaScript\x3c\/code\x3e运行时执行线程空闲时候才会按照队列先进先出的原则被一一执行，但终究还是单线程。\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVNjQ3?w=759\x26amp;h=345\x22 src=\x22https:\/\/static.alili.tech\/img\/bVNjQ3?w=759\x26amp;h=345\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e虽然\x3ccode\x3eJS\x3c\/code\x3e运行在浏览器中，是单线程的，每个\x3ccode\x3ewindow\x3c\/code\x3e一个JS线程，但浏览器不是单线程的，例如\x3ccode\x3eWebkit\x3c\/code\x3e或是\x3ccode\x3eGecko\x3c\/code\x3e引擎，都可能有如下线程：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22javascript引擎线程\n界面渲染线程\n浏览器事件触发线程\nHttp请求线程\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs mipsasm\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3ejavascript引擎线程\n\x3c\/span\x3e界面渲染线程\n浏览器事件触发线程\nHttp请求线程\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e很多人觉得异步（promise async\/await），都是通过类似event loop在平常的工作中已经足够，但是如果做复杂运算，这些异步伪线程的不足就逐渐体现出来，比如settimeout拿到的值并不正确，再者假如页面有复杂运算的时候页面很容易触发假死状态，\x3cbr\x3e为了有多线程功能，\x3ccode\x3ewebworker\x3c\/code\x3e问世了。不过，这并不意味着 \x3ccode\x3eJavaScript \x3c\/code\x3e语言本身就支持了多线程，对于\x3ccode\x3e JavaScript\x3c\/code\x3e 语言本身它仍是运行在单线程上的，\x3ccode\x3e Web Worker \x3c\/code\x3e只是浏览器（宿主环境）提供的一个\x3ccode\x3e能力／API\x3c\/code\x3e。\x3c\/p\x3e\n\x3ch4\x3e简介\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3e Web Worker\x3c\/code\x3e 是HTML5标准的一部分，这一规范定义了一套\x3ccode\x3e API\x3c\/code\x3e，它允许一段\x3ccode\x3eJavaScript\x3c\/code\x3e程序运行在主线程之外的另外一个线程中。工作线程允许开发人员编写能够长时间运行而不被用户所中断的后台程序， 去执行事务或者逻辑，并同时保证页面对用户的及时响应，可以将一些大量计算的代码交给web worker运行而不冻结用户界面，后面会有案例介绍\x3c\/p\x3e\n\x3ch4\x3e类型\x3c\/h4\x3e\n\x3cp\x3e\x3ccode\x3eWeb workers\x3c\/code\x3e可分为两种类型：专用线程\x3ccode\x3ededicated web worker\x3c\/code\x3e，以及共享线程\x3ccode\x3eshared web worker\x3c\/code\x3e。 \x3ccode\x3eDedicated web worker\x3c\/code\x3e随当前页面的关闭而结束；这意味着\x3ccode\x3eDedicated web worker\x3c\/code\x3e只能被创建它的页面访问。与之相对应的\x3ccode\x3eShared web worker\x3c\/code\x3e可以被多个页面访问。在\x3ccode\x3eJavascript\x3c\/code\x3e代码中，\x3ccode\x3e“Work”\x3c\/code\x3e类型代表\x3ccode\x3eDedicated web worker\x3c\/code\x3e，而\x3ccode\x3e“SharedWorker”\x3c\/code\x3e类型代表\x3ccode\x3eShared web worker\x3c\/code\x3e。\x3cbr\x3e而\x3ccode\x3eShared Worker\x3c\/code\x3e则可以被多个页面所共享（同域情况下）\x3c\/p\x3e\n\x3ch4\x3e如何创建\x3c\/h4\x3e\n\x3cp\x3eWeb Worker的创建是在主线程当中通过传入文件的url来实现的。如下所示：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let webworker = new Worker(\x27myworker.js\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ceylon\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e webworker = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Worker(\x3cspan class=\x22hljs-string\x22\x3e\x27myworker.js\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e返回的是\x3ccode\x3ewebworker\x3c\/code\x3e实例对象,该对象是主线程和其他线程的通讯桥梁\x3cbr\x3e主线程和其他线程可以通过\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22onmessage: 监听事件\npostmessage: 传送事件\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-symbol\x22\x3eonmessage:\x3c\/span\x3e 监听事件\n\x3cspan class=\x22hljs-symbol\x22\x3epostmessage:\x3c\/span\x3e 传送事件\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e相关的API进行通讯 \x3cbr\x3e案例代码如下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/主线程 main.js\nvar worker = new Worker(\x26quot;worker.js\x26quot;);\nworker.onmessage = function(event){\n    \/\/ 主线程收到子线程的消息\n};\n\/\/ 主线程向子线程发送消息\nworker.postMessage({\n    type: \x26quot;start\x26quot;,\n    value: 12345\n});\n\n\/\/web worker.js\nonmessage = function(event){\n   \/\/ 收到\n};\npostMessage({\n    type: \x26quot;debug\x26quot;,\n    message: \x26quot;Starting processing...\x26quot;\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/主线程 main.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e worker = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Worker(\x3cspan class=\x22hljs-string\x22\x3e\x22worker.js\x22\x3c\/span\x3e);\nworker.onmessage = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 主线程收到子线程的消息\x3c\/span\x3e\n};\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 主线程向子线程发送消息\x3c\/span\x3e\nworker.postMessage({\n    type: \x3cspan class=\x22hljs-string\x22\x3e\x22start\x22\x3c\/span\x3e,\n    value: \x3cspan class=\x22hljs-number\x22\x3e12345\x3c\/span\x3e\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/web worker.js\x3c\/span\x3e\nonmessage = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e\x3c\/span\x3e{\n   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 收到\x3c\/span\x3e\n};\npostMessage({\n    type: \x3cspan class=\x22hljs-string\x22\x3e\x22debug\x22\x3c\/span\x3e,\n    message: \x3cspan class=\x22hljs-string\x22\x3e\x22Starting processing...\x22\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/plnkr.co\/edit\/GdTBgR?p=preview\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e相关demo\x3c\/a\x3e\x3c\/p\x3e\n\x3ch4\x3e如何终止\x3c\/h4\x3e\n\x3cp\x3e如果在某个时机不想要 \x3ccode\x3eWorker\x3c\/code\x3e 继续运行了，那么我们需要终止掉这个线程，可以调用 在主线程\x3ccode\x3eworker\x3c\/code\x3e 的 \x3ccode\x3eterminate\x3c\/code\x3e 方法 或者在相应的线程中调用\x3ccode\x3eclose\x3c\/code\x3e：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 方式一 main.js 在主线程停止方式 \nvar worker = new Worker(\x27.\/worker.js\x27);\n...\nworker.terminate();\n\n\/\/ 方式二、worker.js\nself.close()\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lasso\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 方式一 main.js 在主线程停止方式 \x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3evar\x3c\/span\x3e worker = \x3cspan class=\x22hljs-literal\x22\x3enew\x3c\/span\x3e Worker(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/worker.js\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-params\x22\x3e...\x3c\/span\x3e\nworker.terminate();\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 方式二、worker.js\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3eself\x3c\/span\x3e.close()\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e错误机制\x3c\/h4\x3e\n\x3cp\x3e提供了\x3ccode\x3eonerror \x3c\/code\x3e API\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22worker.addEventListener(\x27error\x27, function (e) {\n  console.log(\x27MAIN: \x27, \x27ERROR\x27, e);\n  console.log(\x27filename:\x27 \x2b e.filename \x2b \x27-message:\x27 \x2b e.message \x2b \x27-lineno:\x27 \x2b e.lineno);\n});\n\n\/\/ event.filename: 导致错误的 Worker 脚本的名称；\n\/\/ event.message: 错误的信息；\n\/\/ event.lineno: 出现错误的行号；\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3eworker.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27error\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27MAIN: \x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27ERROR\x27\x3c\/span\x3e, e);\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27filename:\x27\x3c\/span\x3e \x2b e.filename \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27-message:\x27\x3c\/span\x3e \x2b e.message \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27-lineno:\x27\x3c\/span\x3e \x2b e.lineno);\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ event.filename: 导致错误的 Worker 脚本的名称；\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ event.message: 错误的信息；\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ event.lineno: 出现错误的行号；\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3esharedWorker\x3c\/h4\x3e\n\x3cp\x3e对于 \x3ccode\x3eWeb Worker\x3c\/code\x3e ，一个 \x3ccode\x3etab\x3c\/code\x3e 页面只能对应一个 \x3ccode\x3eWorker\x3c\/code\x3e 线程，是相互独立的；\x3cbr\x3e而 \x3ccode\x3eSharedWorker\x3c\/code\x3e 提供了能力能够让不同标签中页面共享的同一个\x3ccode\x3e Worker \x3c\/code\x3e脚本线程；\x3cbr\x3e当然，有个很重要的限制就是它们需要满足同源策略，也就是需要在同域下；\x3cbr\x3e在页面（可以多个）中实例化\x3ccode\x3e Worker\x3c\/code\x3e 线程：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ main.js\n\nvar myWorker = new SharedWorker(\x26quot;worker.js\x26quot;);\n\nmyWorker.port.start();\n\nmyWorker.port.postMessage(\x26quot;hello, I\x27m main\x26quot;);\n\nmyWorker.port.onmessage = function(e) {\n  console.log(\x27Message received from worker\x27);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ main.js\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e myWorker = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e SharedWorker(\x3cspan class=\x22hljs-string\x22\x3e\x22worker.js\x22\x3c\/span\x3e);\n\nmyWorker.port.start();\n\nmyWorker.port.postMessage(\x3cspan class=\x22hljs-string\x22\x3e\x22hello, I\x27m main\x22\x3c\/span\x3e);\n\nmyWorker.port.onmessage = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Message received from worker\x27\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ worker.js\nonconnect = function(e) {\n  var port = e.ports[0];\n\n  port.addEventListener(\x27message\x27, function(e) {\n    var workerResult = \x27Result: \x27 \x2b (e.data[0]);\n    port.postMessage(workerResult);\n  });\n  port.start();\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ worker.js\x3c\/span\x3e\nonconnect = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(e)\x3c\/span\x3e \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e port = e.ports[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e];\n\n  port.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27message\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(e)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e workerResult = \x3cspan class=\x22hljs-string\x22\x3e\x27Result: \x27\x3c\/span\x3e \x2b (e.data[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n    port.postMessage(workerResult);\n  });\n  port.start();\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/coolaj86.github.io\/html5-shared-web-worker-examples\/?\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在线demo\x3c\/a\x3e\x3c\/p\x3e\n\x3ch5\x3e父子线程\x3c\/h5\x3e\n\x3cp\x3e线程中再创建线程\x3c\/p\x3e\n\x3ch4\x3e环境与作用域\x3c\/h4\x3e\n\x3cp\x3e在\x3ccode\x3e Worker \x3c\/code\x3e线程的运行环境中没有\x3ccode\x3e window \x3c\/code\x3e全局对象，也无法访问\x3ccode\x3e DOM \x3c\/code\x3e对象，所以一般来说他只能来执行纯 \x3ccode\x3eJavaScript \x3c\/code\x3e的计算操作。但是，他还是可以获取到部分浏览器提供的\x3ccode\x3e API\x3c\/code\x3e 的：\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3esetTimeout()， clearTimeout()， setInterval()， clearInterval()：\x3c\/code\x3e有了设计个函数，就可以在 \x3ccode\x3eWorker \x3c\/code\x3e: 线程中可以再创建worker；\x3cbr\x3e\x3ccode\x3eXMLHttpRequest \x3c\/code\x3e: 对象：意味着我们可以在 Worker 线程中执行 \x3ccode\x3eajax\x3c\/code\x3e 请求；\x3cbr\x3e\x3ccode\x3enavigator \x3c\/code\x3e对象：可以获取到 \x3ccode\x3eppName，appVersion，platform，userAgent \x3c\/code\x3e等信息；\x3cbr\x3e\x3ccode\x3elocation \x3c\/code\x3e对象（只读）：可以获取到有关当前\x3ccode\x3e URL\x3c\/code\x3e 的信息；\x3cbr\x3e\x3ccode\x3eApplication Cache\x3c\/code\x3e\x3cbr\x3e\x3ccode\x3eindexedDB \x3c\/code\x3e \x3cbr\x3e\x3ccode\x3eWebSocket、\x3c\/code\x3e\x3cbr\x3e\x3ccode\x3ePromise、\x3c\/code\x3e\x3c\/p\x3e\n\x3ch4\x3e库或外部脚本引入和访问\x3c\/h4\x3e\n\x3cp\x3e在线程中，提供了\x3ccode\x3eimportScripts\x3c\/code\x3e方法\x3cbr\x3e如果线程中使用了\x3ccode\x3eimportScripts\x3c\/code\x3e 一般按照以下步骤解析\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x221、解析 importScripts方法的每一个参数。\n2、如果有任何失败或者错误，抛出 SYNTAX_ERR 异常。\n3、尝试从用户提供的 URL 资源位置处获取脚本资源。\n4、对于 importScripts 方法的每一个参数，按照用户的提供顺序，获取脚本资源后继续进行其它操作。\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e、解析 importScripts方法的每一个参数。\n\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e、如果有任何失败或者错误，抛出 SYNTAX_ERR 异常。\n\x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e、尝试从用户提供的 URL 资源位置处获取脚本资源。\n\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e、对于 importScripts 方法的每一个参数，按照用户的提供顺序，获取脚本资源后继续进行其它操作。\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ worker.js\nimportScripts(\x27math_utilities.js\x27); \nonmessage = function (event) \n { \n     var first=event.data.first; \n     var second=event.data.second; \n     calculate(first,second); \/\/ calculate 是math_utilities.js中的方法 \n }; \n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ worker.js\x3c\/span\x3e\nimportScripts(\x3cspan class=\x22hljs-string\x22\x3e\x27math_utilities.js\x27\x3c\/span\x3e); \nonmessage = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(event)\x3c\/span\x3e \n \x3c\/span\x3e{ \n     \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e first=event.data.first; \n     \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e second=event.data.second; \n     calculate(first,second); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ calculate 是math_utilities.js中的方法 \x3c\/span\x3e\n }; \n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e也可以一次性引入多个\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/可以多起一次传入\nimportScripts(\x27script1.js\x27, \x27script2.js\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/可以多起一次传入\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3eimportScripts\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27script1.js\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27script2.js\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3eXMLHttpRequest\x3c\/h4\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22onmessage = function(evt){\n    var xhr = new XMLHttpRequest();\n    xhr.open(\x26quot;GET\x26quot;, \x26quot;serviceUrl\x26quot;); \/\/serviceUrl为后端j返回son数据的接口\n    xhr.onload = function(){\n    postMessage(xhr.responseText);\n    };\n    xhr.send();\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs accesslog\x22\x3e\x3ccode\x3eonmessage = function(evt){\n    var xhr = new XMLHttpRequest();\n    xhr.open(\x3cspan class=\x22hljs-string\x22\x3e\x22\x3cspan class=\x22hljs-keyword\x22\x3eGET\x3c\/span\x3e\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22serviceUrl\x22\x3c\/span\x3e); \/\/serviceUrl为后端j返回son数据的接口\n    xhr.onload = function(){\n    postMessage(xhr.responseText);\n    };\n    xhr.send();\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3ejsonp\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 设置jsonp\nfunction MakeServerRequest() \n{\n    importScripts(\x26quot;http:\/\/SomeServer.com?jsonp=HandleRequest\x26quot;);\n} \n\n\/\/ jsonp回调\nfunction HandleRequest(objJSON) \n{\n    postMessage(\x26quot;Data returned from the server...FirstName: \x26quot; \n                  \x2b objJSON.FirstName \x2b \x26quot; LastName: \x26quot; \x2b objJSON.LastName);\n} \n\n\/\/ Trigger the server request for the JSONP data \nMakeServerRequest();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 设置jsonp\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eMakeServerRequest\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e \n\x3c\/span\x3e{\n    importScripts(\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/SomeServer.com?jsonp=HandleRequest\x22\x3c\/span\x3e);\n} \n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ jsonp回调\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eHandleRequest\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(objJSON)\x3c\/span\x3e \n\x3c\/span\x3e{\n    postMessage(\x3cspan class=\x22hljs-string\x22\x3e\x22Data returned from the server...FirstName: \x22\x3c\/span\x3e \n                  \x2b objJSON.FirstName \x2b \x3cspan class=\x22hljs-string\x22\x3e\x22 LastName: \x22\x3c\/span\x3e \x2b objJSON.LastName);\n} \n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Trigger the server request for the JSONP data \x3c\/span\x3e\nMakeServerRequest();\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e通讯原理\x3c\/h4\x3e\n\x3cp\x3e从一个线程到另一个线程的通讯实际上是一个值拷贝的过程，实际上是先将数据\x3ccode\x3eJSON.stringify\x3c\/code\x3e之后再\x3ccode\x3eJSON.parse\x3c\/code\x3e。主线程与子线程之间也可以交换二进制数据，比如\x3ccode\x3eFile、Blob、ArrayBuffer\x3c\/code\x3e等对象，也可以在线程之间发送。但是，用拷贝方式发送二进制数据，会造成性能问题。比如，主线程向子线程发送一个50MB文件，默认情况下浏览器会生成一个原文件的拷贝。为了解决这个问题，JavaScript允许主线程把二进制数据直接转移给子线程，转移后主线程无法再使用这些数据，这是为了防止出现多个线程同时修改数据的问题，这种转移数据的方法，叫做\x3ccode\x3eTransferable Objects。\x3c\/code\x3e\x3cbr\x3e不过现在很多浏览器支持\x3ccode\x3etransferable objects(可转让对象)\x3c\/code\x3e ,这个技术是零拷贝转移，能大大提升性能，\x3cbr\x3e可以指定传送的数据全都是\x3ccode\x3e零拷贝\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var abBuffer = new ArrayBuffer(32);\naDedicatedWorker.postMessage(abBuffer, [abBuffer]);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pony\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e abBuffer = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eArrayBuffer\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e);\n\x3cspan class=\x22hljs-title\x22\x3eaDedicatedWorker\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3epostMessage\x3c\/span\x3e(abBuffer, [abBuffer]);\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e也可以 指定某个是 使用 \x3ccode\x3e零拷贝\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var objData = {\n   \x26quot;employeeId\x26quot;: 103,\n   \x26quot;name\x26quot;: \x26quot;Sam Smith\x26quot;,\n   \x26quot;dateHired\x26quot;: new Date(2006, 11, 15),\n   \x26quot;abBuffer\x26quot;: new ArrayBuffer(32)\n};\naDedicatedWorker.postMessage(objData, [objData.abBuffer]);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e objData = {\n   \x3cspan class=\x22hljs-string\x22\x3e\x22employeeId\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e103\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-string\x22\x3e\x22name\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22Sam Smith\x22\x3c\/span\x3e,\n   \x3cspan class=\x22hljs-string\x22\x3e\x22dateHired\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eDate\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e2006\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e),\n   \x3cspan class=\x22hljs-string\x22\x3e\x22abBuffer\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eArrayBuffer\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e32\x3c\/span\x3e)\n};\naDedicatedWorker.postMessage(objData, [objData.abBuffer]);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch4\x3e工作线程生命周期\x3c\/h4\x3e\n\x3cp\x3e工作线程之间的通信必须依赖于浏览器的上下文环境，并且通过它们的 \x3ccode\x3eMessagePort \x3c\/code\x3e对象实例传递消息。每个工作线程的全局作用域都拥有这些线程的端口列表，这些列表包括了所有线程使用到的\x3ccode\x3e MessagePort \x3c\/code\x3e对象。在专用线程的情况下，这个列表还会包含隐式的 \x3ccode\x3eMessagePort\x3c\/code\x3e 对象。\x3cbr\x3e每个工作线程的全局作用域对象 \x3ccode\x3eWorkerGlobalScope \x3c\/code\x3e还会有一个工作线程的线程列表，在初始化时这个列表为空。当工作线程被创建的时候或者拥有父工作线程的时候，它们就会被填充进来。\x3cbr\x3e最后，每个工作线程的全局作用域对象\x3ccode\x3e WorkerGlobalScope\x3c\/code\x3e 还拥有这个线程的文档模型，在初始化时这个列表为空。当工作线程被创建的时候，文档对象就会被填充进来。无论何时当一个文档对象被丢弃的时候，它就要从这个文档对象列举里面删除出来。\x3c\/p\x3e\n\x3ch4\x3e性能测试\x3c\/h4\x3e\n\x3ch5\x3e初始化测试\x3c\/h5\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 部分机器webwoker初始化时间\nMacbook Pro: 2 workers, 0.4 milliseconds on average\nMacbook Pro: 4 workers, 0.6 milliseconds on average\nNexus 5: 2 workers, 6 milliseconds on average\nNexus 5: 4 workers, 15 milliseconds on average (border-line UI jank)\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs livecodeserver\x22\x3e\x3ccode\x3e\/\/ 部分机器webwoker初始化时间\nMacbook Pro: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e workers, \x3cspan class=\x22hljs-number\x22\x3e0.4\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3emilliseconds\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaverage\x3c\/span\x3e\nMacbook Pro: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e workers, \x3cspan class=\x22hljs-number\x22\x3e0.6\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3emilliseconds\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaverage\x3c\/span\x3e\nNexus \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e workers, \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3emilliseconds\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaverage\x3c\/span\x3e\nNexus \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e workers, \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3emilliseconds\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eon\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaverage\x3c\/span\x3e (\x3cspan class=\x22hljs-title\x22\x3eborder-line\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eUI\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ejank\x3c\/span\x3e)\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch5\x3e传输速度测试\x3c\/h5\x3e\n\x3cp\x3e1、普通json\/object\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVNwCw?w=1102\x26amp;h=196\x22 src=\x22https:\/\/static.alili.tech\/img\/bVNwCw?w=1102\x26amp;h=196\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e2、tranferable objects\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVNwCL?w=1070\x26amp;h=198\x22 src=\x22https:\/\/static.alili.tech\/img\/bVNwCL?w=1070\x26amp;h=198\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e\x3ccode\x3e可见 transferable objects\x3c\/code\x3e传输速度要高很多\x3c\/p\x3e\n\x3ch4\x3e部分典型的应用场景如下\x3c\/h4\x3e\n\x3cp\x3e1）  使用专用线程进行数学运算\x3cbr\x3e\x3ccode\x3eWeb Worker\x3c\/code\x3e最简单的应用就是用来做后台计算，而这种计算并不会中断前台用户的操作\x3cbr\x3e2）  图像处理\x3cbr\x3e通过使用从\x3ccode\x3e\x26lt;canvas\x26gt;\x3c\/code\x3e或者\x3ccode\x3e\x26lt;video\x26gt;\x3c\/code\x3e元素中获取的数据，可以把图像分割成几个不同的区域并且把它们推送给并行的不同\x3ccode\x3eWorkers\x3c\/code\x3e来做计算\x3cbr\x3e3）  大量数据的检索\x3cbr\x3e当需要在调用 \x3ccode\x3eajax\x3c\/code\x3e后处理大量的数据，如果处理这些数据所需的时间长短非常重要，可以在\x3ccode\x3eWeb Worker\x3c\/code\x3e中来做这些，避免冻结\x3ccode\x3eUI线程\x3c\/code\x3e。\x3cbr\x3e4）  背景数据分析\x3cbr\x3e由于在使用\x3ccode\x3eWeb Worker\x3c\/code\x3e的时候，我们有更多潜在的\x3ccode\x3eCPU\x3c\/code\x3e可用时间，我们现在可以考虑一下\x3ccode\x3eJavaScript\x3c\/code\x3e中的新应用场景。例如，我们可以想像在不影响UI体验的情况下实时处理用户输入。利用这样一种可能，我们可以想像一个像\x3ccode\x3eWord（Office Web Apps 套装）\x3c\/code\x3e一样的应用：当用户打字时后台在词典中进行查找，帮助用户自动纠错等等。\x3c\/p\x3e\n\x3ch4\x3e限制\x3c\/h4\x3e\n\x3cp\x3e1、不能访问\x3ccode\x3eDOM和BOM\x3c\/code\x3e对象的，\x3ccode\x3eLocation和navigator\x3c\/code\x3e的只读访问，并且\x3ccode\x3enavigator\x3c\/code\x3e封装成了\x3ccode\x3eWorkerNavigator\x3c\/code\x3e对象，更改部分属性。无法读取本地文件系统\x3cbr\x3e2、子线程和父级线程的通讯是通过值拷贝，子线程对通信内容的修改，不会影响到主线程。在通讯过程中值过大也会影响到性能（解决这个问题可以用\x3ccode\x3etransferable objects\x3c\/code\x3e）\x3cbr\x3e3、并非真的多线程，多线程是因为浏览器的功能\x3cbr\x3e4、兼容性\x3cbr\x3e5 \x3cdel\x3e因为线程是通过\x3ccode\x3eimportScripts\x3c\/code\x3e引入外部的\x3ccode\x3ejs\x3c\/code\x3e，并且直接执行，其实是不安全的，很容易被外部注入一些恶意代码\x3c\/del\x3e\x3cbr\x3e6、条数限制，大多浏览器能创建webworker线程的条数是有限制的，虽然可以手动去拓展，但是如果不设置的话，基本上都在20条以内，每条线程大概5M左右，需要手动关掉一些不用的线程才能够创建新的线程（\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/13574158\/number-of-web-workers-limit\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e相关解决方案\x3c\/a\x3e）\x3cbr\x3e7、js存在真的线程的东西，比如\x3ca href=\x22https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Global_Objects\/SharedArrayBuffer\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eSharedArrayBuffer\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVNaFD?w=1282\x26amp;h=621\x22 src=\x22https:\/\/static.alili.tech\/img\/bVNaFD?w=1282\x26amp;h=621\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch4\x3ejs的多线程库\x3c\/h4\x3e\n\x3cp\x3e1、\x3ca href=\x22https:\/\/github.com\/DoubleSpout\/node-threads-a-gogo2\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3etagg2\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e参考文献：[1] \x3ca href=\x22https:\/\/www.html5rocks.com\/zh\/tutorials\/workers\/basics\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/www.html5rocks.com\/zh...\x3c\/a\x3e\x3cbr\x3e[2] \x3ca href=\x22http:\/\/www.alloyteam.com\/2015\/11\/deep-in-web-worker\/#prettyPhoto\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.alloyteam.com\/2015...\x3c\/a\x3e\x3cbr\x3e[3] \x3ca href=\x22https:\/\/typedarray.org\/concurrency-in-javascript\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/typedarray.org\/concur...\x3c\/a\x3e\x3cbr\x3e[4] \x3ca href=\x22http:\/\/www.andygup.net\/advanced-web-worker-performance\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.andygup.net\/advanc...\x3c\/a\x3e\x3cbr\x3e[5] \x3ca href=\x22https:\/\/developer.mozilla.org\/zh-CN\/docs\/Web\/API\/Web_Workers_API\/Using_web_workers\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/developer.mozilla.org...\x3c\/a\x3e\x3cbr\x3e[6] \x3ca href=\x22http:\/\/coolaj86.github.io\/html5-shared-web-worker-examples\/?\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/coolaj86.github.io\/htm...\x3c\/a\x3e \x3cbr\x3e[7] \x3ca href=\x22http:\/\/www.xyhtml5.com\/webworker-javascript-debug-implementation.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/www.xyhtml5.com\/webwor...\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>聊聊webWorker</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009313491">https://segmentfault.com/a/1190000009313491</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/5d0g8sm4nro/" target="_blank">https://alili.tech/archive/5d0g8sm4nro/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>