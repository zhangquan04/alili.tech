<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="互联网协议正在发生变化"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>互联网协议正在发生变化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/e860kl6i0oo/",
				"appid": "1613049289050283", 
				"title": "互联网协议正在发生变化 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-21T02:30:06"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/zhkd5kwgc8r/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wkpk6pntmj/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&text=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&text=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&title=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&is_video=false&description=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&title=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&title=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&title=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fe860kl6i0oo%2f&title=%e4%ba%92%e8%81%94%e7%bd%91%e5%8d%8f%e8%ae%ae%e6%ad%a3%e5%9c%a8%e5%8f%91%e7%94%9f%e5%8f%98%e5%8c%96"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">互联网协议正在发生变化</h1><div class="meta"><div class="postdate"><time datetime="2019-01-21" itemprop="datePublished">2019-01-21</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#互联网协议正在发生变化\x22\x3e\x3c\/a\x3e互联网协议正在发生变化\x3c\/h1\x3e\n\x3cp\x3e当上世纪九十年代互联网开始被广泛使用的时候，其大部分的通讯只使用几个协议：IPv4 协议路由这些数据包，TCP 协议转发这些包到连接上，SSL（及后来的 TLS）协议加密连接，DNS 协议命名那些所要连接的主机，而 HTTP 协议是最常用的应用程序协议。\x3c\/p\x3e\n\x3cp\x3e多年以来，这些核心的互联网协议的变化几乎是微乎其微的；HTTP 增加了几个新的报文头和请求方式，TLS 缓慢地进行了一点小修改，TCP 调整了拥塞控制，而 DNS 引入了像 DNSSEC 这样的特性。这些协议看起来很长时间都一成不变（除了已经引起网络运营商们的大量关注的 IPv6）。\x3c\/p\x3e\n\x3cp\x3e因此，希望了解（甚至有时控制）互联网的网络运营商、供应商和决策者对这些协议采用的做法是基于其原有工作方式 —— 无论是打算调试问题，提高服务质量，或施加政策。\x3c\/p\x3e\n\x3cp\x3e现在，核心互联网协议的重要改变已经开始了。虽然它们意图与互联网大部分兼容（因为，如果不兼容的话，它们不会被采纳），但是它们可能会破坏那些在协议中没有规定的地方，或者根本就假设那些地方不存在变化。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#为什么我们需要去改变互联网\x22\x3e\x3c\/a\x3e为什么我们需要去改变互联网\x3c\/h3\x3e\n\x3cp\x3e有大量的因素推动这些变化。\x3c\/p\x3e\n\x3cp\x3e首先，核心互联网协议的局限性越来越明显，尤其是考虑到性能的时候。由于在应用和传输协议方面的结构性问题，网络没有得到高效使用，导致终端用户认为性能不能满足要求（特别是，网络延迟）。\x3c\/p\x3e\n\x3cp\x3e这就意味着人们有强烈的动机来演进或者替换这些协议，因为有 \x3ca href=\x22https:\/\/www.smashingmagazine.com\/2015\/09\/why-performance-matters-the-perception-of-time\/\x22\x3e大量的经验表明，即便是很小的性能改善也会产生影响\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3e其次，演进互联网协议的能力 —— 无论在任何层面上 —— 会随着时间的推移变得更加困难，这主要是因为上面所讨论的对网络的非预期使用。例如，尝试去压缩响应的 HTTP 代理服务器使得部署新的压缩技术更困难；中间设备中的 TCP 优化使得部署对 TCP 的改进越来越困难。\x3c\/p\x3e\n\x3cp\x3e最后，\x3ca href=\x22https:\/\/static.googleusercontent.com\/media\/research.google.com\/en\/\/pubs\/archive\/46197.pdf\x22\x3e我们正处在一个越来越多地使用加密技术的互联网变化当中\x3c\/a\x3e，首次激起这种改变的事件是，2015 年 Edward Snowden 的披露事件（LCTT 译注：指的是美国中情局雇员斯诺登的事件）。那是一个单独讨论的话题，但是与之相关的是，加密技术是最好的工具之一，我们必须确保协议能够进化。\x3c\/p\x3e\n\x3cp\x3e让我们来看一下都发生了什么，接下来会出现什么，它对网络有哪些影响，和它对网络协议的设计有哪些影响。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#http2\x22\x3e\x3c\/a\x3eHTTP\/2\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/http2.github.io\/\x22\x3eHTTP\/2\x3c\/a\x3e（基于 Google 的 SPDY） 是第一个重大变化 —— 它在 2015 年被标准化。它将多个请求复用到一个 TCP 连接上，从而避免了客户端排队请求，而不会互相阻塞。它现在已经被广泛部署，并且被所有的主流浏览器和 web 服务器支持。\x3c\/p\x3e\n\x3cp\x3e从网络的角度来看，HTTP\/2 带来了一些显著变化。首先，这是一个二进制协议，因此，任何假定它是 HTTP\/1.1 的设备都会出现问题。\x3c\/p\x3e\n\x3cp\x3e这种破坏性问题是导致 HTTP\/2 中另一个重大变化的主要原因之一：它实际上需要加密。这种改变的好处是避免了来自伪装的 HTTP\/1.1 的中间人攻击，或者一些更细微的事情，比如 strip headers 或者阻止新的协议扩展 —— 这两种情况都在工程师对协议的开发中出现过，导致了很明显的支持问题。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22http:\/\/httpwg.org\/specs\/rfc7540.html#TLSUsage\x22\x3e当它被加密时，HTTP\/2 请求也要求使用 TLS\/1.2\x3c\/a\x3e，并且将一些已经被证明是不安全的算法套件列入\x3ca href=\x22http:\/\/httpwg.org\/specs\/rfc7540.html#BadCipherSuites\x22\x3e黑名单\x3c\/a\x3e —— 其效果只允许使用短暂密钥ephemeral keys。关于潜在的影响可以去看 TLS 1.3 的相关章节。\x3c\/p\x3e\n\x3cp\x3e最终，HTTP\/2 允许多个主机的请求被 \x3ca href=\x22http:\/\/httpwg.org\/specs\/rfc7540.html#reuse\x22\x3e合并到一个连接上\x3c\/a\x3e，通过减少页面加载所使用的连接（从而减少拥塞控制的场景）数量来提升性能。\x3c\/p\x3e\n\x3cp\x3e例如，你可以对 \x3ca href=\x22http:\/\/www.example.com\x22\x3ewww.example.com\x3c\/a\x3e 建立一个连接，也可以将这个连接用于对 images.example.com 的请求。而\x3ca href=\x22https:\/\/tools.ietf.org\/html\/draft-bishop-httpbis-http2-additional-certs\x22\x3e未来的协议扩展也允许将其它的主机添加到连接上\x3c\/a\x3e，即便它们没有被列在最初用于它们的 TLS 证书中。因此，假设连接上的通讯被限制于它初始化时的目的并不适用。\x3c\/p\x3e\n\x3cp\x3e值得注意的是，尽管存在这些变化，HTTP\/2 并没有出现明显的互操作性问题或者来自网络的冲突。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#tls-13\x22\x3e\x3c\/a\x3eTLS 1.3\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/datatracker.ietf.org\/doc\/draft-ietf-tls-tls13\/\x22\x3eTLS 1.3\x3c\/a\x3e 刚刚通过了标准化的最后流程，并且已经被一些实现所支持。\x3c\/p\x3e\n\x3cp\x3e不要被它只增加了版本号的名字所欺骗；它实际上是一个新的 TLS 版本，全新打造的 “握手”机制允许应用程序数据从头开始流动（经常被称为 ‘0RTT’）。新的设计依赖于短暂密钥交换，从而排除了静态密钥。\x3c\/p\x3e\n\x3cp\x3e这引起了一些网络运营商和供应商的担心 —— 尤其是那些需要清晰地知道那些连接内部发生了什么的人。\x3c\/p\x3e\n\x3cp\x3e例如，假设一个对可视性有监管要求的银行数据中心，通过在网络中嗅探通讯包并且使用他们的服务器上的静态密钥解密它，它们可以记录合法通讯和识别有害通讯，无论是来自外部的攻击，还是员工从内部去泄露数据。\x3c\/p\x3e\n\x3cp\x3eTLS 1.3 并不支持那些窃听通讯的特定技术，因为那也是 \x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Forward_secrecy\x22\x3e一种针对短暂密钥防范的攻击形式\x3c\/a\x3e。然而，因为他们有使用更现代化的加密协议和监视他们的网络的监管要求，这些使网络运营商处境很尴尬。\x3c\/p\x3e\n\x3cp\x3e关于是否规定要求静态密钥、替代方式是否有效、并且为了相对较少的网络环境而减弱整个互联网的安全是否是一个正确的解决方案有很多的争论。确实，仍然有可能对使用 TLS 1.3 的通讯进行解密，但是，你需要去访问一个短暂密钥才能做到，并且，按照设计，它们不可能长时间存在。\x3c\/p\x3e\n\x3cp\x3e在这一点上，TLS 1.3 看起来不会去改变以适应这些网络，但是，关于去创建另外一种协议有一些传言，这种协议允许第三方去偷窥通讯内容，或者做更多的事情。这件事是否会得到推动还有待观察。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#quic\x22\x3e\x3c\/a\x3eQUIC\x3c\/h3\x3e\n\x3cp\x3e在 HTTP\/2 工作中，可以很明显地看到 TCP 有相似的低效率。因为 TCP 是一个按顺序发送的协议，一个数据包的丢失可能阻止其后面缓存区中的数据包被发送到应用程序。对于一个多路复用协议来说，这对性能有很大的影响。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/quicwg.github.io\/\x22\x3eQUIC\x3c\/a\x3e 尝试去解决这种影响而在 UDP 之上重构了 TCP 语义（以及 HTTP\/2 流模型的一部分）。像 HTTP\/2 一样，它始于 Google 的一项成果，并且现在已经被 IETF 接纳作为一个 HTTP-over-UDP 的初始用例，其目标是在 2018 年底成为一个标准。然而，因为 Google 已经在 Chrome 浏览器及其网站上部署了 QUIC，它已经占有了超过 7% 的互联网通讯份额。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e阅读 \x3ca href=\x22https:\/\/blog.apnic.net\/2016\/08\/30\/questions-answered-quic\/\x22\x3e关于 QUIC 的答疑\x3c\/a\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e除了大量的通讯从 TCP 到 UDP 的转变（以及隐含的可能的网络调整）之外，Google QUIC（gQUIC）和 IETF QUIC（iQUIC）都要求全程加密；并没有非加密的 QUIC。\x3c\/p\x3e\n\x3cp\x3eiQUIC 使用 TLS 1.3 来为会话建立密钥，然后使用它去加密每个数据包。然而，由于它是基于 UDP 的，许多 TCP 中公开的会话信息和元数据在 QUIC 中被加密了。\x3c\/p\x3e\n\x3cp\x3e事实上，iQUIC 当前的 \x3ca href=\x22https:\/\/quicwg.github.io\/base-drafts\/draft-ietf-quic-transport.html#short-header\x22\x3e‘短报文头’\x3c\/a\x3e 被用于除了握手外的所有包，仅公开一个包编号、一个可选的连接标识符和一个状态字节，像加密密钥轮换计划和包字节（它最终也可能被加密）。\x3c\/p\x3e\n\x3cp\x3e其它的所有东西都被加密 —— 包括 ACK，以提高 \x3ca href=\x22https:\/\/www.mjkranch.com\/docs\/CODASPY17_Kranch_Reed_IdentifyingHTTPSNetflix.pdf\x22\x3e通讯分析\x3c\/a\x3e 攻击的门槛。\x3c\/p\x3e\n\x3cp\x3e然而，这意味着通过观察连接来被动估算 RTT 和包丢失率将不再变得可行；因为没有足够多的信息。在一些运营商中，由于缺乏可观测性，导致了大量的担忧，它们认为像这样的被动测量对于他们调试和了解它们的网络是至关重要的。\x3c\/p\x3e\n\x3cp\x3e为满足这一需求，它们有一个提议是 ‘\x3ca href=\x22https:\/\/tools.ietf.org\/html\/draft-trammell-quic-spin\x22\x3eSpin Bit\x3c\/a\x3e’ — 这是在报文头中的一个回程翻转的位，因此，可能通过观察它来估算 RTT。因为，它从应用程序的状态中解耦的，它的出现并不会泄露关于终端的任何信息，也无法实现对网络位置的粗略估计。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#doh\x22\x3e\x3c\/a\x3eDOH\x3c\/h3\x3e\n\x3cp\x3e即将发生的变化是 DOH — \x3ca href=\x22https:\/\/datatracker.ietf.org\/wg\/doh\/about\/\x22\x3eDNS over HTTP\x3c\/a\x3e。\x3ca href=\x22https:\/\/datatracker.ietf.org\/meeting\/99\/materials\/slides-99-maprg-fingerprint-based-detection-of-dns-hijacks-using-ripe-atlas\/\x22\x3e大量的研究表明，对网络实施政策干预的一个常用手段是通过 DNS 实现的\x3c\/a\x3e（无论是代表网络运营商或者一个更大的权力机构）。\x3c\/p\x3e\n\x3cp\x3e使用加密去规避这种控制已经 \x3ca href=\x22https:\/\/datatracker.ietf.org\/wg\/dprive\/about\/\x22\x3e讨论了一段时间了\x3c\/a\x3e，但是，它有一个不利条件（至少从某些立场来看）— 它可能与其它通讯区别对待；例如，通过它的端口号被阻止访问。\x3c\/p\x3e\n\x3cp\x3eDOH 将 DNS 通讯搭载在已经建立的 HTTP 连接上，因此，消除了任何的鉴别器。希望阻止访问该 DNS 解析器的网络只能通过阻止对该网站的访问来实现。\x3c\/p\x3e\n\x3cp\x3e例如，如果 Google 在 \x3ca href=\x22http:\/\/www.google.com\x22\x3ewww.google.com\x3c\/a\x3e 上部署了它的 \x3ca href=\x22https:\/\/developers.google.com\/speed\/public-dns\/\x22\x3e基于 DOH 的公共 DNS 服务\x3c\/a\x3e，并且一个用户配置了它的浏览器去使用它，一个希望（或被要求的）被停止访问该服务的网络，将必须阻止对 Google 的全部访问（向他们提供的服务致敬！）（LCTT 译注：他们做到了）。\x3c\/p\x3e\n\x3cp\x3eDOH 才刚刚开始，但它已经引起很多人的兴趣，并有了一些部署的传闻。通过使用 DNS 来实施政策影响的网络（和政府机构）如何反应还有待观察。\x3c\/p\x3e\n\x3cp\x3e阅读 \x3ca href=\x22https:\/\/blog.apnic.net\/2017\/11\/17\/ietf-100-singapore-dns-http-doh\/\x22\x3eIETF 100, Singapore: DNS over HTTP (DOH!)\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#僵化和润滑\x22\x3e\x3c\/a\x3e僵化和润滑\x3c\/h3\x3e\n\x3cp\x3e让我们返回到协议变化的动机，有一个主题贯穿了这项工作，协议设计者们遇到的越来越多的问题是网络对流量的使用做了假设。\x3c\/p\x3e\n\x3cp\x3e例如，TLS 1.3 有一些临门一脚的问题是中间设备假设它是旧版本的协议。gQUIC 将几个对 UDP 通讯进行限流的网络列入了黑名单，因为，那些网络认为 UDP 通讯是有害的或者是低优先级的。\x3c\/p\x3e\n\x3cp\x3e当一个协议因为已有的部署而 “冻结” 它的可扩展点，从而导致不能再进化，我们称它为 \x3cem\x3e已经僵化了\x3c\/em\x3e 。TCP 协议自身就是一个严重僵化的例子，因此，太多的中间设备在 TCP 协议上做了太多的事情，比如阻止了带有无法识别的 TCP 选项的数据包，或者，“优化”了拥塞控制。\x3c\/p\x3e\n\x3cp\x3e防止僵化是有必要的，确保协议可以进化以满足未来互联网的需要；否则，它将成为一个“公共灾难”，一些个别网络的行为 —— 虽然在那里工作的很好 —— 但将影响整个互联网的健康发展。\x3c\/p\x3e\n\x3cp\x3e有很多的方式去防止僵化；如果被讨论的数据是加密的，它并不能被除了持有密钥的人之外任何一方所访问，阻止了干扰。如果扩展点是未加密的，但是通常以一种可以明显中断应用程序的方法使用（例如，HTTP 报头），它不太可能受到干扰。\x3c\/p\x3e\n\x3cp\x3e协议设计者不能使用加密的扩展点不经常使用的情况下，人为地利用扩展点——我们称之为 _润滑_ 它。\x3c\/p\x3e\n\x3cp\x3e例如，QUIC 鼓励终端在 \x3ca href=\x22https:\/\/quicwg.github.io\/base-drafts\/draft-ietf-quic-transport.html#rfc.section.3.7\x22\x3e版本协商\x3c\/a\x3e 中使用一系列的诱饵值，来避免假设它的实现永远不变化（就像在 TLS 实现中经常遇到的导致重大问题的情况）。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#网络和用户\x22\x3e\x3c\/a\x3e网络和用户\x3c\/h3\x3e\n\x3cp\x3e除了避免僵化的愿望外，这些变化也反映出了网络和它们的用户之间关系的进化。很长时间以来，人们总是假设网络总是很仁慈好善的 —— 或者至少是公正的 —— 但这种情况是不存在的，不仅是 \x3ca href=\x22https:\/\/tools.ietf.org\/html\/rfc7258\x22\x3e无孔不入的监视\x3c\/a\x3e，也有像 \x3ca href=\x22http:\/\/codebutler.com\/firesheep\x22\x3eFiresheep\x3c\/a\x3e 的攻击。\x3c\/p\x3e\n\x3cp\x3e因此，当那些网络想去访问一些流经它们的网络的用户数据时，互联网用户的整体需求和那些网络之间的关系日益紧张。尤其受影响的是那些希望去对它们的用户实施政策干预的网络；例如，企业网络。\x3c\/p\x3e\n\x3cp\x3e在一些情况中，他们可以通过在它们的用户机器上安装软件（或一个 CA 证书，或者一个浏览器扩展）来达到他们的目的。然而，在网络不拥有或无法访问计算机的情况下，这并不容易；例如，BYOD 已经很常用，并且物联网设备几乎没有合适的控制接口。\x3c\/p\x3e\n\x3cp\x3e因此，在 IETF 中围绕协议开发的许多讨论，触及了企业和其它的 “叶子” 网络有时相互竞争的需求，以及互联网整体的好处。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#参与\x22\x3e\x3c\/a\x3e参与\x3c\/h3\x3e\n\x3cp\x3e为了让互联网在以后工作的更好，它需要为终端用户提供价值、避免僵化、让网络有序运行。现在正在发生的变化需要满足所有的三个目标，但是，人们需要网络运营商更多的投入。\x3c\/p\x3e\n\x3cp\x3e如果这些变化影响你的网络 —— 或者没有影响 —— 请在下面留下评论。更好地可以通过参加会议、加入邮件列表、或者对草案提供反馈来参与 \x3ca href=\x22https:\/\/www.ietf.org\/\x22\x3eIETF\x3c\/a\x3e 的工作。\x3c\/p\x3e\n\x3cp\x3e感谢 Martin Thomson 和 Brian Trammell 的评论。\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e本文作者 Mark Nottingham 是互联网架构委员会的成员和 IETF 的 HTTP 和 QUIC 工作组的联席主席。\x3c\/em\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/blog.apnic.net\/2017\/12\/12\/internet-protocols-changing\/\x22\x3ehttps:\/\/blog.apnic.net\/2017\/12\/12\/internet-protocols-changing\/\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/blog.apnic.net\/author\/mark-nottingham\/\x22\x3eMark Nottingham\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/qhwdw\x22\x3eqhwdw\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>互联网协议正在发生变化</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/internet-protocols-are-changing">https://www.zcfy.cc/article/internet-protocols-are-changing</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/e860kl6i0oo/" target="_blank">https://alili.tech/archive/e860kl6i0oo/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>