<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="通过 ncurses 在终端创建一个冒险游戏"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>通过 ncurses 在终端创建一个冒险游戏 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/qvyggqq77di/",
				"appid": "1613049289050283", 
				"title": "通过 ncurses 在终端创建一个冒险游戏 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-20T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/ihpeuk5vfhc/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ixp77hs1ilr/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&text=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&text=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&title=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&is_video=false&description=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&title=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&title=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&title=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqvyggqq77di%2f&title=%e9%80%9a%e8%bf%87%20ncurses%20%e5%9c%a8%e7%bb%88%e7%ab%af%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%86%92%e9%99%a9%e6%b8%b8%e6%88%8f"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">通过 ncurses 在终端创建一个冒险游戏</h1><div class="meta"><div class="postdate"><time datetime="2019-01-20" itemprop="datePublished">2019-01-20</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#通过-ncurses-在终端创建一个冒险游戏\x22\x3e\x3c\/a\x3e通过 ncurses 在终端创建一个冒险游戏\x3c\/h1\x3e\n\x3cp\x3e怎样使用 curses 函数读取键盘并操作屏幕。\x3c\/p\x3e\n\x3cp\x3e我\x3ca href=\x22https:\/\/linux.cn\/article-9348-1.html\x22\x3e之前的文章\x3c\/a\x3e介绍了 ncurses 库，并提供了一个简单的程序展示了一些将文本放到屏幕上的 curses 函数。在接下来的文章中，我将介绍如何使用其它的 curses 函数。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#探险\x22\x3e\x3c\/a\x3e探险\x3c\/h3\x3e\n\x3cp\x3e当我逐渐长大，家里有了一台苹果 II 电脑。我和我兄弟正是在这台电脑上自学了如何用 AppleSoft BASIC 写程序。我在写了一些数学智力游戏之后，继续创造游戏。作为 80 年代的人，我已经是龙与地下城桌游的粉丝，在游戏中角色扮演一个追求打败怪物并在陌生土地上抢掠的战士或者男巫，所以我创建一个基本的冒险游戏也在情理之中。\x3c\/p\x3e\n\x3cp\x3eAppleSoft BASIC 支持一种简洁的特性：在标准分辨率图形模式（GR 模式）下，你可以检测屏幕上特定点的颜色。这为创建一个冒险游戏提供了捷径。比起创建并更新周期性传送到屏幕的内存地图，我现在可以依赖 GR 模式为我维护地图，我的程序还可以在玩家的角色（LCTT 译注：此处 character 双关一个代表玩家的角色，同时也是一个字符）在屏幕四处移动的时候查询屏幕。通过这种方式，我让电脑完成了大部分艰难的工作。因此，我的自顶向下的冒险游戏使用了块状的 GR 模式图形来展示我的游戏地图。\x3c\/p\x3e\n\x3cp\x3e我的冒险游戏使用了一张简单的地图，上面有一大片绿地伴着山脉从中间蔓延向下和一个在左上方的大湖。我要粗略地为桌游战役绘制这个地图，其中包含一个允许玩家穿过到远处的狭窄通道。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/ab836f6770700c965ee0f0251572af1fe25fcc5c\/687474703a2f2f7777772e6c696e75786a6f75726e616c2e636f6d2f66696c65732f6c696e75786a6f75726e616c2e636f6d2f7566696c65732f696d61676563616368652f6c617267652d35353070782d63656e74657265642f75313030303030392f71756573742d6d61702e6a7067\x22\x3e\x3cimg src=\x22http:\/\/p0.qhimg.com\/t01e69d8580a36d12a9.jpg\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e图 1. 一个有湖和山的简单桌游地图\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e你可以用 curses 绘制这个地图，并用字符代表草地、山脉和水。接下来，我描述怎样使用 curses 那样做，以及如何在 Linux 终端创建和进行类似的一个冒险游戏。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#构建程序\x22\x3e\x3c\/a\x3e构建程序\x3c\/h3\x3e\n\x3cp\x3e在我的上一篇文章，我提到了大多数 curses 程序以相同的一组指令获取终端类型和设置 curses 环境：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs abnf\x22\x3einitscr()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\ncbreak()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\nnoecho()\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在这个程序，我添加了另外的语句：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs lisp\x22\x3ekeypad(\x3cspan class=\x22hljs-name\x22\x3estdscr\x3c\/span\x3e, TRUE)\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这里的 \x3ccode\x3eTRUE\x3c\/code\x3e 标志允许 curses 从用户终端读取小键盘和功能键。如果你想要在你的程序中使用上下左右方向键，你需要使用这里的 \x3ccode\x3ekeypad(stdscr, TRUE)\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e这样做了之后，你现在可以开始在终端屏幕上绘图了。curses 函数包括了一系列在屏幕上绘制文本的方法。在我之前的文章中，我展示了 \x3ccode\x3eaddch()\x3c\/code\x3e 和 \x3ccode\x3eaddstr()\x3c\/code\x3e 函数以及在添加文本之前先移动到指定屏幕位置的对应函数 \x3ccode\x3emvaddch()\x3c\/code\x3e 和 \x3ccode\x3emvaddstr()\x3c\/code\x3e。为了在终端上创建这个冒险游戏的地图，你可以使用另外一组函数：\x3ccode\x3evline()\x3c\/code\x3e 和 \x3ccode\x3ehline()\x3c\/code\x3e，以及它们对应的函数 \x3ccode\x3emvvline()\x3c\/code\x3e 和 \x3ccode\x3emvhline()\x3c\/code\x3e。这些 mv 函数接受屏幕坐标、一个要绘制的字符和要重复此字符的次数的参数。例如，\x3ccode\x3emvhline(1, 2, \x27-\x27, 20)\x3c\/code\x3e 将会绘制一条开始于第一行第二列并由 20 个横线组成的线段。\x3c\/p\x3e\n\x3cp\x3e为了以编程方式绘制地图到终端屏幕上，让我们先定义这个 \x3ccode\x3edraw_map()\x3c\/code\x3e 函数：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs cpp\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e GRASS     \x3cspan class=\x22hljs-meta-string\x22\x3e\x27 \x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e EMPTY     \x3cspan class=\x22hljs-meta-string\x22\x3e\x27.\x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e WATER     \x3cspan class=\x22hljs-meta-string\x22\x3e\x27~\x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e MOUNTAIN  \x3cspan class=\x22hljs-meta-string\x22\x3e\x27^\x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e PLAYER    \x3cspan class=\x22hljs-meta-string\x22\x3e\x27*\x27\x3c\/span\x3e\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edraw_map\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e)\x3c\/span\x3e\n\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e y, x;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 绘制探索地图 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 背景 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (y = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; y \x26lt; LINES; y\x2b\x2b) {\n        mvhline(y, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, GRASS, COLS);\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 山和山道 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (x = COLS \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; x \x26lt; COLS * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e \/ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e; x\x2b\x2b) {\n        mvvline(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, x, MOUNTAIN, LINES);\n    }\n\n    mvhline(LINES \/ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, GRASS, COLS);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 湖 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (y = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; y \x26lt; LINES \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; y\x2b\x2b) {\n        mvhline(y, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, WATER, COLS \/ \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n    }\n}\n\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在绘制这副地图时，记住填充大块字符到屏幕所使用的 \x3ccode\x3emvvline()\x3c\/code\x3e 和 \x3ccode\x3emvhline()\x3c\/code\x3e 函数。我绘制从 0 列开始的字符水平线（\x3ccode\x3emvhline\x3c\/code\x3e）以创建草地区域，直到占满整个屏幕的高度和宽度。我绘制从 0 行开始的多条垂直线（\x3ccode\x3emvvline\x3c\/code\x3e）在此上添加了山脉，绘制单行水平线添加了一条山道（\x3ccode\x3emvhline\x3c\/code\x3e）。并且，我通过绘制一系列短水平线（\x3ccode\x3emvhline\x3c\/code\x3e）创建了湖。这种绘制重叠方块的方式看起来似乎并没有效率，但是记住在我们调用 \x3ccode\x3erefresh()\x3c\/code\x3e 函数之前 curses 并不会真正更新屏幕。\x3c\/p\x3e\n\x3cp\x3e绘制完地图，创建游戏就还剩下进入循环让程序等待用户按下上下左右方向键中的一个然后让玩家图标正确移动了。如果玩家想要移动的地方是空的，就应该允许玩家到那里。\x3c\/p\x3e\n\x3cp\x3e你可以把 curses 当做捷径使用。比起在程序中实例化一个版本的地图并复制到屏幕这么复杂，你可以让屏幕为你跟踪所有东西。\x3ccode\x3einch()\x3c\/code\x3e 函数和相关联的 \x3ccode\x3emvinch()\x3c\/code\x3e 函数允许你探测屏幕的内容。这让你可以查询 curses 以了解玩家想要移动到的位置是否被水填满或者被山阻挡。这样做你需要一个之后会用到的一个帮助函数：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs cpp\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eis_move_okay\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e y, \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e x)\x3c\/span\x3e\n\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e testch;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 如果要进入的位置可以进入，返回 true *\/\x3c\/span\x3e\n\n    testch = mvinch(y, x);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e ((testch == GRASS) || (testch == EMPTY));\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如你所见，这个函数探测行 \x3ccode\x3ex\x3c\/code\x3e、列 \x3ccode\x3ey\x3c\/code\x3e 并在空间未被占据的时候返回 \x3ccode\x3etrue\x3c\/code\x3e，否则返回 \x3ccode\x3efalse\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e这样我们写移动循环就很容易了：从键盘获取一个键值然后根据是上下左右键移动用户字符。这里是一个这种循环的简单版本：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ceylon\x22\x3e\n    do {\n        ch = getch();\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/* 测试输入的值并获取方向 *\/\x3c\/span\x3e\n\n        \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (ch) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eUP:\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((y \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e_m\x3c\/span\x3eove\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eokay(y - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, x)) {\n                y = y - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eDOWN:\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((y \x26lt; LINES - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e_m\x3c\/span\x3eove\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eokay(y \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, x)) {\n                y = y \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eLEFT:\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((x \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e_m\x3c\/span\x3eove\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eokay(y, x - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)) {\n                x = x - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eRIGHT\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((x \x26lt; COLS - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x26amp;\x26amp; \x3cspan class=\x22hljs-keyword\x22\x3eis\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e_m\x3c\/span\x3eove\x3cspan class=\x22hljs-number\x22\x3e_\x3c\/span\x3eokay(y, x \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)) {\n                x = x \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n            }\n            \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n        }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e为了在游戏中使用这个循环，你需要在循环里添加一些代码来启用其它的键（例如传统的移动键 WASD），以提供让用户退出游戏和在屏幕上四处移动的方法。这里是完整的程序：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs cpp\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/* quest.c *\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3einclude\x3c\/span\x3e \x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3einclude\x3c\/span\x3e \x3c\/span\x3e\n\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e GRASS        \x3cspan class=\x22hljs-meta-string\x22\x3e\x27 \x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e EMPTY     \x3cspan class=\x22hljs-meta-string\x22\x3e\x27.\x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e WATER      \x3cspan class=\x22hljs-meta-string\x22\x3e\x27~\x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e MOUNTAIN  \x3cspan class=\x22hljs-meta-string\x22\x3e\x27^\x27\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e PLAYER      \x3cspan class=\x22hljs-meta-string\x22\x3e\x27*\x27\x3c\/span\x3e\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eis_move_okay\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e y, \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e x)\x3c\/span\x3e\x3c\/span\x3e;\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edraw_map\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e)\x3c\/span\x3e\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3emain\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e)\x3c\/span\x3e\n\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e y, x;\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e ch;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 初始化curses *\/\x3c\/span\x3e\n\n    initscr();\n    keypad(stdscr, TRUE);\n    cbreak();\n    noecho();\n\n    clear();\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 初始化探索地图 *\/\x3c\/span\x3e\n\n    draw_map();\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 在左下角初始化玩家 *\/\x3c\/span\x3e\n\n    y = LINES - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    x = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\n    \x3cspan class=\x22hljs-keyword\x22\x3edo\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 默认获得一个闪烁的光标--表示玩家字符 *\/\x3c\/span\x3e\n\n    mvaddch(y, x, PLAYER);\n    move(y, x);\n    refresh();\n\n    ch = getch();\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 测试输入的键并获取方向 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eswitch\x3c\/span\x3e (ch) {\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY_UP:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27w\x27\x3c\/span\x3e:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27W\x27\x3c\/span\x3e:\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((y \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x26amp;\x26amp; is_move_okay(y - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, x)) {\n        mvaddch(y, x, EMPTY);\n        y = y - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY_DOWN:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27s\x27\x3c\/span\x3e:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27S\x27\x3c\/span\x3e:\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((y \x26lt; LINES - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x26amp;\x26amp; is_move_okay(y \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, x)) {\n        mvaddch(y, x, EMPTY);\n        y = y \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY_LEFT:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27a\x27\x3c\/span\x3e:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27A\x27\x3c\/span\x3e:\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((x \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e) \x26amp;\x26amp; is_move_okay(y, x - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)) {\n        mvaddch(y, x, EMPTY);\n        x = x - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e KEY_RIGHT:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27d\x27\x3c\/span\x3e:\n    \x3cspan class=\x22hljs-keyword\x22\x3ecase\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27D\x27\x3c\/span\x3e:\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e ((x \x26lt; COLS - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x26amp;\x26amp; is_move_okay(y, x \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e)) {\n        mvaddch(y, x, EMPTY);\n        x = x \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ebreak\x3c\/span\x3e;\n    }\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e ((ch != \x3cspan class=\x22hljs-string\x22\x3e\x27q\x27\x3c\/span\x3e) \x26amp;\x26amp; (ch != \x3cspan class=\x22hljs-string\x22\x3e\x27Q\x27\x3c\/span\x3e));\n\n    endwin();\n\n    \x3cspan class=\x22hljs-built_in\x22\x3eexit\x3c\/span\x3e(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eis_move_okay\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e y, \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e x)\x3c\/span\x3e\n\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e testch;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 当空间可以进入时返回true *\/\x3c\/span\x3e\n\n    testch = mvinch(y, x);\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e ((testch == GRASS) || (testch == EMPTY));\n}\n\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edraw_map\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-keyword\x22\x3evoid\x3c\/span\x3e)\x3c\/span\x3e\n\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eint\x3c\/span\x3e y, x;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 绘制探索地图 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 背景 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (y = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; y \x26lt; LINES; y\x2b\x2b) {\n    mvhline(y, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, GRASS, COLS);\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 山脉和山道 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (x = COLS \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; x \x26lt; COLS * \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e \/ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e; x\x2b\x2b) {\n    mvvline(\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, x, MOUNTAIN, LINES);\n    }\n\n    mvhline(LINES \/ \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, GRASS, COLS);\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* 湖 *\/\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (y = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; y \x26lt; LINES \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; y\x2b\x2b) {\n    mvhline(y, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, WATER, COLS \/ \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e);\n    }\n}\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e在完整的程序清单中，你可以看见使用 curses 函数创建游戏的完整布置：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e初始化 curses 环境。\x3c\/li\x3e\n\x3cli\x3e绘制地图。\x3c\/li\x3e\n\x3cli\x3e初始化玩家坐标（左下角）\x3c\/li\x3e\n\x3cli\x3e循环：\x3cul\x3e\n\x3cli\x3e绘制玩家的角色。\x3c\/li\x3e\n\x3cli\x3e从键盘获取键值。\x3c\/li\x3e\n\x3cli\x3e对应地上下左右调整玩家坐标。\x3c\/li\x3e\n\x3cli\x3e重复。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e完成时关闭curses环境并退出。\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3\x3e\x3ca href=\x22#开始玩\x22\x3e\x3c\/a\x3e开始玩\x3c\/h3\x3e\n\x3cp\x3e当你运行游戏时，玩家的字符在左下角初始化。当玩家在游戏区域四处移动的时候，程序创建了“一串”点。这样可以展示玩家经过了的点，让玩家避免经过不必要的路径。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/b5886dfdb816dc245f5630b260be24ffccd3a3ee\/687474703a2f2f7777772e6c696e75786a6f75726e616c2e636f6d2f66696c65732f6c696e75786a6f75726e616c2e636f6d2f7566696c65732f696d61676563616368652f6c617267652d35353070782d63656e74657265642f75313030303030392f71756573742d73746172742e706e67\x22\x3e\x3cimg src=\x22http:\/\/p0.qhimg.com\/t0111a262f15a514de6.png\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e图 2. 初始化在左下角的玩家\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/7010a9a060addce0d05dfd99d1cc0c523874573c\/687474703a2f2f7777772e6c696e75786a6f75726e616c2e636f6d2f66696c65732f6c696e75786a6f75726e616c2e636f6d2f7566696c65732f696d61676563616368652f6c617267652d35353070782d63656e74657265642f75313030303030392f71756573742d312e706e67\x22\x3e\x3cimg src=\x22http:\/\/p0.qhimg.com\/t01e644e6737c1b912e.png\x22 alt=\x22\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3e图 3. 玩家可以在游戏区域四处移动，例如湖周围和山的通道\x3c\/em\x3e\x3c\/p\x3e\n\x3cp\x3e为了创建上面这样的完整冒险游戏，你可能需要在他\/她的角色在游戏区域四处移动的时候随机创建不同的怪物。你也可以创建玩家可以发现在打败敌人后可以掠夺的特殊道具，这些道具应能提高玩家的能力。\x3c\/p\x3e\n\x3cp\x3e但是作为起点，这是一个展示如何使用 curses 函数读取键盘和操纵屏幕的好程序。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#下一步\x22\x3e\x3c\/a\x3e下一步\x3c\/h3\x3e\n\x3cp\x3e这是一个如何使用 curses 函数更新和读取屏幕和键盘的简单例子。按照你的程序需要做什么，curses 可以做得更多。在下一篇文章中，我计划展示如何更新这个简单程序以使用颜色。同时，如果你想要学习更多 curses，我鼓励你去读位于 Linux 文档计划的 Pradeep Padala 写的\x3ca href=\x22http:\/\/tldp.org\/HOWTO\/NCURSES-Programming-HOWTO\x22\x3e如何使用 NCURSES 编程\x3c\/a\x3e。\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22http:\/\/www.linuxjournal.com\/content\/creating-adventure-game-terminal-ncurses\x22\x3ehttp:\/\/www.linuxjournal.com\/content\/creating-adventure-game-terminal-ncurses\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22http:\/\/www.linuxjournal.com\/users\/jim-hall\x22\x3eJim Hall\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/leemeans\x22\x3eLeemeans\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>通过 ncurses 在终端创建一个冒险游戏</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/creating-an-adventure-game-in-the-terminal-with-ncurses">https://www.zcfy.cc/article/creating-an-adventure-game-in-the-terminal-with-ncurses</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/qvyggqq77di/" target="_blank">https://alili.tech/archive/qvyggqq77di/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>