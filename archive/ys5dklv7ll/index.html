<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="SSH 协议端口号 22 背后的故事"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>SSH 协议端口号 22 背后的故事 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ys5dklv7ll/",
				"appid": "1613049289050283", 
				"title": "SSH 协议端口号 22 背后的故事 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-23T02:30:08"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7mk1ed6l1b3/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/fazi67p98s/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&text=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&text=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&title=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&is_video=false&description=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&title=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&title=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&title=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fys5dklv7ll%2f&title=SSH%20%e5%8d%8f%e8%ae%ae%e7%ab%af%e5%8f%a3%e5%8f%b7%2022%20%e8%83%8c%e5%90%8e%e7%9a%84%e6%95%85%e4%ba%8b"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">SSH 协议端口号 22 背后的故事</h1><div class="meta"><div class="postdate"><time datetime="2019-01-23" itemprop="datePublished">2019-01-23</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n            \x3ch1\x3e\x3ca href=\x22#ssh-协议端口号-22-背后的故事\x22\x3e\x3c\/a\x3eSSH 协议端口号 22 背后的故事\x3c\/h1\x3e\n\x3cp\x3e为什么 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/\x22\x3eSSH\x3c\/a\x3e（安全终端）的端口号是 22 呢，这不是一个巧合，这其中有个我（\x3ca href=\x22https:\/\/www.ssh.com\/people\/tatu-ylonen\x22\x3eTatu Ylonen\x3c\/a\x3e，SSH 协议的设计者）未曾诉说的故事。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#将-ssh-协议端口号设为-22-的故事\x22\x3e\x3c\/a\x3e将 SSH 协议端口号设为 22 的故事\x3c\/h3\x3e\n\x3cp\x3e1995 年春我编写了 SSH 协议的最初版本，那时候 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/telnet\x22\x3etelnet\x3c\/a\x3e 和 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/ftp\/\x22\x3eFTP\x3c\/a\x3e 正被广泛使用。\x3c\/p\x3e\n\x3cp\x3e当时我设计 SSH 协议想着是为了替代 \x3ccode\x3etelnet\x3c\/code\x3e（端口 23）和 \x3ccode\x3eftp\x3c\/code\x3e（端口21）两个协议的，而端口 22 是空闲的。我想当然地就选择了夹在 \x3ccode\x3etelnet\x3c\/code\x3e 和 \x3ccode\x3eftp\x3c\/code\x3e 的端口中间的数字。我觉得端口号虽然是个小事但似乎又存在着某种信念。但我到底要怎么拿到那个端口号呢？我未曾拥有过任何一个端口号，但我却认识几个拥有端口号的人！\x3c\/p\x3e\n\x3cp\x3e在那时取得端口号的事情其实说来挺简单的。毕竟当时的因特网（Internet）并不是很大，是因特网爆炸的早期。端口号分配的活儿是 IANA（Internet Assigned Numbers Authority，互联网数字分配机构）干的。在那时这机构可相当于是因特网先驱 \x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Jon_Postel\x22\x3eJon Postel\x3c\/a\x3e 和 \x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Joyce_K._Reynolds\x22\x3eJoyce K. Reynolds\x3c\/a\x3e 一般的存在。Jon 参与编写了多项主要的协议标准，例如 IP（RFC 791）、ICMP（RFC 792）和 TCP（RFC 793）等一些你应该早有耳闻的协议。\x3c\/p\x3e\n\x3cp\x3e我可以说是敬畏 Jon 先生的，他参与编写了几乎所有主要的因特网标准文档（Internet RFC）！\x3c\/p\x3e\n\x3cp\x3e1995 年 7 月，就在我发布 \x3ccode\x3essh-1.0\x3c\/code\x3e 前，我发送了一封邮件给 IANA：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs dts\x22\x3eFrom ylo Mon Jul \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e45\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e \x2b\x3cspan class=\x22hljs-number\x22\x3e0300\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e1995\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eFrom:\x3c\/span\x3e Tatu Ylonen \x3cspan class=\x22hljs-params\x22\x3e\x26lt;ylo@cs.hut.fi\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eTo:\x3c\/span\x3e Internet Assigned Numbers Authority \x3cspan class=\x22hljs-params\x22\x3e\x26lt;iana@isi.edu\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-symbol\x22\x3eSubject:\x3c\/span\x3e 请求取得一个端口号\n\x3cspan class=\x22hljs-symbol\x22\x3eOrganization:\x3c\/span\x3e 芬兰赫尔辛基理工大学\n\n亲爱的机构成员：\n\n我写了个可以在不安全的网络环境中安全地从一台机器登录到另一台机器的程序。它主要是对现有的\ntelnet 协议以及 rlogin 协议的功能性提升和安全性改进。说的具体些，就是可以防御 IP、DNS \n或路由等欺骗行为。我打算将我的软件免费地发布在因特网上，以得到广泛地使用。\n\n我希望为该软件注册一个特权端口号，要是这个端口号在 \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e 到 \x3cspan class=\x22hljs-number\x22\x3e255\x3c\/span\x3e 之间就更好了，这样它就可以用\n在名字服务器的 WKS 字段中了。\n\n我在附件中附上了协议标准的草案。这个软件已经在本地运行了几个月了，我已准备在获得端口号后\n就发布。如果端口号分配一事安排的及时，我希望这周就将要发布的软件准备好。我目前在 beta 版\n测试时使用的端口号是 \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e，如果要是能够分配到这个端口，我就不用做什么更改了（目前这个端口在\n列表中还是空闲的）。\n\n软件中服务的名称叫 `ssh`（系 Secure Shell 的缩写）。\n\n您最真诚的，\n\nTatu Ylonen \x3cspan class=\x22hljs-params\x22\x3e\x26lt;ylo@cs.hut.fi\x26gt;\x3c\/span\x3e\n\n... 附件：ssh\x3cspan class=\x22hljs-number\x22\x3e-1.0\x3c\/span\x3e 协议标准\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e（LCTT 译注：DNS 协议中的 WKS 记录类型意即“众所周知的业务描述”，是类似于 A、MX 这样的 DNS 记录类型，用于描述某个 IP 所提供的服务，目前鲜见使用。参见： \x3ca href=\x22https:\/\/docs.oracle.com\/cd\/E19683-01\/806-4077\/dnsintro-154\/index.html\x22\x3ehttps:\/\/docs.oracle.com\/cd\/E19683-01\/806-4077\/dnsintro-154\/index.html\x3c\/a\x3e 。）\x3c\/p\x3e\n\x3cp\x3e第二天，我就收到了 Joyce 发来的邮件：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs less\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3eDate\x3c\/span\x3e: Mon, \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e Jul \x3cspan class=\x22hljs-number\x22\x3e1995\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e35\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e33\x3c\/span\x3e -\x3cspan class=\x22hljs-number\x22\x3e0700\x3c\/span\x3e\n\x3cspan class=\x22hljs-attribute\x22\x3eFrom\x3c\/span\x3e: jkrey\x3cspan class=\x22hljs-variable\x22\x3e@ISI\x3c\/span\x3e.EDU\n\x3cspan class=\x22hljs-attribute\x22\x3eTo\x3c\/span\x3e: ylo\x3cspan class=\x22hljs-variable\x22\x3e@cs\x3c\/span\x3e.hut.fi\n\x3cspan class=\x22hljs-attribute\x22\x3eSubject\x3c\/span\x3e: 回复：请求取得一个端口号\n\x3cspan class=\x22hljs-attribute\x22\x3eCc\x3c\/span\x3e: iana\x3cspan class=\x22hljs-variable\x22\x3e@ISI\x3c\/span\x3e.EDU\n\nTatu,\n\n我们将端口号 \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3e 分配给 ssh 服务了，你目前是该服务的主要联系人。\n\nJoyce\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e这就搞定了！SSH 的端口正式使用 22！！！\x3c\/p\x3e\n\x3cp\x3e1995 年 7 月 12 日上午 2 点 21 分，我给我在赫尔辛基理工大学的测试者们宣布了 SSH 的最后 beta 版本。当日下午 5 点 23 分，我给测试者们宣布了 ssh-1.0.0 版本。1995 年 7 月 12 日，下午 5 点 51 分，我将一份 SSH（安全终端）的宣告发给了 \x3ca href=\x22mailto:`cypherpunks@toad.com\x22\x3e`cypherpunks@toad.com\x3c\/a\x3e` 的邮件列表，此外我还将其发给了一些新闻组、邮件列表和一些在因特网上讨论相关话题的人们。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#如何更改-ssh-服务的端口号\x22\x3e\x3c\/a\x3e如何更改 SSH 服务的端口号\x3c\/h3\x3e\n\x3cp\x3eSSH 服务器是默认运行在 22 号端口上的。然而，由于某些原因需要，它也可以运行在别的端口上。比如为了方便测试使用，又比如在同一个宿主机上运行多个不同的配置。当然，极少情况下，不使用 root 权限运行它也可以，比如某些必须运行在非特权的端口的情况（端口号大于等于 1024）。\x3c\/p\x3e\n\x3cp\x3e端口号可以在配置文件 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/sshd_config\/\x22\x3e\/etc\/ssh\/sshd_config\x3c\/a\x3e 中将 \x3ccode\x3ePort 22\x3c\/code\x3e 更改。也可以使用 \x3ccode\x3e-p \x26lt;port\x26gt;\x3c\/code\x3e 选项运行 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/sshd\/\x22\x3esshd\x3c\/a\x3e。SSH 客户端和 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/sftp\/\x22\x3esftp\x3c\/a\x3e 程序也可以使用 \x3ccode\x3e-p \x26lt;port\x26gt;\x3c\/code\x3e 选项。\x3c\/p\x3e\n\x3ch3\x3e\x3ca href=\x22#配置-ssh-协议穿越防火墙\x22\x3e\x3c\/a\x3e配置 SSH 协议穿越防火墙\x3c\/h3\x3e\n\x3cp\x3eSSH 是少数通常被许可穿越防火墙的协议之一。通常的做法是不限制出站的 SSH 连接，尤其常见于一些较小的或者比较技术型的组织中，而入站的 SSH 连接通常会限制到一台或者是少数几台服务器上。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#出站的-ssh-连接\x22\x3e\x3c\/a\x3e出站的 SSH 连接\x3c\/h4\x3e\n\x3cp\x3e在防火墙中配置出站的 SSH 连接十分简单。如果完全限制了外发连接，那么只需要创建一个允许 TCP 端口 22 可以外发的规则即可。如果你想限制目标地址，你可以限制该规则仅允许访问你的组织放在云端的外部服务器或保护该云端的\x3ca href=\x22https:\/\/www.ssh.com\/iam\/jump-server\x22\x3e跳板服务器\x3c\/a\x3e即可。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#反向通道是有风险的\x22\x3e\x3c\/a\x3e反向通道是有风险的\x3c\/h4\x3e\n\x3cp\x3e其实不限制出站的 SSH 连接虽然是可以的，但是是存在风险的，SSH 协议是支持 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/tunneling\/\x22\x3e通道访问\x3c\/a\x3e 的。最初的想法是在外部服务器搭建一个 SSH 服务监听来自各处的连接，将进入的连接转发到组织，并让这个连接可以访问某个内部服务器。\x3c\/p\x3e\n\x3cp\x3e在某些场景下这当然非常的方便。开发者和系统管理员经常使用它打开一个通道以便于他们可以远程访问，比如在家里或者在旅行中使用笔记本电脑等场景。\x3c\/p\x3e\n\x3cp\x3e然而通常来讲这些做法是违背安全策略的，跳过了防火墙管理员和安全团队保护的控制无疑是违背安全策略的，比如这些： \x3ca href=\x22https:\/\/www.ssh.com\/compliance\/pci\/\x22\x3ePCI\x3c\/a\x3e、\x3ca href=\x22https:\/\/www.ssh.com\/compliance\/hipaa\/security-rule\x22\x3eHIPAA\x3c\/a\x3e、\x3ca href=\x22https:\/\/www.ssh.com\/compliance\/nist-800-53\/\x22\x3eNIST SP 800-53\x3c\/a\x3e 等。它可以被黑客和外国情报机构用来在组织内留下后门。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/www.ssh.com\/products\/cryptoauditor\/\x22\x3eCryptoAuditor\x3c\/a\x3e 是一款可以控制通道穿过防火墙或者一组云端服务器入口的产品。该款产品可以配合 \x3ca href=\x22https:\/\/www.ssh.com\/products\/universal-ssh-key-manager\/\x22\x3e通用 SSH 密钥管理器（Universal SSH Key Manager）\x3c\/a\x3e 来获得对 \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/host-key\x22\x3e主机密钥（host keys）\x3c\/a\x3e的访问，以在启用防火墙并阻挡未授权转发的场景中解密 SSH 会话。\x3c\/p\x3e\n\x3ch4\x3e\x3ca href=\x22#入站的-ssh-访问\x22\x3e\x3c\/a\x3e入站的 SSH 访问\x3c\/h4\x3e\n\x3cp\x3e对于入站访问而言，这里有几点需要说一下：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e配置防火墙，并转发所有去往 22 端口的连接只能流向到一个特定的内部网络 IP 地址或者一个 \x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/DMZ_(computing\x22\x3eDMZ\x3c\/a\x3e) 主机。在该 IP 上运行 \x3ca href=\x22https:\/\/www.ssh.com\/products\/cryptoauditor\/\x22\x3eCryptoAuditor\x3c\/a\x3e 或者跳板机来控制和审查所有访问该组织的连接。\x3c\/li\x3e\n\x3cli\x3e在防火墙上使用不同的端口访问不同的服务器。\x3c\/li\x3e\n\x3cli\x3e只允许使用 \x3ca href=\x22https:\/\/www.ssh.com\/network\/ipsec\/\x22\x3eIPsec\x3c\/a\x3e 协议这样的 VPN（虚拟专用网）登录后连接 SSH 服务。\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3\x3e\x3ca href=\x22#通过-iptables-服务限制-ssh-访问\x22\x3e\x3c\/a\x3e通过 iptables 服务限制 SSH 访问\x3c\/h3\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/en.wikipedia.org\/wiki\/Iptables\x22\x3eiptables\x3c\/a\x3e 是一款内建在 Linux 内核的宿主防火墙。通常配置用于保护服务器以防止被访问那些未明确开启的端口。\x3c\/p\x3e\n\x3cp\x3e如果服务器上启用了 \x3ccode\x3eiptables\x3c\/code\x3e，使用下面的命令将可以允许进入的 SSH 访问，当然命令需要以 root 身份运行。\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs brainfuck\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3eiptables\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eA\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3eINPUT\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3etcp\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3edport\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e22\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3em\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3econntrack\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ectstate\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3eNEW\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e,\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eESTABLISHED\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ej\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3eACCEPT\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3eiptables\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3eA\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3eOUTPUT\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ep\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3etcp\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3esport\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e22\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3em\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3econntrack\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ectstate\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3eESTABLISHED\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3e-\x3c\/span\x3e\x3cspan class=\x22hljs-comment\x22\x3ej\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3eACCEPT\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e如果你想将上述命令创建的规则持久地保存，在某些系统版本中，可使用如下命令：\x3c\/p\x3e\n\x3cpre\x3e\x3ccode class=\x22hljs ebnf\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3eservice iptables save\x3c\/span\x3e\n\n\x3c\/code\x3e\x3c\/pre\x3e\x3cp\x3e\x3ca href=\x22https:\/\/camo.githubusercontent.com\/25900664b2ea105ab750d94450faeeab1ea5b8d0\/68747470733a2f2f7777772e7373682e636f6d2f732f7373682d706f72742d6669726577616c6c2d6163636573732d62616e6b732d393530783333332d732b5a70527669502e706e67\x22\x3e\x3cimg src=\x22https:\/\/p0.ssl.qhimg.com\/t01b2ffd2cfee688aa7.png\x22 alt=\x22防火墙开启 SSH 端口可以让我挖隧道去银行\x22\x3e\x3c\/a\x3e\x3c\/p\x3e\n\x3chr\x3e\n\x3cp\x3evia: \x3ca href=\x22https:\/\/www.ssh.com\/ssh\/port\x22\x3ehttps:\/\/www.ssh.com\/ssh\/port\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e作者：\x3ca href=\x22https:\/\/www.ssh.com\/ssh\/port\x22\x3eTatu Ylonen\x3c\/a\x3e 译者：\x3ca href=\x22https:\/\/github.com\/kenxx\x22\x3ekenxx\x3c\/a\x3e 校对：\x3ca href=\x22https:\/\/github.com\/wxy\x22\x3ewxy\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e本文由 \x3ca href=\x22https:\/\/github.com\/LCTT\/TranslateProject\x22\x3eLCTT\x3c\/a\x3e 原创编译，\x3ca href=\x22https:\/\/linux.cn\/\x22\x3eLinux中国\x3c\/a\x3e 荣誉推出\x3c\/p\x3e\n\n          \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>SSH 协议端口号 22 背后的故事</p><h2 id="原文链接">原文链接</h2><p><a href="https://www.zcfy.cc/article/the-story-of-getting-ssh-port-22">https://www.zcfy.cc/article/the-story-of-getting-ssh-port-22</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ys5dklv7ll/" target="_blank">https://alili.tech/archive/ys5dklv7ll/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>