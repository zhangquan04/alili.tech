<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="50行代码搞定无限滑动幻灯片"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>50行代码搞定无限滑动幻灯片 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/imbao5um82/",
				"appid": "1613049289050283", 
				"title": "50行代码搞定无限滑动幻灯片 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-26T02:30:18"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/kfss2f33qsh/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/4ns5cwxsi05/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&text=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&text=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&title=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&is_video=false&description=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&title=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&title=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&title=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fimbao5um82%2f&title=50%e8%a1%8c%e4%bb%a3%e7%a0%81%e6%90%9e%e5%ae%9a%e6%97%a0%e9%99%90%e6%bb%91%e5%8a%a8%e5%b9%bb%e7%81%af%e7%89%87"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">50行代码搞定无限滑动幻灯片</h1><div class="meta"><div class="postdate"><time datetime="2019-01-26" itemprop="datePublished">2019-01-26</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3eslider轮播组件，在各类网站上出现及其频繁，有渐隐式的，滑动式的等等一系列。\x3cbr\x3e\x3ca href=\x22https:\/\/codepen.io\/h4px\/pen\/ZeYaQO\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e栗子在这:\x3c\/a\x3e\x3cbutton class=\x22btn btn-xs btn-default ml10 preview\x22 data-url=\x22h4px\/pen\/ZeYaQO\x22 data-typeid=\x223\x22\x3e点击预览\x3c\/button\x3e\x3c\/p\x3e\n\x3cp\x3e但我当初学习写轮播时却被各种入门教程搞得焦头烂额。不是代码太复杂，就是封装太严重，初学者很难理清思路，今天我们就写一个最基本轮播组件（当然功能也要完整），并探寻其中的规律。\x3c\/p\x3e\n\x3cp\x3e观察各类轮播组件，我们不难发现一个功能完善的组件具备如下几个特点：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e前进后退按钮控制单张幻灯片\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e索引按钮可以直接选择某张幻灯片\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3emouseover 可取消滑动，mouseout 恢复滑动\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e部分幻灯片支持无限滑动\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e支持手势操作\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e今天我们以构造一个最基本的幻灯片组件为出发点，实现前4个特点，只用50行js。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e一般原理\x3c\/h2\x3e\n\x3cp\x3e我们本次的幻灯片是滑动式幻灯片，观察不难发现多张幻灯片其实是连续的，但我们却只能看见一张幻灯片，其它的幻灯片其实是被隐藏掉了。说起隐藏我们想起一个属性 \x3ccode\x3eoverflow：hidden\x3c\/code\x3e 。对，滑动式幻灯片的关键就在于隐藏。幻灯片是多张的就像一个队列一样，一般都包裹在 \x3ccode\x3eul\x3c\/code\x3e 标签的 \x3ccode\x3eli\x3c\/code\x3e中，而\x3ccode\x3eul\x3c\/code\x3e外层的容器（container）--就是我们的视窗，它的宽度一般只有一张幻灯片的大小，再在其上设置\x3ccode\x3eoverflow：hidden\x3c\/code\x3e ，其余的幻灯片便被隐藏掉了。\x3c\/p\x3e\n\x3cp\x3e幻灯片队列的宽度是各张幻灯片宽度的总和，他被固定在视窗内，我们通过改变队列的 \x3ccode\x3eleft\x3c\/code\x3e或 \x3ccode\x3emargin-left\x3c\/code\x3e 便能控制队列的位置--哪张幻灯片可以被显示在视窗中。在js中我们会设置一个全局变量，通过控制全局变量来控制幻灯片队列的位置。\x3c\/p\x3e\n\x3cp\x3e有了前面两点的基础我们就可以搞定一个普通的滑动幻灯片了，但如何让它无限滑动呢？无限滚动的方案有很多种，但大多较复杂，我们这次介绍一个最简单方案。原理是这样的，假如我们有一个幻灯片队列 \x3ccode\x3e1 2 3 4\x3c\/code\x3e，我们克隆前后两个幻灯片补充到队列中变成 \x3ccode\x3e4 1 2 3 4 1\x3c\/code\x3e 。当队列运动到第二个\x3ccode\x3e4\x3c\/code\x3e，再次滑动到第二个\x3ccode\x3e1\x3c\/code\x3e，然后迅速闪回第一个\x3ccode\x3e1\x3c\/code\x3e,因为速度极快在视觉上我们无法分辨，便造成了无限滑动的假象。有图有真相哦。。?\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJLxw?w=400\x26amp;h=98\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJLxw?w=400\x26amp;h=98\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3ejs控制逻辑\x3c\/h2\x3e\n\x3cp\x3e1.我们先克隆第一张和最后一张，放置到队列中。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22const first_slide = slide_items[0].cloneNode(true);\nconst last_slide = slide_items[slide_items.length-1].cloneNode(true);\nslide_list.insertBefore(last_slide, slide_items[0]);\nslide_list.appendChild(first_slide);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs glsl\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e first_slide = slide_items[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e].cloneNode(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e last_slide = slide_items[slide_items.\x3cspan class=\x22hljs-built_in\x22\x3elength\x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e].cloneNode(\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e);\nslide_list.insertBefore(last_slide, slide_items[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\nslide_list.appendChild(first_slide);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e2.这里有四个操作 （1）. slide 函数负责滑动及主要逻辑 （2）. tab 函数负责索引，动态添加类 （3）. 为前后箭头添加处理逻辑 （4）. 处理鼠标操作\x3c\/p\x3e\n\x3cp\x3e3.在 slide 函数里我们定义一个 cycle 变量，由它来判断幻灯片是否应该循环闪回。 由 direction 判断幻灯片的滑动方向，滑动前一张为 -1 后一张后 1 ，这里的 direction 默认设置为 1 即正方向，因为 this 指向的是全局对象 window  ，window 没有 prev 的 id 。在 cycle 条件里我们添加一个 \x3ccode\x3etransitionend\x3c\/code\x3e 事件相当于滑动后的回掉，依赖这个事件在幻灯片滑动执行完毕后立即执行里面的闪回操作。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function slide() {\n  let cycle = false;\n  const direction = (this.id == \x27prev\x27)? -1: 1;\n  current \x2b= direction;\n  slide_list.style.left = -4*current \x2b \x2700px\x27;\n  slide_list.style.transition = \x27left 0.5s\x27;\n  cycle = !!(current == 0 || current \x3e len);\n  if (cycle) {\n    current = (current === 0)? len : 1;\n    slide_list.addEventListener(\x26quot;transitionend\x26quot;, function() {\n    slide_list.style.left = -4*current \x2b \x2700px\x27;\n    slide_list.style.transition = \x27left 0s\x27;\n    })\n  }\n  tab(current-1);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eslide\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e cycle = \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e direction = (\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.id == \x3cspan class=\x22hljs-string\x22\x3e\x27prev\x27\x3c\/span\x3e)? \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n  current \x2b= direction;\n  slide_list.style.left = \x3cspan class=\x22hljs-number\x22\x3e-4\x3c\/span\x3e*current \x2b \x3cspan class=\x22hljs-string\x22\x3e\x2700px\x27\x3c\/span\x3e;\n  slide_list.style.transition = \x3cspan class=\x22hljs-string\x22\x3e\x27left 0.5s\x27\x3c\/span\x3e;\n  cycle = !!(current == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e || current \x26gt; len);\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (cycle) {\n    current = (current === \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e)? len : \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n    slide_list.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x22transitionend\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    slide_list.style.left = \x3cspan class=\x22hljs-number\x22\x3e-4\x3c\/span\x3e*current \x2b \x3cspan class=\x22hljs-string\x22\x3e\x2700px\x27\x3c\/span\x3e;\n    slide_list.style.transition = \x3cspan class=\x22hljs-string\x22\x3e\x27left 0s\x27\x3c\/span\x3e;\n    })\n  }\n  tab(current\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e4.在 tab 函数中动态设置类，并为每个 tab 设置 click 事件。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function tab(i) {\n  slide_dots_items.forEach(function(i){ i.classList.remove(\x27current\x27)});\n  slide_dots_items[i].classList.add(\x27current\x27);\n}\nslide_dots_items.forEach(function(i) {\n  i.addEventListener(\x27click\x27, function() {\n    current = [...slide_dots_items].indexOf(i);\n    slide();\n  })\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs matlab\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3etab\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(i)\x3c\/span\x3e {\x3c\/span\x3e\n  slide_dots_items.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(i)\x3c\/span\x3e{ \x3cspan class=\x22hljs-title\x22\x3ei\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eclassList\x3c\/span\x3e.\x3cspan class=\x22hljs-title\x22\x3eremove\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x27current\x27)\x3c\/span\x3e});\x3c\/span\x3e\n  slide_dots_items[i].classList.add(\x3cspan class=\x22hljs-string\x22\x3e\x27current\x27\x3c\/span\x3e);\n}\nslide_dots_items.forEach(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(i)\x3c\/span\x3e {\x3c\/span\x3e\n  \x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e.addEventListener(\x3cspan class=\x22hljs-string\x22\x3e\x27click\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e {\x3c\/span\x3e\n    current = [...slide_dots_items].indexOf(\x3cspan class=\x22hljs-built_in\x22\x3ei\x3c\/span\x3e);\n    slide();\n  })\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e5.设置一个 timer 计时器，每3000毫秒调用一次 slide 函数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22timer = setInterval(slide,3000);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs ebnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-attribute\x22\x3etimer\x3c\/span\x3e = setInterval(slide,3000);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e6.最后添加鼠标事件，mouseover 取消滑动，mouseout 恢复滑动。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22container.onmouseover = function (){\n  clearInterval(timer);\n};\ncontainer.onmouseout = function (){\n  timer = setInterval(slide,3000);\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3econtainer.onmouseover = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n  clearInterval(timer);\n};\ncontainer.onmouseout = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e\x3c\/span\x3e{\n  timer = setInterval(slide,\x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e);\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e总结\x3c\/h2\x3e\n\x3cp\x3e滑动幻灯片的基本逻辑就是这些，主要需要一个全局变量 current 来控制滑动位置，并通过一定的限制条件来重置 current。\x3c\/p\x3e\n\x3cp\x3e通过添加 \x3ccode\x3etransitionend\x3c\/code\x3e 事件监听滑动是否结束从而迅速闪回，达到貌似无限滑动的效果。\x3c\/p\x3e\n\x3cp\x3e本文主要以分析一个幻灯片组件的原理，探寻其中的规律为主，但是在响应式为主的设计浪潮下，我依然推荐你在项目中使用那些支持手势操作封装良好的组件。有几个出名的插件如下⛄️猜猜哪个组件需要25美金的证书?。。。\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/kenwheeler.github.io\/slick\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eslick 号称一旦拥有，今生无憾的滑动组件.....\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/flickity.metafizzy.co\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eflickity 一个功能完善的滑动组件 *jqueryfree\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/meandmax.github.io\/lory\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3elory 也还不错\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>50行代码搞定无限滑动幻灯片</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008485244">https://segmentfault.com/a/1190000008485244</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/imbao5um82/" target="_blank">https://alili.tech/archive/imbao5um82/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>