<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="vue2 前后端分离项目ajax跨域session问题解决"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>vue2 前后端分离项目ajax跨域session问题解决 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/j3pmdnx3s5f/",
				"appid": "1613049289050283", 
				"title": "vue2 前后端分离项目ajax跨域session问题解决 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-16T02:30:07"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/6xctlje1na3/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/gamm8fcf9sq/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&text=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&text=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&title=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&is_video=false&description=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&title=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&title=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&title=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fj3pmdnx3s5f%2f&title=vue2%20%e5%89%8d%e5%90%8e%e7%ab%af%e5%88%86%e7%a6%bb%e9%a1%b9%e7%9b%aeajax%e8%b7%a8%e5%9f%9fsession%e9%97%ae%e9%a2%98%e8%a7%a3%e5%86%b3"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">vue2 前后端分离项目ajax跨域session问题解决</h1><div class="meta"><div class="postdate"><time datetime="2019-01-16" itemprop="datePublished">2019-01-16</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e最近学习使用vuejs前后端分离，重构一个已有的后台管理系统，遇到了下面这个问题：\x3c\/p\x3e\n\x3cp\x3e实现跨域请求时，每次ajax请求都是新的session，导致无法获取登录信息，所有的请求都被判定为未登陆。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1、 vuejs ajax跨域请求\x3c\/h2\x3e\n\x3cp\x3e最开始使用的是vue-resource，结果发现vue2推荐的是axios，于是改成axios；\x3cbr\x3e安装axios\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm install axios -S\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cmake\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3einstall\x3c\/span\x3e axios -S\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e安装完成后在main.js中增加一下配置：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import axios from \x27axios\x27;\n\naxios.defaults.withCredentials=true;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coffeescript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e axios \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27axios\x27\x3c\/span\x3e;\n\naxios.defaults.withCredentials=\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3emain.js全部配置如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22import Vue from \x27vue\x27\nimport App from \x27.\/App.vue\x27\nimport ElementUI from \x27element-ui\x27\nimport \x27element-ui\/lib\/theme-default\/index.css\x27\nimport router from \x27.\/router\x27;\nimport axios from \x27axios\x27;\nimport \x27.\/assets\/css\/main.css\x27\nimport \x27.\/assets\/css\/color-dark.css\x27\n\n\/\/开启debug模式\nVue.config.debug = true;\naxios.defaults.withCredentials=true;\nVue.prototype.$axios = axios;\nVue.use(ElementUI);\n\nnew Vue(\n    {\n      router,\n      el: \x27#app\x27,\n      render: h =\x3e h(App)\n    }\n).$mount(\x27#app\x27)\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e Vue \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e App \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/App.vue\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e ElementUI \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27element-ui\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27element-ui\/lib\/theme-default\/index.css\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e router \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/router\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e axios \x3cspan class=\x22hljs-keyword\x22\x3efrom\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27axios\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/assets\/css\/main.css\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27.\/assets\/css\/color-dark.css\x27\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/开启debug模式\x3c\/span\x3e\nVue.config.debug = \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\naxios.defaults.withCredentials=\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\nVue.prototype.$axios = axios;\nVue.use(ElementUI);\n\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Vue(\n    {\n      router,\n      \x3cspan class=\x22hljs-attr\x22\x3eel\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e,\n      \x3cspan class=\x22hljs-attr\x22\x3erender\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3eh\x3c\/span\x3e =\x26gt;\x3c\/span\x3e h(App)\n    }\n).$mount(\x3cspan class=\x22hljs-string\x22\x3e\x27#app\x27\x3c\/span\x3e)\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在XXX.vue文件中具体使用如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n\n  \x3cel-col :span=\x26quot;4\x26quot; style=\x26quot;background-color: #eef1f6;height:100%;\x26quot;\x3e\n        \x3cel-menu default-active=\x26quot;1\x26quot;  class=\x26quot;el-menu-vertical-demo\x26quot;  :unique-opened=\x26quot;uniqueOpened\x26quot; router\n          v-for=\x26quot;menu in menulist\x26quot; :key=\x26quot;menu.fidStr\x26quot;\x3e\n            \x3ctemplate v-if=\x26quot;menu.isleaf === 1\x26quot;\x3e\n              \x3cel-menu-item :index=\x26quot;menu.furl\x26quot;\x3e\x22{{\x22menu.fname\x22}}\x22\x3c\/el-menu-item\x3e\n            \x3c\/template\x3e\n            \x3ctemplate v-else\x3e\n                \x3cel-submenu :index=\x26quot;menu.fidStr\x26quot;\x3e\n                  \x3ctemplate slot=\x26quot;title\x26quot;\x3e\x3ci class=\x26quot;el-icon-menu\x26quot;\x3e\x3c\/i\x3e\x22{{\x22menu.fname\x22}}\x22\x3c\/template\x3e\n                  \x3ctemplate v-for=\x26quot;firstLevelChild in menu.children\x26quot; \x3e\n                    \x3ctemplate v-if=\x26quot;firstLevelChild.isleaf === 1\x26quot; \x3e\n                      \x3cel-menu-item :index=\x26quot;firstLevelChild.furl\x26quot;\x3e\x22{{\x22firstLevelChild.fname\x22}}\x22\x3c\/el-menu-item\x3e\n                    \x3c\/template\x3e\n                    \x3ctemplate v-else\x3e\n                        \x3cel-submenu :index=\x26quot;firstLevelChild.fidStr\x26quot;\x3e\n                            \x3ctemplate slot=\x26quot;title\x26quot;\x3e\x3ci class=\x26quot;el-icon-menu\x26quot;\x3e\x3c\/i\x3e\x22{{\x22firstLevelChild.fname\x22}}\x22\x3c\/template\x3e\n                            \x3cel-menu-item v-for=\x26quot;secondLevelChild in firstLevelChild.children\x26quot; :index=\x26quot;secondLevelChild.furl\x26quot;\x3e\n                              \x22{{\x22secondLevelChild.fname\x22}}\x22\n                            \x3c\/el-menu-item\x3e\n                        \x3c\/el-submenu\x3e\n                  \x3c\/template\x3e\n                  \x3c\/template\x3e\n                \x3c\/el-submenu\x3e\n            \x3c\/template\x3e\n        \x3c\/el-menu\x3e\n\n    \x3c\/el-col\x3e\n\n\x3c\/template\x3e\n\n\x3cscript type=\x26quot;text\/javascript\x26quot;\x3e\n\nexport default {\n      data() {\n        return {\n          uniqueOpened:true,\n          menulist:[]\n        }\n      }      ,\n      mounted: function() {\n         let self = this;\n          this.$axios.post(\x27http:\/\/localhost:8080\/test\/xxx\/xxxx\x27, {}, {\n              headers: {\n                \x26quot;Content-Type\x26quot;:\x26quot;application\/json;charset=utf-8\x26quot;\n              },\n              withCredentials : true\n          }).then(function(response) {\n              \/\/ 这里是处理正确的回调\n              let result = response.data.result;\n              if (0 == result) {\n                self.menulist = response.data.item.menulist;\n              } else if (11 == result || 9 == result) {\n                self.$router.push(\x27\/login\x27);\n              } else {\n                console.log(response.data);\n              }\n\n          }).catch( function(response) {\n              \/\/ 这里是处理错误的回调\n              console.log(response)\n          });\n      }\n  }\n\n\x3c\/script\x3e\n\n\x3cstyle scoped\x3e\n    .sidebar{\n        display: block;\n        position: absolute;\n        width: 200px;\n        left: 0;\n        top: 70px;\n        bottom:0;\n        background: #2E363F;\n    }\n    .sidebar \x3e ul {\n        height:100%;\n    }\n\x3c\/style\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs django\x22\x3e\x3ccode\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-col\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:span\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x224\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22background-color: #eef1f6;height:100%;\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-menu\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3edefault-active\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x221\x22\x3c\/span\x3e  \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-menu-vertical-demo\x22\x3c\/span\x3e  \x3cspan class=\x22hljs-attr\x22\x3e:unique-opened\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22uniqueOpened\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erouter\x3c\/span\x3e\n          \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22menu in menulist\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:key\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22menu.fidStr\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22menu.isleaf === 1\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n              \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-menu-item\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:index\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22menu.furl\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22menu.fname\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-menu-item\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-else\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-submenu\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:index\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22menu.fidStr\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eslot\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22title\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-menu\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22menu.fname\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22firstLevelChild in menu.children\x22\x3c\/span\x3e \x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-if\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22firstLevelChild.isleaf === 1\x22\x3c\/span\x3e \x26gt;\x3c\/span\x3e\n                      \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-menu-item\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:index\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22firstLevelChild.furl\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22firstLevelChild.fname\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-menu-item\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-else\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-submenu\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:index\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22firstLevelChild.fidStr\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eslot\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22title\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22el-icon-menu\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ei\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22firstLevelChild.fname\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eel-menu-item\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22secondLevelChild in firstLevelChild.children\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:index\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22secondLevelChild.furl\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                              \x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22secondLevelChild.fname\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\n                            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-menu-item\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-submenu\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n                \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-submenu\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-menu\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eel-col\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22text\/javascript\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e {\n      data() {\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n          \x3cspan class=\x22hljs-attr\x22\x3euniqueOpened\x3c\/span\x3e:\x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e,\n          \x3cspan class=\x22hljs-attr\x22\x3emenulist\x3c\/span\x3e:[]\n        }\n      }      ,\n      \x3cspan class=\x22hljs-attr\x22\x3emounted\x3c\/span\x3e: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n         \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e self = \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n          \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.$axios.post(\x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/localhost:8080\/test\/xxx\/xxxx\x27\x3c\/span\x3e, {}, {\n              \x3cspan class=\x22hljs-attr\x22\x3eheaders\x3c\/span\x3e: {\n                \x3cspan class=\x22hljs-string\x22\x3e\x22Content-Type\x22\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x22application\/json;charset=utf-8\x22\x3c\/span\x3e\n              },\n              \x3cspan class=\x22hljs-attr\x22\x3ewithCredentials\x3c\/span\x3e : \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e\n          }).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e) \x3c\/span\x3e{\n              \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里是处理正确的回调\x3c\/span\x3e\n              \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e result = response.data.result;\n              \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e == result) {\n                self.menulist = response.data.item.menulist;\n              } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (\x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e == result || \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e == result) {\n                self.$router.push(\x3cspan class=\x22hljs-string\x22\x3e\x27\/login\x27\x3c\/span\x3e);\n              } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(response.data);\n              }\n\n          }).catch( \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eresponse\x3c\/span\x3e) \x3c\/span\x3e{\n              \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里是处理错误的回调\x3c\/span\x3e\n              \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(response)\n          });\n      }\n  }\n\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3escoped\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.sidebar\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: block;\n        \x3cspan class=\x22hljs-attribute\x22\x3eposition\x3c\/span\x3e: absolute;\n        \x3cspan class=\x22hljs-attribute\x22\x3ewidth\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e200px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3eleft\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3etop\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e70px\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3ebottom\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-attribute\x22\x3ebackground\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e#2E363F\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-selector-class\x22\x3e.sidebar\x3c\/span\x3e \x26gt; \x3cspan class=\x22hljs-selector-tag\x22\x3eul\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e:\x3cspan class=\x22hljs-number\x22\x3e100%\x3c\/span\x3e;\n    }\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在后台项目中的登陆拦截器中设置了，接受跨域访问的header，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22public class LoginInterceptor extends HandlerInterceptorAdapter {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        \n        response.setHeader(\x26quot;Access-Control-Allow-Headers\x26quot;, \x26quot;X-Requested-With, accept, content-type, xxxx\x26quot;);\n        response.setHeader(\x26quot;Access-Control-Allow-Methods\x26quot;, \x26quot;GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS, PATCH\x26quot;);\n        response.setHeader(\x26quot;Access-Control-Allow-Origin\x26quot;, \x26quot;*\x26quot;);  \n       \n        \n        return true;\n    }\n｝\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs accesslog\x22\x3e\x3ccode\x3epublic class LoginInterceptor extends HandlerInterceptorAdapter {\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception {\n        \n        response.setHeader(\x3cspan class=\x22hljs-string\x22\x3e\x22Access-Control-Allow-Headers\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22X-Requested-With, accept, content-type, xxxx\x22\x3c\/span\x3e);\n        response.setHeader(\x3cspan class=\x22hljs-string\x22\x3e\x22Access-Control-Allow-Methods\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22\x3cspan class=\x22hljs-keyword\x22\x3eGET\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eHEAD\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ePOST\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ePUT\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eDELETE\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eTRACE\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eOPTIONS\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3ePATCH\x3c\/span\x3e\x22\x3c\/span\x3e);\n        response.setHeader(\x3cspan class=\x22hljs-string\x22\x3e\x22Access-Control-Allow-Origin\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22*\x22\x3c\/span\x3e);  \n       \n        \n        return true;\n    }\n｝\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e现在可以就可以跨域访问了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2、登陆session获取\x3c\/h2\x3e\n\x3cp\x3e因为是后台管理系统，肯定都需要需要登陆，才能用的， 因此我在登陆时保存了session\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/登陆成功\nsession.setAttribute(\x26quot;user\x26quot;, obj);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/登陆成功\x3c\/span\x3e\n\x3cspan class=\x22hljs-selector-tag\x22\x3esession\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.setAttribute\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22user\x22\x3c\/span\x3e, obj);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我希望其它请求进来时，在拦截器中判断是否登陆了，是否有权限访问这个请求路径\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22        \/\/拦截器中增加，获取session代码\n        HttpSession session =request.getSession();\n        System.out.println(\x26quot;拦截器中的session的id是====\x26quot; \x2b session.getId());\n        Object obj = session.getAttribute(\x26quot;user\x26quot;);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs processing\x22\x3e\x3ccode\x3e        \x3cspan class=\x22hljs-comment\x22\x3e\/\/拦截器中增加，获取session代码\x3c\/span\x3e\n        HttpSession session =request.getSession();\n        System.out.\x3cspan class=\x22hljs-built_in\x22\x3eprintln\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22拦截器中的session的id是====\x22\x3c\/span\x3e \x2b session.getId());\n        \x3cspan class=\x22hljs-keyword\x22\x3eObject\x3c\/span\x3e obj = session.getAttribute(\x3cspan class=\x22hljs-string\x22\x3e\x22user\x22\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e结果发现，每次ajax跨域访问都是新的session ，每次的sessionID都不一样\x3c\/p\x3e\n\x3cp\x3e在segmentfault上提了一个问题，有人提示需要让ajax请求携带cookie，也就是认证信息，于是在拦截器中，增加了一个需要认证信息的header：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22response.setHeader(\x26quot;Access-Control-Allow-Credentials\x26quot;, \x26quot;true\x26quot;);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eresponse\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.setHeader\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Access-Control-Allow-Credentials\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22true\x22\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后再次在浏览器中测试，发现浏览器提示，当Access-Control-Allow-Credentials设为true的时候，Access-Control-Allow-Origin不能设为星号，既然不让我设为星号，我就改成前端项目的配置\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22response.setHeader(\x26quot;Access-Control-Allow-Origin\x26quot;, \x26quot;http:\/\/127.0.0.1:8010\x26quot;);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-selector-tag\x22\x3eresponse\x3c\/span\x3e\x3cspan class=\x22hljs-selector-class\x22\x3e.setHeader\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22Access-Control-Allow-Origin\x22\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/127.0.0.1:8010\x22\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e发现每次ajax请求，还是不同的session，打开chrome的network，发现每次请求的请求头中并没有，和我想象的一样携带cookie信息，也就是下面这个header：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Cookie:JSESSIONID=node015f4w1j2kgjk61i7jyyim8lo3u0.node0;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs avrasm\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-symbol\x22\x3eCookie:\x3c\/span\x3eJSESSIONID=node015f4w1j2kgjk61i7jyyim8lo3u0.node0\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为我用的axios，所以找到axios的文档\x3ca href=\x22https:\/\/github.com\/mzabriskie\/axios\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e链接描述\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e发现一下内容：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22  \/\/ `timeout` specifies the number of milliseconds before the request times out.\n  \/\/ If the request takes longer than `timeout`, the request will be aborted.\n  timeout: 1000,\n\n  \/\/ `withCredentials` indicates whether or not cross-site Access-Control requests\n  \/\/ should be made using credentials\n  withCredentials: false, \/\/ default\n\n  \/\/ `adapter` allows custom handling of requests which makes testing easier.\n  \/\/ Return a promise and supply a valid response (see lib\/adapters\/README.md).\n  adapter: function (config) {\n    \/* ... *\/\n  },\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs actionscript\x22\x3e\x3ccode\x3e  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `timeout` specifies the number of milliseconds before the request times out.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ If the request takes longer than `timeout`, the request will be aborted.\x3c\/span\x3e\n  timeout: \x3cspan class=\x22hljs-number\x22\x3e1000\x3c\/span\x3e,\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `withCredentials` indicates whether or not cross-site Access-Control requests\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ should be made using credentials\x3c\/span\x3e\n  withCredentials: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ default\x3c\/span\x3e\n\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ `adapter` allows custom handling of requests which makes testing easier.\x3c\/span\x3e\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Return a promise and supply a valid response (see lib\/adapters\/README.md).\x3c\/span\x3e\n  adapter: \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-params\x22\x3e(config)\x3c\/span\x3e \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/* ... *\/\x3c\/span\x3e\n  },\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ewithCredentials默认是false，意思就是不携带cookie信息，那就让它为true，我是全局性配置的，就是main.js中的这句话：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22axios.defaults.withCredentials=true;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs abnf\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3eaxios.defaults.withCredentials=true\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后再测试，发现每次ajax请求都是同样的session了（不包含浏览器的options请求）。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e3、代理配置\x3c\/h2\x3e\n\x3cp\x3e因为不想每个页面里的请求都写\x3ca href=\x22http:\/\/127.0.0.1:8080\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttp:\/\/127.0.0.1:8080\x3c\/a\x3e，并且我用的是element ui的webpack项目模板，\x3cbr\x3e所以就想使用代理（不知道叫这个合适不合适）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22devServer: {\n    host: \x27127.0.0.1\x27,\n    port: 8010,\n    proxy: {\n      \x27\/api\/\x27: {\n        target: \x27http:\/\/127.0.0.1:8080\x27,\n        changeOrigin: true,\n        pathRewrite:{\n                    \x27\/api\x27:\x27\/xxxxxx\x27\n                }\n      }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3edevServer\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attribute\x22\x3ehost\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27127.0.0.1\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attribute\x22\x3eport\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e8010\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attribute\x22\x3eproxy\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x27\/api\/\x27\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attribute\x22\x3etarget\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/127.0.0.1:8080\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3echangeOrigin\x3c\/span\x3e: true,\n        \x3cspan class=\x22hljs-attribute\x22\x3epathRewrite\x3c\/span\x3e:{\n                    \x3cspan class=\x22hljs-string\x22\x3e\x27\/api\x27\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27\/xxxxxx\x27\x3c\/span\x3e\n                }\n      }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e把ajax请求改成下面这个样子：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22this.$axios.post(\x27\/api\/xx\/xxx\x27, {}, {\n            headers: {\n                \x26quot;Content-Type\x26quot;: \x26quot;application\/json;charset=utf-8\x26quot;\n            }         \n        }).then(function(response) {\n            \/\/ 这里是处理正确的回调          \n\n        }).catch(function(response) {\n            \/\/ 这里是处理错误的回调\n            console.log(response)\n        });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs scilab\x22\x3e\x3ccode\x3ethis.$axios.post(\x3cspan class=\x22hljs-string\x22\x3e\x27\/api\/xx\/xxx\x27\x3c\/span\x3e, {}, {\n            headers: {\n                \x3cspan class=\x22hljs-string\x22\x3e\x22Content-Type\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22application\/json;charset=utf-8\x22\x3c\/span\x3e\n            }         \n        }).\x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(response)\x3c\/span\x3e {\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里是处理正确的回调          \x3c\/span\x3e\n\n        }).\x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(response)\x3c\/span\x3e {\x3c\/span\x3e\n            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 这里是处理错误的回调\x3c\/span\x3e\n            console.\x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e(response)\n        });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e网上说都是配置为proxyTable, 用的是http-proxy-middleware这个插件，我装上插件，改成这个，webpack总是报错，说proxyTable是非法的配置，无法识别。\x3c\/p\x3e\n\x3cp\x3e无奈改成了模板自带的proxy，可以使用，为什么可以用，我还不清楚，proxyTabel为什么不能用，也没搞明白。有知道的，可以指点一下。\x3c\/p\x3e\n\x3cp\x3e虽然代理配置好了，也能正常请求，结果发现请求的session又不一样了，感觉心好累啊！！！\x3c\/p\x3e\n\x3cp\x3e没办法，只能再看请求头是不是有问题，发现返回header中有session限制的，如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22set-cookie:JSESSIONID=node0v5dmueoc119rb42b59k5qf3w0.node0;Path=\/xxxx\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs coq\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3eset\x3c\/span\x3e-cookie:JSESSIONID=node0v5dmueoc119rb42b59k5qf3w0.node0;\x3cspan class=\x22hljs-keyword\x22\x3ePath\x3c\/span\x3e=\/xxxx\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e要求cookie只能再\/xxxx下也就是项目的根路径下使用，于是我把代理改成：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22devServer: {\n    host: \x27127.0.0.1\x27,\n    port: 8010,\n    proxy: {\n      \x27\/xxxx\/\x27: {\n        target: \x27http:\/\/127.0.0.1:8080\x27,\n        changeOrigin: true\n      }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs less\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-attribute\x22\x3edevServer\x3c\/span\x3e: {\n    \x3cspan class=\x22hljs-attribute\x22\x3ehost\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27127.0.0.1\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attribute\x22\x3eport\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e8010\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attribute\x22\x3eproxy\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-string\x22\x3e\x27\/xxxx\/\x27\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attribute\x22\x3etarget\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27http:\/\/127.0.0.1:8080\x27\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attribute\x22\x3echangeOrigin\x3c\/span\x3e: true\n      }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3esession又恢复正常了，可以用了；不知道为什么配成api映射的形式为什么不能用。\x3c\/p\x3e\n\x3cp\x3e这就是解决这个跨域session问题的过程，希望对大家有点帮助！\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>vue2 前后端分离项目ajax跨域session问题解决</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009208644">https://segmentfault.com/a/1190000009208644</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/j3pmdnx3s5f/" target="_blank">https://alili.tech/archive/j3pmdnx3s5f/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>