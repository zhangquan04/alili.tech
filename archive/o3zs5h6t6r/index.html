<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="通过 InnoSetup 美化安装界面"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>通过 InnoSetup 美化安装界面 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/o3zs5h6t6r/",
				"appid": "1613049289050283", 
				"title": "通过 InnoSetup 美化安装界面 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-15T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/edbb09xujxh/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/wort35u3hxj/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&text=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&text=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&title=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&is_video=false&description=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&title=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&title=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&title=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fo3zs5h6t6r%2f&title=%e9%80%9a%e8%bf%87%20InnoSetup%20%e7%be%8e%e5%8c%96%e5%ae%89%e8%a3%85%e7%95%8c%e9%9d%a2"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">通过 InnoSetup 美化安装界面</h1><div class="meta"><div class="postdate"><time datetime="2019-01-15" itemprop="datePublished">2019-01-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e在 github 仓库里的 \x3ca href=\x22https:\/\/github.com\/anchengjian\/anchengjian.github.io\/blob\/master\/posts\/2017\/use-innosetup-to-build-a-beautiful-installation-interface.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e通过 InnoSetup 美化安装界面\x3c\/a\x3e 提供持续更新  \x3c\/p\x3e\n\x3cp\x3eInnoSetup 的美化相应的帖子也比较多，但是代码不是很全。。。所以我专门出了这篇文章来记录下这个美化过程。  \x3cbr\x3e废话不多说，先上个成果：  \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVM2uq?w=882\x26amp;h=607\x22 src=\x22https:\/\/static.alili.tech\/img\/bVM2uq?w=882\x26amp;h=607\x22 alt=\x22安装界面\x22 title=\x22安装界面\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e前端er们可以直接下载 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/tree\/win-beautiful-setup\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3evue-nw-seed\x3c\/a\x3e 这个分支，一键 build就出效果了。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e一、InnoSetup 增强版\x3c\/h2\x3e\n\x3cp\x3e这个部分很重要，是实现自定义界面的绝对前置步骤。  \x3cbr\x3e完成这个任务也很简单，可以自己下载安装就搞定。  \x3cbr\x3e当然，找资源的过程比较麻烦，所以直接提供了一个，并用 \x3ca href=\x22https:\/\/github.com\/felicienfrancois\/node-innosetup-compiler\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enode-innosetup-compiler\x3c\/a\x3e 包裹了一下，使之可以直接在 Node.js 下应用，最终的增强版在 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/tree\/win-beautiful-setup\/deps\/innosetup\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edeps\/innosetup\x3c\/a\x3e 这里可以看到。  \x3cbr\x3e\x3cstrong\x3e注意\x3c\/strong\x3e\x3cbr\x3eInnoSetup 本身是开源免费的，希望大家在用的过程中注意一下作者的 \x3cstrong\x3eLICENSE\x3c\/strong\x3e 。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e二、iss 配置文件\x3c\/h2\x3e\n\x3cp\x3e这个部分无需赘述，对于新手来说比较复杂的一个事儿，给个文档 \x3ca href=\x22http:\/\/www.jrsoftware.org\/ishelp\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eWhat is Inno Setup?\x3c\/a\x3e 先。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e1、Setup Script Sections\x3c\/h3\x3e\n\x3cp\x3e可以直接双击 \x3ccode\x3edeps\/innosetup\/bin\/Compil32.exe\x3c\/code\x3e 打开一个可视化的配置窗口，按照引导可以直接生成一个通用流程中简单的安装配置，会生成一个类似 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/blob\/win-beautiful-setup\/config\/setup-simple.iss\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esetup-simple.iss\x3c\/a\x3e 这种的 iss 配置文件。  \x3cbr\x3e当然，一个扁平漂亮的界面，肯定不是这种简单的配置能满足的。。。   \x3cbr\x3e所以，看我提供的一个 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/blob\/win-beautiful-setup\/config\/setup.iss\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esetup.iss\x3c\/a\x3e ，其包含完整的流程控制和界面的控制。   \x3cbr\x3e这里的代码太长了，加上注释 455 行，就不贴过来了，戳链接进去看吧。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e2、Pascal Script\x3c\/h3\x3e\n\x3cp\x3e在那 455 行代码中主要就是 \x3ccode\x3e[code]\x3c\/code\x3e 块下面的 \x3ccode\x3ePascal Script\x3c\/code\x3e ，通过它来控制安装流程和界面的美化。\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e控制安装流程的原理是 InnoSetup 通过 \x3ca href=\x22http:\/\/www.jrsoftware.org\/ishelp\/topic_scriptevents.htm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePascal Scripting: Event Functions\x3c\/a\x3e 这种事件机制，把流程节点的控制交给 \x3ccode\x3ePascal Script\x3c\/code\x3e ，使其可以控制\x3ccode\x3e上一步\x3c\/code\x3e、\x3ccode\x3e下一步\x3c\/code\x3e等等的操作。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e界面的美化，主要是调用两个美化插件动态库：\x3ccode\x3ebotva2.dll\x3c\/code\x3e 和 \x3ccode\x3eInnoCallback.dll\x3c\/code\x3e。用其来控制贴图的位置和样式，和给按钮绑定相应的事件等等的。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e详细的控制方式参见 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/blob\/win-beautiful-setup\/config\/setup.iss\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esetup.iss\x3c\/a\x3e 文件中的注释，此处不再详细解释啦。。。解释起来太多了。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e3、setup resources\x3c\/h3\x3e\n\x3cp\x3e这个部分就是用来存放贴图资源和美化插件动态库的地方。 \x3cbr\x3e我默认放在示例项目的 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/tree\/win-beautiful-setup\/build\/setup_resources\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e\/build\/setup_resources\x3c\/a\x3e 这个位置。  \x3cbr\x3e如果你去看过上文 \x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/blob\/win-beautiful-setup\/config\/setup.iss\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3esetup.iss\x3c\/a\x3e 这个文件的话，就会发现里面的资源文件路径的配置被搞成类似这个样子\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22#define LicenseFilePath \x26quot;_resourcesPath_\\license.txt\x26quot;\n#define SetupIconFilePath \x26quot;_resourcesPath_\\logo.ico\x26quot;\n#define ResourcesPath \x26quot;_resourcesPath_\\*\x26quot;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cpp\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e LicenseFilePath \x3cspan class=\x22hljs-meta-string\x22\x3e\x22_resourcesPath_\\license.txt\x22\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e SetupIconFilePath \x3cspan class=\x22hljs-meta-string\x22\x3e\x22_resourcesPath_\\logo.ico\x22\x3c\/span\x3e\x3c\/span\x3e\n\x3cspan class=\x22hljs-meta\x22\x3e#\x3cspan class=\x22hljs-meta-keyword\x22\x3edefine\x3c\/span\x3e ResourcesPath \x3cspan class=\x22hljs-meta-string\x22\x3e\x22_resourcesPath_\\*\x22\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这是因为各个项目要求的打包配置和路径可能不一致，\x3cstrong\x3e特意\x3c\/strong\x3e做了一个处理，详见\x3ca href=\x22https:\/\/github.com\/anchengjian\/vue-nw-seed\/blob\/win-beautiful-setup\/build\/build-win-setup.js#L44-L70\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebuild-win-setup.js\x3c\/a\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ rewrite name, version to iss\nfs.readFile(issPath, null, function(err, text) {\n  if (err) return reject(err)\n\n  let str = iconv.decode(text, \x27gbk\x27)\n    .replace(\/_name_\/g, name)\n    .replace(\/_appName_\/g, appName)\n    .replace(\/_version_\/g, version)\n    .replace(\/_outputPath_\/g, outputPath)\n    .replace(\/_outputFileName_\/g, getOutputName(outputFileName, { name, version, platform }))\n    .replace(\/_filesPath_\/g, files)\n    .replace(\/_resourcesPath_\/g, resourcesPath)\n    .replace(\/_appPublisher_\/g, appPublisher)\n    .replace(\/_appURL_\/g, appURL)\n    .replace(\/_appId_\/g, appId)\n\n\n  fs.writeFile(tmpIssPath, iconv.encode(str, \x27gbk\x27), null, function(err) {\n    if (err) return reject(err)\n\n    \/\/ inno setup start\n    innosetupCompiler(tmpIssPath, { gui: false, verbose: true }, function(err) {\n      fs.unlinkSync(tmpIssPath)\n      if (err) return reject(err)\n      resolve(opt)\n    })\n  })\n})\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ rewrite name, version to iss\x3c\/span\x3e\nfs.readFile(issPath, \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerr, text\x3c\/span\x3e) \x3c\/span\x3e{\n  \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e reject(err)\n\n  \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e str = iconv.decode(text, \x3cspan class=\x22hljs-string\x22\x3e\x27gbk\x27\x3c\/span\x3e)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_name_\/g\x3c\/span\x3e, name)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_appName_\/g\x3c\/span\x3e, appName)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_version_\/g\x3c\/span\x3e, version)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_outputPath_\/g\x3c\/span\x3e, outputPath)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_outputFileName_\/g\x3c\/span\x3e, getOutputName(outputFileName, { name, version, platform }))\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_filesPath_\/g\x3c\/span\x3e, files)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_resourcesPath_\/g\x3c\/span\x3e, resourcesPath)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_appPublisher_\/g\x3c\/span\x3e, appPublisher)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_appURL_\/g\x3c\/span\x3e, appURL)\n    .replace(\x3cspan class=\x22hljs-regexp\x22\x3e\/_appId_\/g\x3c\/span\x3e, appId)\n\n\n  fs.writeFile(tmpIssPath, iconv.encode(str, \x3cspan class=\x22hljs-string\x22\x3e\x27gbk\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-literal\x22\x3enull\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e reject(err)\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ inno setup start\x3c\/span\x3e\n    innosetupCompiler(tmpIssPath, { \x3cspan class=\x22hljs-attr\x22\x3egui\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e, \x3cspan class=\x22hljs-attr\x22\x3everbose\x3c\/span\x3e: \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e }, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eerr\x3c\/span\x3e) \x3c\/span\x3e{\n      fs.unlinkSync(tmpIssPath)\n      \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (err) \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e reject(err)\n      resolve(opt)\n    })\n  })\n})\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e如果仅仅想单纯的用  InnoSetup 打包安装美观的界面，可以自直接换一下相应的配路径置。\x3c\/strong\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader5\x22\x3e三、Q \x26amp; A\x3c\/h2\x3e\n\x3cp\x3e需要单独说一下几个踩到的坑。。。\x3cbr\x3e1、iss 文件需要什么特定的编码格式吗？  \x3cbr\x3e中文的话，需要 ansi 编码，不然用其他编码，打包出来在界面上的中文会乱码！  \x3cbr\x3e这也是我直接用文字贴图来代替 label 以确保界面中的文字显示万无一失的原因。\x3c\/p\x3e\n\x3cp\x3e2、这个 InnoSetup 增强版 和和普通的有啥区别？  \x3cbr\x3e说实在的，我也没太搞明白，InnoSetup 本身就是开源和免费的，可以自己修改并编译。现在我用的这个版本应该是国内某前辈搜集的一些脚本等东西集合出来单独打包出来的一个增强版。\x3c\/p\x3e\n\x3cp\x3e3、为啥不单独搞个 InnoSetup 美化的项目？  \x3cbr\x3e一方面不确定 InnoSetup 增强版 这个版权协议，另一方面不确定大家的需求咋样，暂时这样，让大家可以通过 \x3cstrong\x3e源码 \x2b 详细的注释\x3c\/strong\x3e 习得这部分的技能。如果确实这部分需求很强大，请私信我，或者发 issue 讨论下这个项目该咋整吧。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e四、参考资料\x3c\/h2\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/oceanlucy\/article\/details\/50033773\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e互联网软件的安装包界面设计-Inno setup\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/blog.csdn.net\/HarounCloud\/article\/details\/50613590\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eINNOSETUP 仿有道云安装包界面\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.yiibai.com\/pascal\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ePascal 入门\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22http:\/\/www.jrsoftware.org\/ishelp\/topic_scriptevents.htm\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eInnoSetup docs: Event Functions\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>通过 InnoSetup 美化安装界面</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009265336">https://segmentfault.com/a/1190000009265336</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/o3zs5h6t6r/" target="_blank">https://alili.tech/archive/o3zs5h6t6r/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>