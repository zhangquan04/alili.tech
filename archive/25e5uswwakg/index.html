<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="从零开始搭建React同构应用（三）：配置SSR"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>从零开始搭建React同构应用（三）：配置SSR | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/25e5uswwakg/",
				"appid": "1613049289050283", 
				"title": "从零开始搭建React同构应用（三）：配置SSR | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-27T02:30:59"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/1ro8eh25cbi/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ohqta45t29/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&text=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&text=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&title=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&is_video=false&description=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&title=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&title=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&title=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f25e5uswwakg%2f&title=%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e6%90%ad%e5%bb%baReact%e5%90%8c%e6%9e%84%e5%ba%94%e7%94%a8%ef%bc%88%e4%b8%89%ef%bc%89%ef%bc%9a%e9%85%8d%e7%bd%aeSSR"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">从零开始搭建React同构应用（三）：配置SSR</h1><div class="meta"><div class="postdate"><time datetime="2019-01-27" itemprop="datePublished">2019-01-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch1 id=\x22articleHeader0\x22\x3e从零开始搭建React同构应用（三）：配置SSR\x3c\/h1\x3e\n\x3cp\x3e这篇文章来讲解来配置\x3ccode\x3eserver side render\x3c\/code\x3e，我们先从最简单的方法开始，用cli的方式模拟实现SSR。\x3c\/p\x3e\n\x3cp\x3e\x3ca href=\x22https:\/\/github.com\/larry011\/react-isomorph-demo\/tree\/cb4209bb4c5e608dd67ed43963cd16c0418399e5\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3edemo在这里\x3c\/a\x3e\x3c\/p\x3e\n\x3cp\x3e主要内容：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e添加webpack的server render配置\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用CLI的方式测试SSR输出\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e添加webpack的server render配置\x3c\/h2\x3e\n\x3cp\x3e之前我是考虑在node端直接\x3ccode\x3erequire\x3c\/code\x3e源码，例如：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/hook require\nrequire(\x26quot;babel-register\x26quot;)({\n    babelrc: \x26quot;false\x26quot;,\n    presets: [\x27react\x27],\n    plugins: [\n        \x26quot;transform-decorators-legacy\x26quot;,\n        \x26quot;transform-es2015-modules-commonjs\x26quot;\n    ]\n});\n\n\/\/直接引入源码\nconst IndexBundle = require(\x26quot;.\/src\/index\/Index.jsx\x26quot;);\n\n\n\/\/do server side render...\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/hook require\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22babel-register\x22\x3c\/span\x3e)({\n    \x3cspan class=\x22hljs-attr\x22\x3ebabelrc\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22false\x22\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3epresets\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e],\n    \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n        \x3cspan class=\x22hljs-string\x22\x3e\x22transform-decorators-legacy\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-string\x22\x3e\x22transform-es2015-modules-commonjs\x22\x3c\/span\x3e\n    ]\n});\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/直接引入源码\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e IndexBundle = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22.\/src\/index\/Index.jsx\x22\x3c\/span\x3e);\n\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/do server side render...\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样少编译一套代码，觉得这样维护起来更方便，但是后来实践发现有几个问题:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eimport \x22xxx.styl\x22\x3c\/code\x3e，引入样式文件会报错。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e这种模式下需要使用\x3ca href=\x22http:\/\/babeljs.io\/docs\/usage\/babel-register\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ebabel-register\x3c\/a\x3e，\x3ccode\x3ebabel\x3c\/code\x3e编译速度较慢，开发模式下每次修改文件再重启服务器耗时太长。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e影响生产环境下执行效率。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e最后权衡下，还是决定使用现在多一套ssr编译配置的方案。\x3c\/p\x3e\n\x3cp\x3e在\x3ca href=\x22https:\/\/github.com\/larry011\/react-isomorph-demo\/blob\/3317be01407d80819d3638a2df4b72eea5a68dcb\/webpack.config.js#L69\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack.config.js\x3c\/a\x3e添加以下代码\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let serverConfig = {};\n\nObject.assign(serverConfig, browserConfig, {\n    output: {\n        path: path.join(__dirname, \x27build_server\x27),\n        filename: \x26quot;[name].bundle.js\x26quot;,\n        libraryTarget: \x27commonjs2\x27 \/\/设置导出类型，web端默认是var，node需要module.exports = xxx的形式\n    },\n    module: {\n        loaders: [\n            {\n                test: \/\\.jsx?$\/,\n                exclude: \/node_modules\/,\n                loader: \x26quot;babel-loader\x26quot;,\n                query: {                \/\/node端的babel编译配置可以简化很多\n                    babelrc: \x26quot;false\x26quot;,\n                    presets: [\x27react\x27],\n                    plugins: [\n                        \x26quot;transform-decorators-legacy\x26quot;,\n                        \x26quot;transform-es2015-modules-commonjs\x26quot; \/\/如果不转换成require，import \x27xxx.styl\x27会报错\n                    ]\n                }\n            },\n            {\n                test: \/\\.(styl|css)$\/,          \/\/node端不能 require(\x27xx.css\x27)，会报错\n                loader: \x27null\x27\n            },\n        ]\n    },\n    plugins: [\n        new webpack.ProvidePlugin({\n            React: \x27react\x27,\n            ReactDOM: \x27react-dom\x27,\n            fetch: \x27isomorphic-fetch\x27,\n            promise: \x27promise\x27\n        }),\n        new webpack.DefinePlugin({\n            \x27process.env.NODE_ENV\x27: JSON.stringify(process.env.NODE_ENV) || JSON.stringify(\x27development\x27)\n        }),\n    ],\n    target: \x27node\x27,\n    externals: [nodeExternals()], \/\/不把node_modules中的文件打包\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e serverConfig = {};\n\n\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.assign(serverConfig, browserConfig, {\n    \x3cspan class=\x22hljs-attr\x22\x3eoutput\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3epath\x3c\/span\x3e: path.join(__dirname, \x3cspan class=\x22hljs-string\x22\x3e\x27build_server\x27\x3c\/span\x3e),\n        \x3cspan class=\x22hljs-attr\x22\x3efilename\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22[name].bundle.js\x22\x3c\/span\x3e,\n        \x3cspan class=\x22hljs-attr\x22\x3elibraryTarget\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27commonjs2\x27\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置导出类型，web端默认是var，node需要module.exports = xxx的形式\x3c\/span\x3e\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3emodule\x3c\/span\x3e: {\n        \x3cspan class=\x22hljs-attr\x22\x3eloaders\x3c\/span\x3e: [\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.jsx?$\/\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eexclude\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/node_modules\/\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eloader\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22babel-loader\x22\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3equery\x3c\/span\x3e: {                \x3cspan class=\x22hljs-comment\x22\x3e\/\/node端的babel编译配置可以简化很多\x3c\/span\x3e\n                    babelrc: \x3cspan class=\x22hljs-string\x22\x3e\x22false\x22\x3c\/span\x3e,\n                    \x3cspan class=\x22hljs-attr\x22\x3epresets\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e],\n                    \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n                        \x3cspan class=\x22hljs-string\x22\x3e\x22transform-decorators-legacy\x22\x3c\/span\x3e,\n                        \x3cspan class=\x22hljs-string\x22\x3e\x22transform-es2015-modules-commonjs\x22\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/如果不转换成require，import \x27xxx.styl\x27会报错\x3c\/span\x3e\n                    ]\n                }\n            },\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3etest\x3c\/span\x3e: \x3cspan class=\x22hljs-regexp\x22\x3e\/\\.(styl|css)$\/\x3c\/span\x3e,          \x3cspan class=\x22hljs-comment\x22\x3e\/\/node端不能 require(\x27xx.css\x27)，会报错\x3c\/span\x3e\n                loader: \x3cspan class=\x22hljs-string\x22\x3e\x27null\x27\x3c\/span\x3e\n            },\n        ]\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3eplugins\x3c\/span\x3e: [\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.ProvidePlugin({\n            \x3cspan class=\x22hljs-attr\x22\x3eReact\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27react\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3eReactDOM\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27react-dom\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3efetch\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27isomorphic-fetch\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3epromise\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27promise\x27\x3c\/span\x3e\n        }),\n        \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e webpack.DefinePlugin({\n            \x3cspan class=\x22hljs-string\x22\x3e\x27process.env.NODE_ENV\x27\x3c\/span\x3e: \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(process.env.NODE_ENV) || \x3cspan class=\x22hljs-built_in\x22\x3eJSON\x3c\/span\x3e.stringify(\x3cspan class=\x22hljs-string\x22\x3e\x27development\x27\x3c\/span\x3e)\n        }),\n    ],\n    \x3cspan class=\x22hljs-attr\x22\x3etarget\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27node\x27\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-attr\x22\x3eexternals\x3c\/span\x3e: [nodeExternals()], \x3cspan class=\x22hljs-comment\x22\x3e\/\/不把node_modules中的文件打包\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为\x3ccode\x3eserverConfig\x3c\/code\x3e的配置和\x3ccode\x3ebrowserConfig\x3c\/code\x3e相似，我就使用\x3ccode\x3eObject.assign\x3c\/code\x3e来复制一份，同时做下修改。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3enodejs\x3c\/code\x3e启用\x3ccode\x3e --harmony\x3c\/code\x3e参数就可以支持绝大部分的ES6,ES7语法，如\x3ccode\x3easync\x3c\/code\x3e等，因此只需要编译\x3ccode\x3eJSX\x3c\/code\x3e语法和\x3ccode\x3eimport\x3c\/code\x3e语法。babel的编译速度也因此可以提高很多。\x3ccode\x3ebabelrc: \x22false\x22\x3c\/code\x3e是为了屏蔽项目目录下的\x3ccode\x3ebabel.rc\x3c\/code\x3e文件，那是给浏览器端编译使用的。\x3c\/p\x3e\n\x3cp\x3e同时，在node环境不支持直接引入CSS文件的，如\x3ccode\x3erequire(\x27xx.css\x27)\x3c\/code\x3e，因此在打包的时候要忽略样式文件和资源文件，否则会报错。\x3c\/p\x3e\n\x3cp\x3e这里我使用了\x3ca href=\x22https:\/\/www.npmjs.com\/package\/webpack-node-externals\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-node-externals\x3c\/a\x3e插件，这个插件的原理是利用了webapck中的\x3ca href=\x22http:\/\/webpack.github.io\/docs\/configuration.html#externals\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eexternals\x3c\/a\x3e配置项，来剔除\x3ccode\x3enode_modules\x3c\/code\x3e文件的，因为默认webapck会把所有用到的js文件统统打包，而我们由于是在node端，因此不需要把用到的库也打包了。\x3c\/p\x3e\n\x3cp\x3e执行试试\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22npm run watch\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs dockerfile\x22\x3e\x3ccode\x3enpm \x3cspan class=\x22hljs-keyword\x22\x3erun\x3c\/span\x3e\x3cspan class=\x22bash\x22\x3e watch\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIMJg?w=761\x26amp;h=195\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIMJg?w=761\x26amp;h=195\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e如果不用\x3ca href=\x22https:\/\/www.npmjs.com\/package\/webpack-node-externals\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ewebpack-node-externals\x3c\/a\x3e，打包出的文件体积会大很多\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIMJm?w=688\x26amp;h=206\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIMJm?w=688\x26amp;h=206\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e测试SSR输出\x3c\/h2\x3e\n\x3cp\x3e其实使用React的ssr很简单，熟悉下面两个API即可：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/react-api.html#createelement\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReact.createElement\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ca href=\x22https:\/\/facebook.github.io\/react\/docs\/react-dom-server.html#rendertostring\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eReactDOMServer.renderToString\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3eReact.createElement\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFU6J?w=660\x26amp;h=173\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFU6J?w=660\x26amp;h=173\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e这里简单解释下，\x3ccode\x3eReact.createElement\x3c\/code\x3e把\x3ccode\x3eReact类\x3c\/code\x3e进行实例化，实例化后的组件就可以进行mount操作了，在浏览器环境我们是使用\x3ccode\x3eReactDOM.render()\x3c\/code\x3e来进行挂载操作的。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3eReactDOMServer.renderToString\x3c\/h3\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVFU6N?w=677\x26amp;h=114\x22 src=\x22https:\/\/static.alili.tech\/img\/bVFU6N?w=677\x26amp;h=114\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e而\x3ccode\x3eReactDOMServer.renderToString\x3c\/code\x3e则是把React实例渲染成HTML标签。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e测试\x3c\/h3\x3e\n\x3cp\x3e这里我们先不搭建HTTP server，暂时用cli的方式模拟一下，方便大家理解。\x3c\/p\x3e\n\x3cp\x3e新建\x3ca href=\x22https:\/\/github.com\/larry011\/react-isomorph-demo\/blob\/cb4209bb4c5e608dd67ed43963cd16c0418399e5\/test\/cli.js\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ecli.js\x3c\/a\x3e，写入以下内容（以\x3ccode\x3eIndex.jsx\x3c\/code\x3e为例），注意：\x3ccode\x3e.defalut\x3c\/code\x3e不能少。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/**\n * Created by chenchen on 2017\/2\/4.\n *\n * React server render 命令行测试\n *\/\n\n\/\/以Index.jsx为例\nconst IndexBundle = require(\x26quot;..\/build_server\/index.bundle.js\x26quot;);\nconst React = require(\x26quot;react\x26quot;);\nconst ReactDOMServer = require(\x26quot;react-dom\/server\x26quot;);\nlet {renderToString} = ReactDOMServer;\nlet initialData = {todoList: [\x2711\x27, \x2722\x27, \x2733\x27]};\nlet instance = React.createElement(IndexBundle.default, initialData); \/\/.defalut不能少\n\n\nlet str = renderToString(instance);\n\nconsole.log(str);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/**\n * Created by chenchen on 2017\/2\/4.\n *\n * React server render 命令行测试\n *\/\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/以Index.jsx为例\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e IndexBundle = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22..\/build_server\/index.bundle.js\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e React = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22react\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e ReactDOMServer = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x22react-dom\/server\x22\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e {renderToString} = ReactDOMServer;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e initialData = {\x3cspan class=\x22hljs-attr\x22\x3etodoList\x3c\/span\x3e: [\x3cspan class=\x22hljs-string\x22\x3e\x2711\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x2722\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x2733\x27\x3c\/span\x3e]};\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e instance = React.createElement(IndexBundle.default, initialData); \x3cspan class=\x22hljs-comment\x22\x3e\/\/.defalut不能少\x3c\/span\x3e\n\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e str = renderToString(instance);\n\n\x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(str);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我们添加一条\x3ccode\x3enpm script\x3c\/code\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x26quot;test-ssr\x26quot;: \x26quot;node --harmony test\/cli.js\x26quot;\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs 1c\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-string\x22\x3e\x22test-ssr\x22\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x22node --harmony test\/cli.js\x22\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e执行后效果如图\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIMKK?w=968\x26amp;h=160\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIMKK?w=968\x26amp;h=160\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e可以看到我们已经成功输出了组件渲染后的HTML文本了。\x3c\/p\x3e\n\x3cp\x3e下一篇文章我将讲解如何搭建一个简单的\x3ccode\x3eKoa server\x3c\/code\x3e，并结合这边文章内容，实现真正意义上的\x3ccode\x3eserver side render\x3c\/code\x3e ^_^。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e要注意的地方\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3eReact生命周期\x3c\/h3\x3e\n\x3cp\x3eReact组件的声明周期只会到\x3ccode\x3ecomponentWillMount\x3c\/code\x3e，因此你不能在\x3ccode\x3ecomponentWillMount\x3c\/code\x3e及其之前的生命周期钩子中写浏览器环境下的代码，如\x3ccode\x3e$.ajax(...)\x3c\/code\x3e，会报错。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e前后端数据同步\x3c\/h3\x3e\n\x3cp\x3e要注意浏览器端和服务器端的数据要一致，否则会出现HTML重用失败的错误：\x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVIMKV?w=1076\x26amp;h=159\x22 src=\x22https:\/\/static.alili.tech\/img\/bVIMKV?w=1076\x26amp;h=159\x22 alt=\x22clipboard.png\x22 title=\x22clipboard.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3eserver side render 没有用到redux\x3c\/h3\x3e\n\x3cp\x3e可能有人会疑惑，在浏览器编译的代码是：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22 \/\/初始数据，用于和server render数据同步\nlet initialData = window._SERVER_DATA || {};\n\nlet store = createStore(reducers, initialData, window.__REDUX_DEVTOOLS_EXTENSION__ \x26amp;\x26amp; window.__REDUX_DEVTOOLS_EXTENSION__());\n\nlet App = connect(_ =\x3e _)(Layout);\/\/用connect包装一下，这里只用到mapStateToProps，而且不对state加以过滤\n\nReactDOM.render(\n    \x3cProvider store={store}\x3e\n        \x3cApp\/\x3e\n    \x3c\/Provider\x3e,\n    document.getElementById(\x27wrap\x27));\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/初始数据，用于和server render数据同步\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e initialData = \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e._SERVER_DATA || {};\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e store = createStore(reducers, initialData, \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.__REDUX_DEVTOOLS_EXTENSION__ \x26amp;\x26amp; \x3cspan class=\x22hljs-built_in\x22\x3ewindow\x3c\/span\x3e.__REDUX_DEVTOOLS_EXTENSION__());\n\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e App = connect(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e_\x3c\/span\x3e =\x26gt;\x3c\/span\x3e _)(Layout);\x3cspan class=\x22hljs-comment\x22\x3e\/\/用connect包装一下，这里只用到mapStateToProps，而且不对state加以过滤\x3c\/span\x3e\n\nReactDOM.render(\n    \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eProvider\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estore\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e{store}\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eApp\x3c\/span\x3e\/\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eProvider\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e,\n    \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27wrap\x27\x3c\/span\x3e));\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e而server端的编译没有和Redux沾边，因为\x3ccode\x3eProvider\x3c\/code\x3e和\x3ccode\x3econnect（...）(Layout)\x3c\/code\x3e是\x3ccode\x3efunctional component\x3c\/code\x3e，本身不会多渲染出来HTML，因此可以不用Redux参与渲染。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>从零开始搭建React同构应用（三）：配置SSR</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008251610">https://segmentfault.com/a/1190000008251610</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/25e5uswwakg/" target="_blank">https://alili.tech/archive/25e5uswwakg/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>