<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="20行代码的贪吃蛇"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>20行代码的贪吃蛇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/xx680r85vqk/",
				"appid": "1613049289050283", 
				"title": "20行代码的贪吃蛇 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-12T02:30:25"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/7v8ufkqdg/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/qs56jjusz2/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&text=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&text=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&title=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&is_video=false&description=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&title=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&title=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&title=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fxx680r85vqk%2f&title=20%e8%a1%8c%e4%bb%a3%e7%a0%81%e7%9a%84%e8%b4%aa%e5%90%83%e8%9b%87"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">20行代码的贪吃蛇</h1><div class="meta"><div class="postdate"><time datetime="2019-01-12" itemprop="datePublished">2019-01-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e\x3ca href=\x22https:\/\/kongchenglc.github.io\/blog\/%E8%B4%AA%E5%90%83%E8%9B%8720170613\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e原文地址\x3c\/a\x3e\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e  在csdn上看到一位大神用20行代码就写出了一个贪吃蛇的小游戏，\x3ca href=\x22http:\/\/blog.csdn.net\/hj7jay\/article\/details\/51011269\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e链接请点这里\x3c\/a\x3e，感觉被惊艳到了，就试着读了一下这段代码，阅读过程中不断为作者写法的巧妙而叫绝，其中我发现自己对运算符优先级和一些js的技巧不是很清楚，所以看完之后决定把思路分享出来，和大家一起学习。可以\x3ca href=\x22https:\/\/rawgit.com\/kongchenglc\/Demo\/master\/snake.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e在这里预览效果\x3c\/a\x3e，可能需要翻墙，你也可以在我的\x3ca href=\x22https:\/\/github.com\/kongchenglc\/Demo\/blob\/master\/snake.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e上直接查看源码。\x3ccode\x3egithub\x3c\/code\x3e上还有许多别的有趣的\x3ccode\x3edemo\x3c\/code\x3e，喜欢可以顺手点个\x3ccode\x3estar\x3c\/code\x3e。\x3c\/p\x3e\x3c\/blockquote\x3e\n\x3cp\x3e  我对代码稍稍做了些修改，并添加了一些注释，方便理解。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!DOCTYPE html\x3e\n\x3chtml lang=\x26quot;en\x26quot;\x3e\n\x3chead\x3e\n    \x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n    \x3ctitle\x3e贪吃蛇重构\x3c\/title\x3e\n    \x3cstyle\x3e\n        body {\n            display: flex;\n            height: 100vh;\n            margin: 0;\n            padding: 0;\n            justify-content: center;\n            align-items: center;\n        }\n    \x3c\/style\x3e\n\x3c\/head\x3e\n\x3cbody\x3e\n    \x3ccanvas id=\x26quot;can\x26quot; width=\x26quot;400\x26quot; height=\x26quot;400\x26quot; style=\x26quot;background-color: black\x26quot;\x3e对不起，您的浏览器不支持canvas\x3c\/canvas\x3e\n    \x3cscript\x3e\n        var snake = [41, 40],       \/\/snake队列表示蛇身，初始节点存在但不显示\n            direction = 1,          \/\/1表示向右，-1表示向左，20表示向下，-20表示向上\n            food = 43,              \/\/食物的位置\n            n,                      \/\/与下次移动的位置有关\n            box = document.getElementById(\x27can\x27).getContext(\x272d\x27);\n                                    \/\/从0到399表示box里[0~19]*[0~19]的所有节点，每20px一个节点\n\n        function draw(seat, color) {\n            box.fillStyle = color;\n            box.fillRect(seat % 20 *20 \x2b 1, ~~(seat \/ 20) * 20 \x2b 1, 18, 18);\n                                    \/\/用color填充一个矩形，以前两个参数为x，y坐标，后两个参数为宽和高。\n        }\n\n        document.onkeydown = function(evt) {    \n                                    \/\/当键盘上下左右键摁下的时候改变direction\n            direction = snake[1] - snake[0] == (n = [-1, -20, 1, 20][(evt || event).keyCode - 37] || direction) ? direction : n;\n        };\n\n        !function() {\n            snake.unshift(n = snake[0] \x2b direction);    \n                                    \/\/此时的n为下次蛇头出现的位置，n进入队列\n            if(snake.indexOf(n, 1) \x3e 0 || n \x3c 0 || n \x3e 399 || direction == 1 \x26amp;\x26amp; n % 20 == 0 || direction == -1 \x26amp;\x26amp; n % 20 == 19) {\n                                    \/\/if语句判断贪吃蛇是否撞到自己或者墙壁，碰到时返回，结束程序\n                return alert(\x26quot;GAME OVER!\x26quot;);\n            }\n            draw(n, \x26quot;lime\x26quot;);        \/\/画出蛇头下次出现的位置\n            if(n == food) {         \/\/如果吃到食物时，产生一个蛇身以外的随机的点，不会去掉蛇尾\n                while (snake.indexOf(food = ~~(Math.random() * 400)) \x3e= 0);\n                draw(food, \x26quot;yellow\x26quot;);\n            } else {                \/\/没有吃到食物时正常移动，蛇尾出队列\n                draw(snake.pop(),\x26quot;black\x26quot;);\n            }\n            setTimeout(arguments.callee, 150);      \n                                    \/\/每隔0.15秒执行函数一次，可以调节蛇的速度\n        }();\n    \x3c\/script\x3e\n\x3c\/body\x3e\n\x3c\/html\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-meta\x22\x3e\x26lt;!DOCTYPE html\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3elang\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22en\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e贪吃蛇重构\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22css\x22\x3e\n        \x3cspan class=\x22hljs-selector-tag\x22\x3ebody\x3c\/span\x3e {\n            \x3cspan class=\x22hljs-attribute\x22\x3edisplay\x3c\/span\x3e: flex;\n            \x3cspan class=\x22hljs-attribute\x22\x3eheight\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e100vh\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3emargin\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3epadding\x3c\/span\x3e: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n            \x3cspan class=\x22hljs-attribute\x22\x3ejustify-content\x3c\/span\x3e: center;\n            \x3cspan class=\x22hljs-attribute\x22\x3ealign-items\x3c\/span\x3e: center;\n        }\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3estyle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecanvas\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22can\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22400\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22400\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22background-color: black\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e对不起，您的浏览器不支持canvas\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecanvas\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e snake = [\x3cspan class=\x22hljs-number\x22\x3e41\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e],       \x3cspan class=\x22hljs-comment\x22\x3e\/\/snake队列表示蛇身，初始节点存在但不显示\x3c\/span\x3e\n            direction = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,          \x3cspan class=\x22hljs-comment\x22\x3e\/\/1表示向右，-1表示向左，20表示向下，-20表示向上\x3c\/span\x3e\n            food = \x3cspan class=\x22hljs-number\x22\x3e43\x3c\/span\x3e,              \x3cspan class=\x22hljs-comment\x22\x3e\/\/食物的位置\x3c\/span\x3e\n            n,                      \x3cspan class=\x22hljs-comment\x22\x3e\/\/与下次移动的位置有关\x3c\/span\x3e\n            box = \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27can\x27\x3c\/span\x3e).getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n                                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/从0到399表示box里[0~19]*[0~19]的所有节点，每20px一个节点\x3c\/span\x3e\n\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edraw\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eseat, color\x3c\/span\x3e) \x3c\/span\x3e{\n            box.fillStyle = color;\n            box.fillRect(seat % \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e *\x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, ~~(seat \/ \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e18\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e18\x3c\/span\x3e);\n                                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/用color填充一个矩形，以前两个参数为x，y坐标，后两个参数为宽和高。\x3c\/span\x3e\n        }\n\n        \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onkeydown = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevt\x3c\/span\x3e) \x3c\/span\x3e{    \n                                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/当键盘上下左右键摁下的时候改变direction\x3c\/span\x3e\n            direction = snake[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] - snake[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] == (n = [\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e-20\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e][(evt || event).keyCode - \x3cspan class=\x22hljs-number\x22\x3e37\x3c\/span\x3e] || direction) ? direction : n;\n        };\n\n        !\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n            snake.unshift(n = snake[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] \x2b direction);    \n                                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/此时的n为下次蛇头出现的位置，n进入队列\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(snake.indexOf(n, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e) \x26gt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e || n \x26lt; \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e || n \x26gt; \x3cspan class=\x22hljs-number\x22\x3e399\x3c\/span\x3e || direction == \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e \x26amp;\x26amp; n % \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e || direction == \x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e \x26amp;\x26amp; n % \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e == \x3cspan class=\x22hljs-number\x22\x3e19\x3c\/span\x3e) {\n                                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/if语句判断贪吃蛇是否撞到自己或者墙壁，碰到时返回，结束程序\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e alert(\x3cspan class=\x22hljs-string\x22\x3e\x22GAME OVER!\x22\x3c\/span\x3e);\n            }\n            draw(n, \x3cspan class=\x22hljs-string\x22\x3e\x22lime\x22\x3c\/span\x3e);        \x3cspan class=\x22hljs-comment\x22\x3e\/\/画出蛇头下次出现的位置\x3c\/span\x3e\n            \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(n == food) {         \x3cspan class=\x22hljs-comment\x22\x3e\/\/如果吃到食物时，产生一个蛇身以外的随机的点，不会去掉蛇尾\x3c\/span\x3e\n                \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (snake.indexOf(food = ~~(\x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.random() * \x3cspan class=\x22hljs-number\x22\x3e400\x3c\/span\x3e)) \x26gt;= \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e);\n                draw(food, \x3cspan class=\x22hljs-string\x22\x3e\x22yellow\x22\x3c\/span\x3e);\n            } \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {                \x3cspan class=\x22hljs-comment\x22\x3e\/\/没有吃到食物时正常移动，蛇尾出队列\x3c\/span\x3e\n                draw(snake.pop(),\x3cspan class=\x22hljs-string\x22\x3e\x22black\x22\x3c\/span\x3e);\n            }\n            setTimeout(\x3cspan class=\x22hljs-built_in\x22\x3earguments\x3c\/span\x3e.callee, \x3cspan class=\x22hljs-number\x22\x3e150\x3c\/span\x3e);      \n                                    \x3cspan class=\x22hljs-comment\x22\x3e\/\/每隔0.15秒执行函数一次，可以调节蛇的速度\x3c\/span\x3e\n        }();\n    \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ebody\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehtml\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e  首先，我们要知道做一个贪吃蛇最主要的是什么，是做出蛇活动的场所和如何使蛇动起来。  \x3c\/p\x3e\n\x3cp\x3e  我们先看蛇活动的场所：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \x3c!-- html --\x3e\n    \x3ccanvas id=\x26quot;can\x26quot; width=\x26quot;400\x26quot; height=\x26quot;400\x26quot; style=\x26quot;background-color: black\x26quot;\x3e\n        对不起，您的浏览器不支持canvas\n    \x3c\/canvas\x3e\n    \x3c!-- js --\x3e\n    box = document.getElementById(\x27can\x27).getContext(\x272d\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- html --\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ecanvas\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22can\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ewidth\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22400\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eheight\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22400\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3estyle\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22background-color: black\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        对不起，您的浏览器不支持canvas\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ecanvas\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!-- js --\x26gt;\x3c\/span\x3e\n    box = document.getElementById(\x27can\x27).getContext(\x272d\x27);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e  这是一个\x3ccode\x3e400px*400px\x3c\/code\x3e的\x3ccode\x3ecanvas\x3c\/code\x3e，思路是以\x3ccode\x3e20px*20px\x3c\/code\x3e为一个方格，组成\x3ccode\x3e20\x3c\/code\x3e行\x3ccode\x3e20\x3c\/code\x3e列的方阵，总共\x3ccode\x3e400\x3c\/code\x3e格，然后绿色填充的格子表示蛇身，用黄色表示食物。这\x3ccode\x3e400\x3c\/code\x3e个格子和数字\x3ccode\x3e0~399\x3c\/code\x3e一一对应，对应的方式就是以\x3ccode\x3e20\x3c\/code\x3e作为基数，\x3ccode\x3en \/ 20\x3c\/code\x3e再取整表示第几行，\x3ccode\x3en % 20\x3c\/code\x3e表示第几列。行数和列数都用\x3ccode\x3e0~19\x3c\/code\x3e表示。  \x3cbr\x3e  蛇用一个一维数组表示，每个值都是这\x3ccode\x3e400\x3c\/code\x3e个数中的一个，用\x3ccode\x3evar snake = [41, 40];\x3c\/code\x3e初始化这条蛇，索引\x3ccode\x3e0\x3c\/code\x3e为蛇头。\x3ccode\x3efood\x3c\/code\x3e表示食物的位置，\x3ccode\x3edirection\x3c\/code\x3e表示蛇头下一次运动的转向。蛇的运动就用添加和删除数组元素来实现，每次执行绘制蛇头，去掉蛇尾，循环执行使蛇运动。   \x3cbr\x3e  下边从函数运行的起始处（\x3ccode\x3e39\x3c\/code\x3e行）开始看:\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22!function() {}();\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22 style=\x22word-break: break-word; white-space: initial;\x22\x3e!\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{}();\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e  什么鬼？这其实是立即执行函数\x3ccode\x3eIIFE\x3c\/code\x3e的另一种写法。关于\x3ccode\x3eIIFE\x3c\/code\x3e，\x3ca href=\x22http:\/\/web.jobbole.com\/82520\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这篇文章\x3c\/a\x3e讲的挺不错的。继续往下看，给蛇头添加一个节点\x3ccode\x3en\x3c\/code\x3e，其值为当前蛇头的值加\x3ccode\x3edirection\x3c\/code\x3e的值，如此一来就能理解为什么要用\x3ccode\x3e20\x3c\/code\x3e表示向下，\x3ccode\x3e-20\x3c\/code\x3e表示向上了。再下一行是一个\x3ccode\x3eif\x3c\/code\x3e语句，其中值得提醒的是\x3ccode\x3e\x26amp;\x26amp;\x3c\/code\x3e的优先级高于\x3ccode\x3e||\x3c\/code\x3e，这个语句就是判断即将出现的蛇头是不是属于蛇身，或者跑到box外边去了。如果没有死亡，就把这个蛇头绘制出来，下边就看看绘制的代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function draw(seat, color) {\n    box.fillStyle = color;\n    box.fillRect(seat % 20 *20 \x2b 1, ~~(seat \/ 20) * 20 \x2b 1, 18, 18);\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3edraw\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eseat, color\x3c\/span\x3e) \x3c\/span\x3e{\n    box.fillStyle = color;\n    box.fillRect(seat % \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e *\x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, ~~(seat \/ \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e) * \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e18\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e18\x3c\/span\x3e);\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e  填充时填充\x3ccode\x3e18*18\x3c\/code\x3e的像素，留\x3ccode\x3e1px\x3c\/code\x3e边框。\x3ccode\x3e.fillRect()\x3c\/code\x3e中第一个参数就是要绘制的矩形的\x3ccode\x3ex\x3c\/code\x3e坐标\x3ccode\x3eseat % 20 *20 \x2b 1\x3c\/code\x3e，即先得到所要绘制的矩形块在方阵中的位置：第\x3ccode\x3e~~(seat \/ 20)\x3c\/code\x3e行，第\x3ccode\x3eseat % 20\x3c\/code\x3e列，再\x3ccode\x3e* 20 \x2b 1\x3c\/code\x3e具体到像素点。可能这个\x3ccode\x3e~~\x3c\/code\x3e有点难理解，我感觉在这里的用处应该和\x3ccode\x3eMath.floor()\x3c\/code\x3e差不多，可以用来截除小数，两者具体还有一些区别，可以去看《你不知道的js（中卷）》62页。    \x3cbr\x3e  回到\x3ccode\x3e47\x3c\/code\x3e行，又是一个判断语句，判断下次蛇头出现的位置是不是和当前的食物的位置相同，如果相同，生成下一个食物，食物的位置为一个随机数，但是要判断这个点不是出现在当前的蛇身上，绘制食物。如果没有吃到食物，即蛇在正常运动时，每向前一次，将蛇尾弹出，并利用其返回值将这个点重新绘制为黑色。  \x3cbr\x3e  最后的\x3ccode\x3esetTimeout\x3c\/code\x3e，循环执行当前函数，设置执行周期来调蛇的移动速度。  \x3cbr\x3e  到了这里，我们发现这条蛇已经可以动了，加上键盘的操作就完成了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22document.onkeydown = function(evt) {    \n    direction = snake[1] - snake[0] == (n = [-1, -20, 1, 20][(evt || event).keyCode - 37] || direction) ? direction : n;\n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.onkeydown = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eevt\x3c\/span\x3e) \x3c\/span\x3e{    \n    direction = snake[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] - snake[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e] == (n = [\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e-20\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3e][(evt || event).keyCode - \x3cspan class=\x22hljs-number\x22\x3e37\x3c\/span\x3e] || direction) ? direction : n;\n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e  将这个函数绑定到键盘事件上，\x3ccode\x3eevt || event\x3c\/code\x3e用法的原因\x3ca href=\x22https:\/\/zhidao.baidu.com\/question\/323191920.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里\x3c\/a\x3e有详细的解释，是为了兼容\x3ccode\x3eie\x3c\/code\x3e。  \x3cbr\x3e  三目运算符\x3ccode\x3e?\x3c\/code\x3e前边的判断语句又可分为两部分：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3esnake[1] - snake[0]\x3c\/code\x3e的值应该就是\x3ccode\x3e-direction\x3c\/code\x3e，按理说此处写成\x3ccode\x3e-direction\x3c\/code\x3e应该和原来是一个效果，那为什么没有这么做呢，因为如果这样写，玩家可能在一个函数周期中多次改变\x3ccode\x3edirection\x3c\/code\x3e的值，最后使得\x3ccode\x3edirection\x3c\/code\x3e和当前真正的运动方向不一致，导致游戏崩溃。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在\x3ccode\x3e==\x3c\/code\x3e后边，\x3ccode\x3e[-1, -20, 1, 20][(evt || event).keyCode - 37]\x3c\/code\x3e中前边的\x3ccode\x3e[]\x3c\/code\x3e是一个数组，后边的\x3ccode\x3e[]\x3c\/code\x3e是取索引，左上右下四个键的\x3ccode\x3ekeyCode\x3c\/code\x3e分别为\x3ccode\x3e37, 38, 39, 40\x3c\/code\x3e，计算后的索引为\x3ccode\x3e0, 1, 2, 3\x3c\/code\x3e，使方向键与\x3ccode\x3edirection\x3c\/code\x3e的取值对应起来。这里的巧妙之处在于如果按下的按键不是方向键，在数组中将得不到对应的值，返回\x3ccode\x3eundefine\x3c\/code\x3e。此时，由于之后的\x3ccode\x3e||\x3c\/code\x3e运算符，\x3ccode\x3en\x3c\/code\x3e会取到\x3ccode\x3edirection\x3c\/code\x3e原来的值。\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e  再用三目运算符来判断，如果按键方向不是反方向，就更新\x3ccode\x3edirection\x3c\/code\x3e的值。\x3c\/p\x3e\n\x3cblockquote\x3e\x3cp\x3e以上就是本篇的全部内容啦，虽然都是一些基础的东西，但是感觉还是挺好玩的。要是哪里理解的不对还希望指证出来，共同进步。\x3ca href=\x22https:\/\/kongchenglc.github.io\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e这里是我的博客\x3c\/a\x3e以及\x3ca href=\x22https:\/\/github.com\/kongchenglc\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3egithub\x3c\/a\x3e，欢迎来访\x3c\/p\x3e\x3c\/blockquote\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>20行代码的贪吃蛇</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009770460">https://segmentfault.com/a/1190000009770460</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/xx680r85vqk/" target="_blank">https://alili.tech/archive/xx680r85vqk/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>