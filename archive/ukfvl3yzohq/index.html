<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="ES6新语法疑点简析"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>ES6新语法疑点简析 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/ukfvl3yzohq/",
				"appid": "1613049289050283", 
				"title": "ES6新语法疑点简析 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-27T02:31:00"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/adal5cm5rlr/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/lfmj4xr00e/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&text=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&text=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&title=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&is_video=false&description=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&title=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&title=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&title=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fukfvl3yzohq%2f&title=ES6%e6%96%b0%e8%af%ad%e6%b3%95%e7%96%91%e7%82%b9%e7%ae%80%e6%9e%90"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">ES6新语法疑点简析</h1><div class="meta"><div class="postdate"><time datetime="2019-01-27" itemprop="datePublished">2019-01-27</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e本文涵盖了一些ES6新语法可能造成疑惑的地方和一些建议。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader0\x22\x3e1# 箭头函数\x3c\/h2\x3e\n\x3cp\x3e箭头函数看起来像是匿名函数表达式\x3ccode\x3efunction(){}\x3c\/code\x3e的简写，然而它不是。\x3c\/p\x3e\n\x3cp\x3e这个例子应该很容易看出来会有怎样的问题：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function Apple(){}\n\nApple.prototype.check = ()=\x3e{\n    console.log(this instanceof Apple);\n};\n\n(new Apple()).check() \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eApple\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{}\n\nApple.prototype.check = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3einstanceof\x3c\/span\x3e Apple);\n};\n\n(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Apple()).check() \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e使用apply、call、bind改变箭头函数的this指向呢？\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var i = 0;\nvar xx = ()=\x3e{ console.log(\x2b\x2bi, this) };\nvar yy = function(){ console.log(\x2b\x2bi, this) };\n\nxx();             \/\/ 1 window\nxx.apply([]);     \/\/ 2 window\nxx.bind([])();    \/\/ 3 window\nyy();             \/\/ 4 window\nyy.apply([]);     \/\/ 5 []\nyy.bind([])();    \/\/ 6 []\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e xx = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e=\x26gt;\x3c\/span\x3e{ \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x2b\x2bi, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e) };\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e yy = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{ \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x2b\x2bi, \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e) };\n\nxx();             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1 window\x3c\/span\x3e\nxx.apply([]);     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 2 window\x3c\/span\x3e\nxx.bind([])();    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 3 window\x3c\/span\x3e\nyy();             \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 4 window\x3c\/span\x3e\nyy.apply([]);     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 5 []\x3c\/span\x3e\nyy.bind([])();    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 6 []\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e显然apply、call、bind无法改变箭头函数的this指向，箭头函数的this确定后无法更改。\x3c\/p\x3e\n\x3cp\x3e在这些场景中不要使用箭头函数:\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e当你需要正常使用this binding时，如函数构造器、prototype\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e当你需要动态改变this的时候\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e针对工作报酬和代码量呈反比的程序猿，在需要用到this binding的场景里，可能比较适合的简写形式是在新对象字面量语法里提供的：\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var obj = {\n    hello() { \/\/ 少写了一个function耶！\n        console.log(\x27world\x27)\n    } \n};\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e obj = {\n    hello() { \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 少写了一个function耶！\x3c\/span\x3e\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27world\x27\x3c\/span\x3e)\n    } \n};\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader1\x22\x3e2# Promise\x3c\/h2\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e2.1# then\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/1\nfetch(xx, oo).then(handleResultAndReturnsAnPromise(result));\n\/\/2 \nfetch(xx, oo).then(handleResultAndReturnsAnPromise);\n\/\/3 \nfetch(xx, oo).then((result) =\x3e handleResultAndReturnsAnPromise(result));\n\/\/4\nfetch(xx, oo).then(function(result) { handleResultAndReturnsAnPromise(result) });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/1\x3c\/span\x3e\nfetch(xx, oo).then(handleResultAndReturnsAnPromise(result));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/2 \x3c\/span\x3e\nfetch(xx, oo).then(handleResultAndReturnsAnPromise);\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/3 \x3c\/span\x3e\nfetch(xx, oo).then(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e handleResultAndReturnsAnPromise(result));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/4\x3c\/span\x3e\nfetch(xx, oo).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eresult\x3c\/span\x3e) \x3c\/span\x3e{ handleResultAndReturnsAnPromise(result) });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e1与2、3、4均不等价：1同步调用了handleResultAndReturnsAnPromise；而2～4均会导致handleResultAndReturnsAnPromise在fetch之后完成\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e2与3\/4则是运行时的调用栈有区别，3\/4额外创建了一个匿名函数。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e3与4除了this binding的区别，4的调用返回值没有进行返回，这样将导致promise链断裂。\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e1中需要注意的是，\x3ccode\x3ethen(promise)\x3c\/code\x3e里面传一个 Promise 对象是没有什么意义的，它会被当成\x3ccode\x3ethen(null)\x3c\/code\x3e，在下面推荐的文章中，它被称作“Promise 穿透”\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e更多的令人混淆的案例，请继续阅读《\x3ca href=\x22http:\/\/efe.baidu.com\/blog\/promises-anti-pattern\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e谈谈使用 promise 时候的一些反模式\x3c\/a\x3e》。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e2.2# catch\x3c\/h3\x3e\n\x3cp\x3e在node的一些版本中，采用Promise并忘记给promise链增加\x3ccode\x3ecatch(fn)\x3c\/code\x3e或\x3ccode\x3ethen(null, fn)\x3c\/code\x3e，将导致代码中的异常被吞掉。\x3c\/p\x3e\n\x3cp\x3e这个问题在新的v8中（\x3ca href=\x22https:\/\/nodejs.org\/en\/blog\/release\/v6.6.0\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3enode 6.6\x2b\x3c\/a\x3e，chrome最新版）会导致一个\x3ccode\x3eUnhandledPromiseRejectionWarning\x3c\/code\x3e，防止开发遗漏。\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22node -e \x27Promise.reject()\x27\n# UnhandledPromiseRejectionWarning: Unhandled promise rejection\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3enode \x3cspan class=\x22hljs-_\x22\x3e-e\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27Promise.reject()\x27\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e# UnhandledPromiseRejectionWarning: Unhandled promise rejection\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e2.3# resolve\x3c\/h3\x3e\n\x3cp\x3ePromise接口和jQuery实现的接口不一样，\x3ccode\x3eresolve\x3c\/code\x3e只接受单参数，\x3ccode\x3ethen\x3c\/code\x3e的回调也只能拿到单参数。\x3c\/p\x3e\n\x3cp\x3e在Promise规范中的单参数链式调用场景下，可以利用解构、\x3ccode\x3e_.spread\x3c\/code\x3e、访问自由变量等方式来处理多个过程中得到的值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new Promise(function(resolve, reject){\n    let something = 1,\n        otherstuff = 2;\n    resolve({something, otherstuff});\n}).then(function({something, otherstuff}){\n    \/\/ handle something and otherstuff\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e something = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e,\n        otherstuff = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n    resolve({something, otherstuff});\n}).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e{something, otherstuff}\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ handle something and otherstuff\x3c\/span\x3e\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Promise.all([\n    Promise.resolve(40), Promise.resolve(36)\n]).then(\n    _.spread(function(first, second){\n        \/\/ first: 40, second: 36\n    })\n);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.all([\n    \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.resolve(\x3cspan class=\x22hljs-number\x22\x3e40\x3c\/span\x3e), \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e.resolve(\x3cspan class=\x22hljs-number\x22\x3e36\x3c\/span\x3e)\n]).then(\n    _.spread(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3efirst, second\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ first: 40, second: 36\x3c\/span\x3e\n    })\n);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let someMiddleResult;\nfetch()\n    .then(function(fetchResult){\n        someMiddleResult = fetchResult;\n    })\n    .then(otherHandleFn)\n    .then(function(otherHandleFnResult){\n        \/\/ use both someMiddleResult and otherHandleFnResult now\n    })\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs fortran\x22\x3e\x3ccode\x3elet someMiddleResult;\nfetch()\n    .\x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(fetchResult)\x3c\/span\x3e\x3c\/span\x3e{\n        someMiddleResult = fetchResult;\n    })\n    .\x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e(otherHandleFn)\n    .\x3cspan class=\x22hljs-keyword\x22\x3ethen\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(otherHandleFnResult)\x3c\/span\x3e\x3c\/span\x3e{\n        \/\/ \x3cspan class=\x22hljs-keyword\x22\x3euse\x3c\/span\x3e both someMiddleResult and otherHandleFnResult now\n    })\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e2.4# reject \/ throw\x3c\/h3\x3e\n\x3cp\x3e出现\x3ccode\x3ereject\x3c\/code\x3e接口，应该是第一次前端有机会拿异常处理流程做正常流程（比如\x3ca href=\x22https:\/\/segmentfault.com\/q\/1010000007933194\/a-1020000007933838\x22\x3e＊\x3c\/a\x3e）。不要这样做。\x3c\/p\x3e\n\x3cp\x3e由于\x3ccode\x3ereject(new Error(\x22\x22))\x3c\/code\x3e、\x3ccode\x3ethrow new Error(\x22\x22)\x3c\/code\x3e都能作为\x3ccode\x3ecatch\x3c\/code\x3e的入口，一些不可预知的错误被抛出的时候，这样的处理方式将会复杂化catch内的代码。不要用异常处理逻辑来做正常处理流程，这个规则保证了代码可读性与可维护性。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3ethrow\x3c\/code\x3e和\x3ccode\x3ereject\x3c\/code\x3e都可以作为\x3ccode\x3ecatch\x3c\/code\x3e的入口，它们更加详细的区别如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22new Promise((resolve, reject) =\x3e {\n    setTimeout(function(){\n        reject(new Error(\x27hello\x27));\n    });\n}).catch(() =\x3e console.log(\x27reject\x27));\n\/\/ reject\n\nnew Promise((resolve, reject) =\x3e {\n    setTimeout(function(){\n        throw new Error(\x27hello\x27);\n    });\n}).catch(() =\x3e console.log(\x27throw\x27));\n\/\/ Uncaught Error: hello\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        reject(\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e));\n    });\n}).catch(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27reject\x27\x3c\/span\x3e));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ reject\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3ePromise\x3c\/span\x3e(\x3cspan class=\x22hljs-function\x22\x3e(\x3cspan class=\x22hljs-params\x22\x3eresolve, reject\x3c\/span\x3e) =\x26gt;\x3c\/span\x3e {\n    setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27hello\x27\x3c\/span\x3e);\n    });\n}).catch(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-params\x22\x3e()\x3c\/span\x3e =\x26gt;\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27throw\x27\x3c\/span\x3e));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Uncaught Error: hello\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3ereject\x3c\/code\x3e能够“穿透”回调；而\x3ccode\x3ethrow\x3c\/code\x3e限于函数作用域，无法“穿透”回调。\x3c\/p\x3e\n\x3cp\x3e建议：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e正常流程请选择在\x3ccode\x3ethen\x3c\/code\x3e的时候\x3ccode\x3eif..else\x3c\/code\x3e，不要用\x3ccode\x3ereject\x3c\/code\x3e替代\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在需要走异常处理流程的时候封装\x3ccode\x3eError\x3c\/code\x3e抛出，可以最大化的化简\x3ccode\x3ecatch\x3c\/code\x3e回调里面的处理逻辑，类似于\x3ccode\x3ee instanceof MyDesignedError\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e由于回调函数里的\x3ccode\x3ethrow\x3c\/code\x3e无法被自动捕获到，如果需要在回调中\x3ccode\x3ereject\x3c\/code\x3e当前 promise，那么我们需要用\x3ccode\x3ereject\x3c\/code\x3e而不是\x3ccode\x3ethrow\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在使用\x3ccode\x3ePromise\x3c\/code\x3e接口的 polyfill 的场景，应当在\x3ccode\x3ereject\x3c\/code\x3e后加一个\x3ccode\x3ereturn\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3ch2 id=\x22articleHeader6\x22\x3e3# let \x26amp; const \x26amp; var\x3c\/h2\x3e\n\x3cp\x3e看起来\x3ccode\x3elet\x3c\/code\x3e和\x3ccode\x3econst\x3c\/code\x3e的组合就像是一个能完全灭掉\x3ccode\x3evar\x3c\/code\x3e的新特性，但对旧代码不能简单的正则替换掉\x3ccode\x3evar\x3c\/code\x3e，因为我们太习惯于滥用它的特性了——主要是声明提升。\x3c\/p\x3e\n\x3cp\x3e一些情形下会造成语法错误：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22try {\n    let a = 10;\n\n    if (a \x3e 2) {\n        throw new Error();\n    }\n\n    \/\/ ...\n} catch (err) {\n    console.log(a);\n    \/\/ 若为var声明，不报错\n    \/\/ 若为const、let声明：Uncaught ReferenceError: a is not defined\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3etry\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e a = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;\n\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (a \x26gt; \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) {\n        \x3cspan class=\x22hljs-keyword\x22\x3ethrow\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e \x3cspan class=\x22hljs-built_in\x22\x3eError\x3c\/span\x3e();\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ...\x3c\/span\x3e\n} \x3cspan class=\x22hljs-keyword\x22\x3ecatch\x3c\/span\x3e (err) {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a);\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 若为var声明，不报错\x3c\/span\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 若为const、let声明：Uncaught ReferenceError: a is not defined\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e除了\x3ccode\x3etry..catch\x3c\/code\x3e，隐式造就的块级作用域在\x3ccode\x3efor\x3c\/code\x3e和\x3ccode\x3eif..else\x3c\/code\x3e中也将造成问题：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22if(false) {\n    let my = \x27bad\x27;\n} else {\n    console.log(my); \/\/ ReferenceError: my is not defined\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(\x3cspan class=\x22hljs-literal\x22\x3efalse\x3c\/span\x3e) {\n    \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e my = \x3cspan class=\x22hljs-string\x22\x3e\x27bad\x27\x3c\/span\x3e;\n} \x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e {\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(my); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ ReferenceError: my is not defined\x3c\/span\x3e\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e解决方案倒是很简单，将作用域内的\x3ccode\x3elet\x3c\/code\x3e放在更靠外层的位置即可。\x3c\/p\x3e\n\x3cp\x3e\x3ccode\x3evar\x3c\/code\x3e、\x3ccode\x3elet\x3c\/code\x3e和\x3ccode\x3econst\x3c\/code\x3e的区别如下（部分参考自stackoverflow\x3ca href=\x22http:\/\/stackoverflow.com\/questions\/762011\/whats-the-difference-between-using-let-and-var-to-declare-a-variable\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e＊\x3c\/a\x3e）：\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e作用域：\x3ccode\x3elet\x3c\/code\x3e和\x3ccode\x3econst\x3c\/code\x3e将创造一个块级作用域，在作用域之外此变量不可见，作用域外访问将导致\x3ccode\x3eSyntaxError\x3c\/code\x3e；\x3ccode\x3evar\x3c\/code\x3e遵循函数级作用域\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e全局影响：全局作用域下的\x3ccode\x3evar\x3c\/code\x3e使用等同于设置\x3ccode\x3ewindow\x3c\/code\x3e\/\x3ccode\x3eglobal\x3c\/code\x3e之上的内容，但\x3ccode\x3elet\x3c\/code\x3e和\x3ccode\x3econst\x3c\/code\x3e不会\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e提升行为：\x3ccode\x3evar\x3c\/code\x3e声明有提升到当前函数作用域顶部的特性，但\x3ccode\x3econst\x3c\/code\x3e和\x3ccode\x3elet\x3c\/code\x3e没有，在声明前访问变量将导致\x3ccode\x3eSyntaxError\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e重新赋值：对\x3ccode\x3econst\x3c\/code\x3e变量所做的重新赋值将导致\x3ccode\x3eTypeError\x3c\/code\x3e，而\x3ccode\x3evar\x3c\/code\x3e和\x3ccode\x3elet\x3c\/code\x3e不会\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e重新声明：\x3ccode\x3evar\x3c\/code\x3e声明的变量使用\x3ccode\x3evar\x3c\/code\x3e再次声明不会出现\x3ccode\x3eSyntaxError\x3c\/code\x3e，但\x3ccode\x3econst\x3c\/code\x3e、\x3ccode\x3elet\x3c\/code\x3e声明的变量不能被重新声明，也不能覆盖掉之前任何形式的声明：\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var vVar = 1;\nconst vConst = 2;\nlet vLet = 3;\n\nvar vVar = 4;     \/\/ success\nlet vVar = 5;     \/\/ SyntaxError\nconst vVar = 6;   \/\/ SyntaxError\n\nvar vConst = 7;   \/\/ SyntaxError\nlet vConst = 8;   \/\/ SyntaxError\nconst vConst = 9; \/\/ SyntaxError\n\nvar vLet = 10;    \/\/ SyntaxError\nlet vLet = 11;    \/\/ SyntaxError\nconst vLet = 12;  \/\/ SyntaxError\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs cs\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e vVar = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e vConst = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e vLet = \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e vVar = \x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e;     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ success\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e vVar = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e;     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e vVar = \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e vConst = \x3cspan class=\x22hljs-number\x22\x3e7\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e vConst = \x3cspan class=\x22hljs-number\x22\x3e8\x3c\/span\x3e;   \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e vConst = \x3cspan class=\x22hljs-number\x22\x3e9\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\n\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e vLet = \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3e;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e vLet = \x3cspan class=\x22hljs-number\x22\x3e11\x3c\/span\x3e;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e vLet = \x3cspan class=\x22hljs-number\x22\x3e12\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ SyntaxError\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch2 id=\x22articleHeader7\x22\x3e4# 边界\x3c\/h2\x3e\n\x3cp\x3e本篇章集结 ES6 给予的不同边界条件，部分编译自 \x3ca href=\x22https:\/\/github.com\/getify\/You-Dont-Know-JS\/blob\/master\/es6%20%26%20beyond\/ch6.md\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eYou don\x27t know JS\x3c\/a\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e4.1# 函数默认参数值\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function before(a) { var a = a || 1; console.log(a); }\nfunction after(a = 1) { console.log(a); }\n\nbefore(NaN) \/\/ 1\nafter(NaN) \/\/ NaN\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3ebefore\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ea\x3c\/span\x3e) \x3c\/span\x3e{ \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e a = a || \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e; \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a); }\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eafter\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ea = \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e\x3c\/span\x3e) \x3c\/span\x3e{ \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(a); }\n\nbefore(\x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 1\x3c\/span\x3e\nafter(\x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ NaN\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e新的写法的fallback逻辑只针对\x3ccode\x3eundefined\x3c\/code\x3e有效。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e4.2# Object.assign\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3eObject.assign\x3c\/code\x3e将赋予所有的可枚举值，但不包含从原型链继承来的值：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22let arr = [1, 2, 3],\n    obj = {};\nObject.assign(obj, arr);\n\nobj[1] \/\/ 2\nobj.length \/\/ undefined\nObject.getOwnPropertyDescriptors(arr).length.enumerable \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3elet arr = [\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e],\n    obj = {};\nObject.assign(obj, arr);\n\nobj[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e] \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 2\x3c\/span\x3e\nobj.length \x3cspan class=\x22hljs-comment\x22\x3e\/\/ undefined\x3c\/span\x3e\nObject.getOwnPropertyDescriptors(arr).length.enumerable \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e此外：\x3ccode\x3eObject.assign\x3c\/code\x3e仅仅进行浅拷贝：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var orig = {\n    a: [1, 2, 3]\n},\n    nObj = {};\n\nObject.assign(nObj, orig);\norig.a.push(4);\nnObj.a \/\/ [1, 2, 3, 4]\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs delphi\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e orig = \x3cspan class=\x22hljs-comment\x22\x3e{\n    a: [1, 2, 3]\n}\x3c\/span\x3e,\n    nObj = \x3cspan class=\x22hljs-comment\x22\x3e{}\x3c\/span\x3e;\n\n\x3cspan class=\x22hljs-keyword\x22\x3eObject\x3c\/span\x3e.assign(nObj, orig);\norig.a.push(\x3cspan class=\x22hljs-number\x22\x3e4\x3c\/span\x3e);\nnObj.a \x3cspan class=\x22hljs-comment\x22\x3e\/\/ [1, 2, 3, 4]\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader10\x22\x3e4.3# NaN\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3eNumber.isNaN\x3c\/code\x3e和全局空间中的\x3ccode\x3eisNaN\x3c\/code\x3e的区别在于不存在隐式转换：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22isNaN(\x27number\x27) \/\/ true\nNumber.isNaN(\x27number\x27) \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs stylus\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3eisNaN\x3c\/span\x3e\x3cspan class=\x22hljs-params\x22\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27number\x27\x3c\/span\x3e)\x3c\/span\x3e\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\nNumber.isNaN(\x3cspan class=\x22hljs-string\x22\x3e\x27number\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eObject.is\x3c\/code\x3e除了区分\x3ca href=\x22http:\/\/www.cnblogs.com\/ziyunfei\/archive\/2012\/12\/10\/2777099.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e正负零这个非常小众的边界\x3c\/a\x3e，这个接口相对\x3ccode\x3e===\x3c\/code\x3e更大的意义是判断NaN：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Object.is(NaN, NaN); \/\/ true\nNaN === NaN; \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.is(\x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\n\x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e === \x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Object.is(\x2b0, -0); \/\/ false\n\x2b0 === -0; \/\/ true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3eObject\x3c\/span\x3e.is(\x2b\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e-0\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\n\x2b\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e === \x3cspan class=\x22hljs-number\x22\x3e-0\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e同样的，\x3ccode\x3earr.includes(xx)\x3c\/code\x3e比\x3ccode\x3earr.lastIndexOf(xx) \x26gt; -1\x3c\/code\x3e好的地方也包括对于NaN的处理：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22[1, 2, NaN].includes(NaN); \/\/ true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e].includes(\x3cspan class=\x22hljs-literal\x22\x3eNaN\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader11\x22\x3e4.4# Number\x3c\/h3\x3e\n\x3cp\x3e\x3ccode\x3eisFinite\x3c\/code\x3e和\x3ccode\x3eNumber.isFinite\x3c\/code\x3e的区别也是后者不存在隐式转换：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22isFinite(\x26quot;42\x26quot;);        \/\/ true\nNumber.isFinite(\x26quot;42\x26quot;); \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs elixir\x22\x3e\x3ccode\x3eisFinite(\x3cspan class=\x22hljs-string\x22\x3e\x2242\x22\x3c\/span\x3e);        \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3etrue\x3c\/span\x3e\nNumber.isFinite(\x3cspan class=\x22hljs-string\x22\x3e\x2242\x22\x3c\/span\x3e); \x3cspan class=\x22hljs-regexp\x22\x3e\/\/\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3efalse\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eNumber.isInteger\x3c\/code\x3e表示一个数是不是小数，和\x3ccode\x3ex === Math.floor(x)\x3c\/code\x3e的区别在于对\x3ccode\x3eInfinity\x3c\/code\x3e的处理\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Number.isInteger(Infinity);        \/\/ false\nInfinity === Math.floor(Infinity); \/\/ true\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs javascript\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e.isInteger(\x3cspan class=\x22hljs-literal\x22\x3eInfinity\x3c\/span\x3e);        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\n\x3cspan class=\x22hljs-literal\x22\x3eInfinity\x3c\/span\x3e === \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(\x3cspan class=\x22hljs-literal\x22\x3eInfinity\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eNumber.isSafeInteger\x3c\/code\x3e表示传入的数值有没有精度损失，它比较的是数字是否在\x3ccode\x3eNumber.MIN_SAFE_INTEGER\x3c\/code\x3e和\x3ccode\x3eNumber.MAX_SAFE_INTEGER\x3c\/code\x3e之间：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Number.isSafeInteger(Math.pow(2, 53) - 1); \/\/ true\nNumber.isSafeInteger(Math.pow(2, 53)); \/\/ false\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs lsl\x22\x3e\x3ccode\x3eNumber.isSafeInteger(Math.pow(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e53\x3c\/span\x3e) - \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ true\x3c\/span\x3e\nNumber.isSafeInteger(Math.pow(\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e53\x3c\/span\x3e)); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ false\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e我曾整理过Number的数轴(\x3ca href=\x22https:\/\/segmentfault.com\/a\/1190000000407658\x22\x3e＊\x3c\/a\x3e)，也写过\x3ca href=\x22http:\/\/alvarto.github.io\/VisualNumeric64\/#1\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eJavaScript中的一些数字内存模型的demo\x3c\/a\x3e，其中有一部分值没有直接的量来表示，但现在有了。\x3c\/p\x3e\n\x3cp\x3e从负无穷往正无穷来看，是这样的：\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eNumber.NEGATIVE_INFINITY\x3c\/code\x3e 负无穷\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3e-Number.MAX_VALUE\x3c\/code\x3e 能表示的最小数字，更小被视为负无穷，等于\x3ccode\x3e-(2^53-1)*(2^971)\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eNumber.MIN_SAFE_INTEGER\x3c\/code\x3e\x3csup\x3e（新）\x3c\/sup\x3e 没有精度误差的最小数，等于\x3ccode\x3e-(2^53-1)\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3e0\x3c\/code\x3e 正负零\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eNumber.EPSILON\x3c\/code\x3e\x3csup\x3e（新）\x3c\/sup\x3e IEEE 754规范下的精度位允许的最小差异值，等于\x3ccode\x3e2^-52\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eNumber.MIN_VALUE\x3c\/code\x3e 能表示的最小正整数，这是一个IEEE 754规范下的反规格化值，等于\x3ccode\x3e2^-1074\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eNumber.MAX_SAFE_INTEGER\x3c\/code\x3e\x3csup\x3e（新）\x3c\/sup\x3e 没有精度误差的最大数，，等于\x3ccode\x3e2^53-1\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eNumber.MAX_VALUE\x3c\/code\x3e 能表示的最大数字，更大被视为正无穷，等于\x3ccode\x3e(2^53-1)*(2^971)\x3c\/code\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e\x3ccode\x3eNumber.INFINITY\x3c\/code\x3e 正无穷\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e比较令人混淆的是\x3ccode\x3eNumber.EPSILON\x3c\/code\x3e和\x3ccode\x3eNumber.MIN_VALUE\x3c\/code\x3e，前者为精度位允许的最小差异值，考虑的是浮点数的精度位；而后者考虑的是利用到浮点数的所有位置能够表示的最小正数值。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader12\x22\x3e5# 怪奇错误展\x3c\/h2\x3e\n\x3cp\x3e本节收集了一些奇奇怪怪的错误提示，正常写出的代码不会导致它们，没有兴趣可以略过。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader13\x22\x3e5.1# 新接口的迭代器参数\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Array.from(1, 2, 3) \/\/ Array.of(1,2,3)的误调用\n\/\/ 2 is not a function\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e.from(\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Array.of(1,2,3)的误调用\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 2 is not a function\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3ccode\x3eArray.from\x3c\/code\x3e、\x3ccode\x3ePromise.all\x3c\/code\x3e接口及集合类构造器的参数，可以放入支持迭代器的内容，而不局限于数组（node 0.12\x2b兼容）。这里其实尝试去调用了参数的迭代器\x3ccode\x3eSymbol.iterator\x3c\/code\x3e。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader14\x22\x3e5.2# 新集合类容器的构造器\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22Array(); \/\/ []\nSet(); \/\/ Uncaught TypeError: Constructor Set requires \x27new\x27\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-built_in\x22\x3eArray\x3c\/span\x3e(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ []\x3c\/span\x3e\n\x3cspan class=\x22hljs-built_in\x22\x3eSet\x3c\/span\x3e(); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ Uncaught TypeError: Constructor Set requires \x27new\x27\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e集合类容器\x3ccode\x3eInt8Array\x3c\/code\x3e \x3ccode\x3eUint8Array\x3c\/code\x3e \x3ccode\x3eUint8ClampedArray\x3c\/code\x3e \x3ccode\x3eInt16Array\x3c\/code\x3e \x3ccode\x3eUint16Array\x3c\/code\x3e \x3ccode\x3eInt32Array\x3c\/code\x3e \x3ccode\x3eUint32Array\x3c\/code\x3e \x3ccode\x3eFloat32Array\x3c\/code\x3e \x3ccode\x3eFloat64Array\x3c\/code\x3e \x3ccode\x3eSet\x3c\/code\x3e不可以通过非new方式来构造。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader15\x22\x3e5.3# Tagged Template\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var x = 30\n`abcdefg`\n\/\/ Uncaught TypeError: 30 is not a function\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e x = \x3cspan class=\x22hljs-number\x22\x3e30\x3c\/span\x3e\n\x3cspan class=\x22hljs-string\x22\x3e`abcdefg`\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ Uncaught TypeError: 30 is not a function\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e模版语法可能是ES6最为显然的语法，但它的扩展形式Tagged Template在极端场景可能造成一个奇怪的报错，算是对不写分号党造成的又一个暴击\x3ca href=\x22https:\/\/zhuanlan.zhihu.com\/p\/24612490\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e＊\x3c\/a\x3e。\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader16\x22\x3e6# 欺负新来的\x3c\/h2\x3e\n\x3cp\x3e本篇章集结一些被滥用的特性。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader17\x22\x3e6.1\x3c\/h3\x3e\n\x3cp\x3e解构特性很棒，它可以在promise这样的单参数链式调用场景或是正则匹配场景中大方光芒，更为经典的是python风格的\x3ccode\x3e[y, x] = [x, y]\x3c\/code\x3e。\x3c\/p\x3e\n\x3cp\x3e但如果一个人铁了心要疯狂解构，新来维护这份代码的人就要默默流下痛苦的眼泪了：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 新人：是什么阻止了你用 a2 = [o1[a], o1[b], o1[c]] ……\nvar o1 = { a: 1, b: 2, c: 3 },\n    a2 = [];\n\n( { a: a2[0], b: a2[1], c: a2[2] } = o1 );\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs armasm\x22\x3e\x3ccode\x3e\/\/ 新人：是什么阻止了你用 \x3cspan class=\x22hljs-built_in\x22\x3ea2\x3c\/span\x3e = [o1[a], o1[\x3cspan class=\x22hljs-keyword\x22\x3eb], \x3c\/span\x3eo1[c]] ……\n\x3cspan class=\x22hljs-symbol\x22\x3evar\x3c\/span\x3e o1 = { a: \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e, \x3cspan class=\x22hljs-keyword\x22\x3eb: \x3c\/span\x3e\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e, c: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3e },\n    \x3cspan class=\x22hljs-built_in\x22\x3ea2\x3c\/span\x3e = []\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\n\n( { a: \x3cspan class=\x22hljs-built_in\x22\x3ea2\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e], \x3cspan class=\x22hljs-keyword\x22\x3eb: \x3c\/span\x3e\x3cspan class=\x22hljs-built_in\x22\x3ea2\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e], c: \x3cspan class=\x22hljs-built_in\x22\x3ea2\x3c\/span\x3e[\x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e] } = o1 )\x3cspan class=\x22hljs-comment\x22\x3e;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 老人：看得爽吗\nvar { a: { b: [ c, d ], e: { f } }, g } = obj;\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 老人：看得爽吗\x3c\/span\x3e\nvar { \x3cspan class=\x22hljs-string\x22\x3ea:\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3eb:\x3c\/span\x3e [ c, d ], \x3cspan class=\x22hljs-string\x22\x3ee:\x3c\/span\x3e { f } }, g } = obj;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 主管：写到一半这个程序猿已经被打死了\nvar x = 200, y = 300, z = 100;\nvar o1 = { x: { y: 42 }, z: { y: z } };\n\n( { y: x = { y: y } } = o1 );\n( { z: y = { y: z } } = o1 );\n( { x: z = { y: x } } = o1 );\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs groovy\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 主管：写到一半这个程序猿已经被打死了\x3c\/span\x3e\nvar x = \x3cspan class=\x22hljs-number\x22\x3e200\x3c\/span\x3e, y = \x3cspan class=\x22hljs-number\x22\x3e300\x3c\/span\x3e, z = \x3cspan class=\x22hljs-number\x22\x3e100\x3c\/span\x3e;\nvar o1 = { \x3cspan class=\x22hljs-string\x22\x3ex:\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3ey:\x3c\/span\x3e \x3cspan class=\x22hljs-number\x22\x3e42\x3c\/span\x3e }, \x3cspan class=\x22hljs-string\x22\x3ez:\x3c\/span\x3e { \x3cspan class=\x22hljs-string\x22\x3ey:\x3c\/span\x3e z } };\n\n( { \x3cspan class=\x22hljs-string\x22\x3ey:\x3c\/span\x3e x = { \x3cspan class=\x22hljs-string\x22\x3ey:\x3c\/span\x3e y } } = o1 );\n( { \x3cspan class=\x22hljs-string\x22\x3ez:\x3c\/span\x3e y = { \x3cspan class=\x22hljs-string\x22\x3ey:\x3c\/span\x3e z } } = o1 );\n( { \x3cspan class=\x22hljs-string\x22\x3ex:\x3c\/span\x3e z = { \x3cspan class=\x22hljs-string\x22\x3ey:\x3c\/span\x3e x } } = o1 );\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e一个可以尝试的保持代码可读性的方法，是尽量保证解构的层次低。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader18\x22\x3e6.2\x3c\/h3\x3e\n\x3cp\x3e新对象字面量也很不错，新的rest操作符也很实用，但是如果你们把它们混在一起……下面进一段代码赏析（\x3ca href=\x22http:\/\/www.zcfy.cc\/article\/es6-is-great-but-use-it-cautiously-sergey-abakumoff-medium-1761.html\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e＊\x3c\/a\x3e）：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22export const sharePostStatus = createReducer( {}, {\n    [ PUBLICIZE_SHARE ]: ( state, { siteId, postId } ) =\x3e ( { ...state, [ siteId ]: { ...state[ siteId ], [ postId ]: {\n        requesting: true,\n    } } } ),\n    [ PUBLICIZE_SHARE_SUCCESS ]: ( state, { siteId, postId } ) =\x3e ( { ...state, [ siteId ]: { ...state[ siteId ], [ postId ]: {\n        requesting: false,\n        success: true,\n    } } } ),\n    [ PUBLICIZE_SHARE_FAILURE ]: ( state, { siteId, postId, error } ) =\x3e ( { ...state, [ siteId ]: { ...state[ siteId ], [ postId ]: {\n        requesting: false,\n        success: false,\n        error,\n    } } } ),\n    [ PUBLICIZE_SHARE_DISMISS ]: ( state, { siteId, postId } ) =\x3e ( { ...state, [ siteId ]: {\n        ...state[ siteId ], [ postId ]: undefined\n    } } ),\n} );\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs pf\x22\x3e\x3ccode\x3eexport const sharePostStatus = createReducer( {}, {\n    [ PUBLICIZE_SHARE ]: ( \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { siteId, postId } ) =\x26gt; ( { ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, [ siteId ]: { ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e[ siteId ], [ postId ]: {\n        requesting: true,\n    } } } ),\n    [ PUBLICIZE_SHARE_SUCCESS ]: ( \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { siteId, postId } ) =\x26gt; ( { ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, [ siteId ]: { ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e[ siteId ], [ postId ]: {\n        requesting: false,\n        success: true,\n    } } } ),\n    [ PUBLICIZE_SHARE_FAILURE ]: ( \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { siteId, postId, error } ) =\x26gt; ( { ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, [ siteId ]: { ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e[ siteId ], [ postId ]: {\n        requesting: false,\n        success: false,\n        error,\n    } } } ),\n    [ PUBLICIZE_SHARE_DISMISS ]: ( \x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, { siteId, postId } ) =\x26gt; ( { ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e, [ siteId ]: {\n        ...\x3cspan class=\x22hljs-keyword\x22\x3estate\x3c\/span\x3e[ siteId ], [ postId ]: undefined\n    } } ),\n} );\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e尽可能的保持代码的可读性，一行只用不超过2个ES6特性或许是一个可操作的方案。\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>ES6新语法疑点简析</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008203048">https://segmentfault.com/a/1190000008203048</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/ukfvl3yzohq/" target="_blank">https://alili.tech/archive/ukfvl3yzohq/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>