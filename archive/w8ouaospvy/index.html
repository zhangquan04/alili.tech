<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="星星组件star.vue"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>星星组件star.vue | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/w8ouaospvy/",
				"appid": "1613049289050283", 
				"title": "星星组件star.vue | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-15T02:30:12"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/84nr940nody/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/nam0wflavuf/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&text=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&text=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&title=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&is_video=false&description=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&title=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&title=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&title=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fw8ouaospvy%2f&title=%e6%98%9f%e6%98%9f%e7%bb%84%e4%bb%b6star.vue"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">星星组件star.vue</h1><div class="meta"><div class="postdate"><time datetime="2019-01-15" itemprop="datePublished">2019-01-15</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cp\x3e整个流程是:\x3c\/p\x3e\n\x3col\x3e\n\x3cli\x3e\x3cp\x3e绑定星星类型的class(48,36,24尺寸),使用starType\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用class来显示星星,有3种类型,全星,半星,无星,使用star-item代表星星本身,然后分别使用on,off,half代表三种不同类型的星星\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e一个span代表一个星星项目,并且使用v-for循环将星星项目输出\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ol\x3e\n\x3cp\x3e组合出来的星星html就类似这样\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;star star-48\x26quot;\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item on\x26quot;\x3e\x3c\/span\x3e\n\x3cspan class=\x26quot;star-item half\x26quot;\x3e\x3c\/span\x3e\n\x3c\/div\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star star-48\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item on\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item half\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3ehtml部分\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ctemplate\x3e\n  \x3cdiv class=\x26quot;star\x26quot; :class=\x26quot;starType\x26quot;\x3e\n    \x3cspan v-for=\x26quot;itemClass in itemClasses\x26quot; :class=\x26quot;itemClass\x26quot; class=\x26quot;star-item\x26quot;\x3e\x3c\/span\x3e\n  \x3c\/div\x3e\n\x3c\/template\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22starType\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ev-for\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22itemClass in itemClasses\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3e:class\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22itemClass\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eclass\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22star-item\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3espan\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n  \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etemplate\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3ejs部分\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e设置常量是为了方便解耦\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e星星计算比较巧妙(根据分数转换为星星数)\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e对于分数score进行\x3cem\x3e2然后向下取整,然后再除以2,是为了获取所有星星的数量,并且这个数量是0.5倍数的,例如4.6 \x3c\/em\x3e 2就是9.2,然后向下取整是9,然后再除以2就是4.5,那么就可以得到一个0.5倍数的星星数,可以转换为4个全星\x2b一个半星\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e对于非整数的星星算作是半个星星,需要知道是否有存在这种情况,所以分数score%1 ,例如8 % 1是0, 8.5 % 1就不是0,并且这个半星只会出现一次,因为半星状态就只要一个\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e没有星星的部分是要补全的,这里使用while循环来处理这种情况\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript\x3e\n  \/\/设置常量\n  const LENGTH = 5;\n  const CLS_ON = \x27on\x27;\n  const CLS_HALF = \x27half\x27;\n  const CLS_OFF = \x27off\x27;\n\n  export default{\n    props: {\n      size: { \/\/传入的size变量\n        type: Number \/\/设置变量类型\n      },\n      score: { \/\/传入的score变量\n        type: Number\n      }\n    },\n    computed: {\n      starType(){ \/\/通过计算属性,返回组装过的类型,用来对应class类型\n        return \x27star-\x27 \x2b this.size;\n      },\n      itemClasses(){\n        let result = []; \/\/返回的是一个数组,用来遍历输出星星\n        let score = Math.floor(this.score * 2) \/ 2; \/\/计算所有星星的数量\n        let hasDecimal = score % 1 !== 0; \/\/非整数星星判断\n        let integer = Math.floor(score); \/\/整数星星判断\n        for (let i = 0; i \x3c integer; i\x2b\x2b) { \/\/整数星星使用on\n          result.push(CLS_ON);\/\/一个整数星星就push一个CLS_ON到数组\n        }\n        if (hasDecimal) { \/\/非整数星星使用half\n          result.push(CLS_HALF);\/\/类似\n        }\n        while (result.length \x3c LENGTH) { \/\/余下的用无星星补全,使用off\n          result.push(CLS_OFF);\/\/类似\n        }\n        return result;\n      }\n    }\n  }\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x26lt;script\x26gt;\n  \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置常量\x3c\/span\x3e\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e LENGTH = \x3cspan class=\x22hljs-number\x22\x3e5\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CLS_ON = \x3cspan class=\x22hljs-string\x22\x3e\x27on\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CLS_HALF = \x3cspan class=\x22hljs-string\x22\x3e\x27half\x27\x3c\/span\x3e;\n  \x3cspan class=\x22hljs-keyword\x22\x3econst\x3c\/span\x3e CLS_OFF = \x3cspan class=\x22hljs-string\x22\x3e\x27off\x27\x3c\/span\x3e;\n\n  \x3cspan class=\x22hljs-keyword\x22\x3eexport\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3edefault\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-attr\x22\x3eprops\x3c\/span\x3e: {\n      \x3cspan class=\x22hljs-attr\x22\x3esize\x3c\/span\x3e: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/传入的size变量\x3c\/span\x3e\n        type: \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/设置变量类型\x3c\/span\x3e\n      },\n      \x3cspan class=\x22hljs-attr\x22\x3escore\x3c\/span\x3e: { \x3cspan class=\x22hljs-comment\x22\x3e\/\/传入的score变量\x3c\/span\x3e\n        type: \x3cspan class=\x22hljs-built_in\x22\x3eNumber\x3c\/span\x3e\n      }\n    },\n    \x3cspan class=\x22hljs-attr\x22\x3ecomputed\x3c\/span\x3e: {\n      starType(){ \x3cspan class=\x22hljs-comment\x22\x3e\/\/通过计算属性,返回组装过的类型,用来对应class类型\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x27star-\x27\x3c\/span\x3e \x2b \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.size;\n      },\n      itemClasses(){\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e result = []; \x3cspan class=\x22hljs-comment\x22\x3e\/\/返回的是一个数组,用来遍历输出星星\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e score = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e.score * \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e) \/ \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/计算所有星星的数量\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e hasDecimal = score % \x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e !== \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/非整数星星判断\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e integer = \x3cspan class=\x22hljs-built_in\x22\x3eMath\x3c\/span\x3e.floor(score); \x3cspan class=\x22hljs-comment\x22\x3e\/\/整数星星判断\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3efor\x3c\/span\x3e (\x3cspan class=\x22hljs-keyword\x22\x3elet\x3c\/span\x3e i = \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e; i \x26lt; integer; i\x2b\x2b) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/整数星星使用on\x3c\/span\x3e\n          result.push(CLS_ON);\x3cspan class=\x22hljs-comment\x22\x3e\/\/一个整数星星就push一个CLS_ON到数组\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e (hasDecimal) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/非整数星星使用half\x3c\/span\x3e\n          result.push(CLS_HALF);\x3cspan class=\x22hljs-comment\x22\x3e\/\/类似\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ewhile\x3c\/span\x3e (result.length \x26lt; LENGTH) { \x3cspan class=\x22hljs-comment\x22\x3e\/\/余下的用无星星补全,使用off\x3c\/span\x3e\n          result.push(CLS_OFF);\x3cspan class=\x22hljs-comment\x22\x3e\/\/类似\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e result;\n      }\n    }\n  }\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/script\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3ecss部分\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e引入mixin.styl是为了使用bg-image的mixin,因为之前做了一个mixin是专门处理2x和3x图片的转换\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e因为这里有3种类型的星星图片,分别是48尺寸,36尺寸,24尺寸,所以对于每一个类别的图片分别使用一种class做对应\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e每一种星星的尺寸都是有一种相对应的图片的,例如48尺寸的星星就会有,并且图片放在相对应的vue文件目录下\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22star48_half@2x.png\nstar48_half@3x.png\nstar48_off@2x.png\nstar48_off@3x.png\nstar48_on@2x.png\nstar48_on@3x.png\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs llvm\x22\x3e\x3ccode\x3estar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_half\x3cspan class=\x22hljs-title\x22\x3e@2\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_half\x3cspan class=\x22hljs-title\x22\x3e@3\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_off\x3cspan class=\x22hljs-title\x22\x3e@2\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_off\x3cspan class=\x22hljs-title\x22\x3e@3\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_on\x3cspan class=\x22hljs-title\x22\x3e@2\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\nstar\x3cspan class=\x22hljs-number\x22\x3e48\x3c\/span\x3e_on\x3cspan class=\x22hljs-title\x22\x3e@3\x3c\/span\x3e\x3cspan class=\x22hljs-keyword\x22\x3ex\x3c\/span\x3e.png\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cstyle lang=\x26quot;stylus\x26quot; rel=\x26quot;stylesheet\/stylus\x26quot;\x3e\n  @import \x26quot;..\/..\/common\/stylus\/mixin.styl\x26quot; \/\/引入mixin文件\n\n  .star\n    .star-item\n      display: inline-block\n      background-repeat: no-repeat\n    \x26amp;.star-48 \/\/48尺寸的星星\n      .star-item \/\/每一个星星的基本css信息\n        width: 20px\n        height: 20px\n        margin-right: 22px \/\/每一个星星dom都有外边距\n        background-size: 20px 20px\n        \x26amp;:last-child \/\/最后一个的外边距就是0\n          margin-right: 0\n        \x26amp;.on \/\/全星状态的class\n          bg-image(\x27star48_on\x27)\n        \x26amp;.half \/\/半星状态的class\n          bg-image(\x27star48_half\x27)\n        \x26amp;.off \/\/无星状态的class\n          bg-image(\x27star48_off\x27)\n    \x26amp;.star-36\n      .star-item\n        width: 15px\n        height: 15px\n        margin-right: 6px\n        background-size: 15px 15px\n      \x26amp;:last-child\n        margin-right: 0\n      \x26amp;.on\n        bg-image(\x27star36_on\x27)\n      \x26amp;.half\n        bg-image(\x27star36_half\x27)\n      \x26amp;.off\n        bg-image(\x27star36_off\x27)\n    \x26amp;.star-24\n      .star-item\n        width: 10px\n        height: 10px\n        margin-right: 3px\n        background-size: 10px 10px\n      \x26amp;:last-child\n        margin-right: 0\n      \x26amp;.on\n        bg-image(\x27star24_on\x27)\n      \x26amp;.half\n        bg-image(\x27star24_half\x27)\n      \x26amp;.off\n        bg-image(\x27star24_off\x27)\n\x3c\/style\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x26lt;style lang=\x3cspan class=\x22hljs-string\x22\x3e\x22stylus\x22\x3c\/span\x3e rel=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\/stylus\x22\x3c\/span\x3e\x26gt;\n  @\x3cspan class=\x22hljs-keyword\x22\x3eimport\x3c\/span\x3e \x3cspan class=\x22hljs-string\x22\x3e\x22..\/..\/common\/stylus\/mixin.styl\x22\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/引入mixin文件\x3c\/span\x3e\n\n  .star\n    .star-item\n      display: inline-block\n      background-repeat: no-repeat\n    \x26amp;.star\x3cspan class=\x22hljs-number\x22\x3e-48\x3c\/span\x3e \x3cspan class=\x22hljs-comment\x22\x3e\/\/48尺寸的星星\x3c\/span\x3e\n      .star-item \x3cspan class=\x22hljs-comment\x22\x3e\/\/每一个星星的基本css信息\x3c\/span\x3e\n        width: \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx\n        height: \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx\n        margin-right: \x3cspan class=\x22hljs-number\x22\x3e22\x3c\/span\x3epx \x3cspan class=\x22hljs-comment\x22\x3e\/\/每一个星星dom都有外边距\x3c\/span\x3e\n        background-size: \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e20\x3c\/span\x3epx\n        \x26amp;:last-child \x3cspan class=\x22hljs-comment\x22\x3e\/\/最后一个的外边距就是0\x3c\/span\x3e\n          margin-right: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n        \x26amp;.on \x3cspan class=\x22hljs-comment\x22\x3e\/\/全星状态的class\x3c\/span\x3e\n          bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star48_on\x27\x3c\/span\x3e)\n        \x26amp;.half \x3cspan class=\x22hljs-comment\x22\x3e\/\/半星状态的class\x3c\/span\x3e\n          bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star48_half\x27\x3c\/span\x3e)\n        \x26amp;.off \x3cspan class=\x22hljs-comment\x22\x3e\/\/无星状态的class\x3c\/span\x3e\n          bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star48_off\x27\x3c\/span\x3e)\n    \x26amp;.star\x3cspan class=\x22hljs-number\x22\x3e-36\x3c\/span\x3e\n      .star-item\n        width: \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx\n        height: \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx\n        margin-right: \x3cspan class=\x22hljs-number\x22\x3e6\x3c\/span\x3epx\n        background-size: \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e15\x3c\/span\x3epx\n      \x26amp;:last-child\n        margin-right: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n      \x26amp;.on\n        bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star36_on\x27\x3c\/span\x3e)\n      \x26amp;.half\n        bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star36_half\x27\x3c\/span\x3e)\n      \x26amp;.off\n        bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star36_off\x27\x3c\/span\x3e)\n    \x26amp;.star\x3cspan class=\x22hljs-number\x22\x3e-24\x3c\/span\x3e\n      .star-item\n        width: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx\n        height: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx\n        margin-right: \x3cspan class=\x22hljs-number\x22\x3e3\x3c\/span\x3epx\n        background-size: \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx \x3cspan class=\x22hljs-number\x22\x3e10\x3c\/span\x3epx\n      \x26amp;:last-child\n        margin-right: \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e\n      \x26amp;.on\n        bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star24_on\x27\x3c\/span\x3e)\n      \x26amp;.half\n        bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star24_half\x27\x3c\/span\x3e)\n      \x26amp;.off\n        bg-image(\x3cspan class=\x22hljs-string\x22\x3e\x27star24_off\x27\x3c\/span\x3e)\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/style\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>星星组件star.vue</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009282186">https://segmentfault.com/a/1190000009282186</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/w8ouaospvy/" target="_blank">https://alili.tech/archive/w8ouaospvy/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>