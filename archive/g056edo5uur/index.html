<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="用express搭建网站"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>用express搭建网站 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/g056edo5uur/",
				"appid": "1613049289050283", 
				"title": "用express搭建网站 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-02-02T02:30:11"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/e9jrpjhbwdk/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/yw36f2ygu9/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&text=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&text=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&title=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&is_video=false&description=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&title=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&title=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&title=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fg056edo5uur%2f&title=%e7%94%a8express%e6%90%ad%e5%bb%ba%e7%bd%91%e7%ab%99"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">用express搭建网站</h1><div class="meta"><div class="postdate"><time datetime="2019-02-02" itemprop="datePublished">2019-02-02</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3ch3 id=\x22articleHeader0\x22\x3e先建个简单的服务器\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e当然你先得安装express npm install express\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/使用express，如果这里的代码复制后运行不了请移步我的github下载源码,顺手star给我个小星星鼓励哈\n\/\/http:\/\/github.com\/sally2015\/express-project\n\/\/ npm install  运行node main 后访问loaclhost:3000\nvar express = require(\x27express\x27);\nvar app = express();\napp.set(\x27port\x27, process.env.PORT || 3000);\n\napp.get(\x27\/\x27,function(req, res){\n    res.send(\x27home\x27);\n    \n});\napp.use(\x27\/about\x27,function(req, res){\n    res.send(\x27about\x27);\n    \n});\napp.use(function(req, res){\n\n\n    res.send(\x27404\x27);\n    \n});\n\napp.use(function(req, res, next){\n\n    res.send(\x27500\x27);\n});\n\napp.listen(app.get(\x27port\x27), function () {\n    console.log(\x27Express started on http:localhost\x27\x2bapp.get(\x27port\x27));\n});\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/使用express，如果这里的代码复制后运行不了请移步我的github下载源码,顺手star给我个小星星鼓励哈\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/http:\/\/github.com\/sally2015\/express-project\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ npm install  运行node main 后访问loaclhost:3000\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e express = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27express\x27\x3c\/span\x3e);\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e app = express();\napp.set(\x3cspan class=\x22hljs-string\x22\x3e\x27port\x27\x3c\/span\x3e, process.env.PORT || \x3cspan class=\x22hljs-number\x22\x3e3000\x3c\/span\x3e);\n\napp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res\x3c\/span\x3e)\x3c\/span\x3e{\n    res.send(\x3cspan class=\x22hljs-string\x22\x3e\x27home\x27\x3c\/span\x3e);\n    \n});\napp.use(\x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e,\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res\x3c\/span\x3e)\x3c\/span\x3e{\n    res.send(\x3cspan class=\x22hljs-string\x22\x3e\x27about\x27\x3c\/span\x3e);\n    \n});\napp.use(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res\x3c\/span\x3e)\x3c\/span\x3e{\n\n\n    res.send(\x3cspan class=\x22hljs-string\x22\x3e\x27404\x27\x3c\/span\x3e);\n    \n});\n\napp.use(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res, next\x3c\/span\x3e)\x3c\/span\x3e{\n\n    res.send(\x3cspan class=\x22hljs-string\x22\x3e\x27500\x27\x3c\/span\x3e);\n});\n\napp.listen(app.get(\x3cspan class=\x22hljs-string\x22\x3e\x27port\x27\x3c\/span\x3e), \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n    \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27Express started on http:localhost\x27\x3c\/span\x3e\x2bapp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27port\x27\x3c\/span\x3e));\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eapp.use(function(req,res,next){})默认匹配的路由是‘\/’，多个use要使用next()方法，但是使用了，res.end()或者res.send()就不能使用next到达下一个use了\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eapp.get()是添加路由的方法，忽略大小写，反斜杠，进行匹配时不考虑查询字符串\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/不使用express你可能要这么写\n\/*\n* var http = require(\x27http\x27);\n* var server =  http.createServer(function(req, res){\n*    if(req.url === \x27\/\x27){\n        res.setHeader(\x27Content-type\x27,\x27text-plain\x27);\n        res.write(\x27……\x27);\x26amp;\x26amp;res.end();\n*   }\n*}).listen(3000,\x27localhost\x27);\n*\/\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/不使用express你可能要这么写\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/*\n* var http = require(\x27http\x27);\n* var server =  http.createServer(function(req, res){\n*    if(req.url === \x27\/\x27){\n        res.setHeader(\x27Content-type\x27,\x27text-plain\x27);\n        res.write(\x27……\x27);\x26amp;\x26amp;res.end();\n*   }\n*}).listen(3000,\x27localhost\x27);\n*\/\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e对定制的404页面和500页面的处理与对普通页面的处理有所区别，用的不是app.get,而是app.use。app.use是express添加中间件的一种方法\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eexpress中路由和中间件的添加顺序至关重要，如果把404处理器放在所有的路由上面，普通页面的路由就不能用了\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eexpress能根据回调函数中的参数区分404和500处理器\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e使用handlebars\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e(defaultLayout:\x27main\x27)意味着除非你特别指明否则所有的视图都是这个布局\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var handlebars = require(\x27express3-handlebars\x27) \/\/现在已经重命名为express-handlebar了，由于牵一发可能要动全身，我这里就不改了\n.create({ \n    defaultLayout: \x27main\x27, \/\/ 设置默认布局为\n});\n\napp.engine(\x27handlebars\x27, handlebars.engine); \/\/ 将express模板引擎配置成handlebars \napp.set(\x27view engine\x27, \x27handlebars\x27);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e handlebars = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27express3-handlebars\x27\x3c\/span\x3e) \x3cspan class=\x22hljs-comment\x22\x3e\/\/现在已经重命名为express-handlebar了，由于牵一发可能要动全身，我这里就不改了\x3c\/span\x3e\n.create({ \n    \x3cspan class=\x22hljs-attr\x22\x3edefaultLayout\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x27main\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 设置默认布局为\x3c\/span\x3e\n});\n\napp.engine(\x3cspan class=\x22hljs-string\x22\x3e\x27handlebars\x27\x3c\/span\x3e, handlebars.engine); \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 将express模板引擎配置成handlebars \x3c\/span\x3e\napp.set(\x3cspan class=\x22hljs-string\x22\x3e\x27view engine\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-string\x22\x3e\x27handlebars\x27\x3c\/span\x3e);\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e创建一个views\/layouts\/main.handlebars文件\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x26lt;html lang=\x22en\x22\x26gt;\x3cbr\x3e\x26lt;head\x26gt;\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cmeta charset=\x26quot;UTF-8\x26quot;\x3e\n\x3ctitle\x3eDocument\x3c\/title\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs xml\x22\x3e\x3ccode\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3emeta\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3echarset\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22UTF-8\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eDocument\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x26lt;\/head\x26gt;\x3cbr\x3e\x26lt;body\x26gt;\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x22{{\x22{body\x22}}\x22}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs clojure\x22\x3e\x3ccode style=\x22word-break: break-word; white-space: initial;\x22\x3e\x22{{\x22{body\x22}}\x22}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x26lt;\/body\x26gt;\x3cbr\x3e\x26lt;html\x26gt;\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22- \x22{{\x22{body\x22}}\x22}注意这里是三个大括号，这个表达式会被每个视图自己的html取代\n- 分别创建首页、关于、404、500页面，后缀名都是handlebars\n  - ```html\nviews\/home.handlebars\n=\x3e \x3ch1\x3ewelcome to home\x3c\/h1\x3e\nviews\/about.handlebars\n =\x3e\x3ch1\x3ewelcome to about\x3c\/h1\x3e\nviews\/404.handlebars\n =\x3e\x3ch1\x3enot found - 404\x3c\/h1\x3e\nviews\/500.handlebars\n =\x3e\x3ch1\x3e500 server error\x3c\/h1\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22hljs haml\x22\x3e\x3ccode\x3e-\x3cspan class=\x22ruby\x22\x3e \x22{{\x22{body\x22}}\x22}注意这里是三个大括号，这个表达式会被每个视图自己的html取代\n\x3c\/span\x3e-\x3cspan class=\x22ruby\x22\x3e 分别创建首页、关于、\x3cspan class=\x22hljs-number\x22\x3e404\x3c\/span\x3e、\x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e页面，后缀名都是handlebars\n\x3c\/span\x3e  -\x3cspan class=\x22ruby\x22\x3e \x3cspan class=\x22hljs-string\x22\x3e``\x3c\/span\x3e\x3cspan class=\x22hljs-string\x22\x3e`html\n\x3c\/span\x3e\x3c\/span\x3eviews\/home.handlebars\n=\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x26gt; \x26lt;h1\x26gt;welcome to home\x26lt;\/h1\x26gt;\n\x3c\/span\x3e\x3c\/span\x3eviews\/about.handlebars\n =\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x26gt;\x26lt;h1\x26gt;welcome to about\x26lt;\/h1\x26gt;\n\x3c\/span\x3e\x3c\/span\x3eviews\/404.handlebars\n =\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x26gt;\x26lt;h1\x26gt;not found - 404\x26lt;\/h1\x26gt;\n\x3c\/span\x3e\x3c\/span\x3eviews\/500.handlebars\n =\x3cspan class=\x22ruby\x22\x3e\x3cspan class=\x22hljs-string\x22\x3e\x26gt;\x26lt;h1\x26gt;500 server error\x26lt;\/h1\x26gt;\n\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader2\x22\x3e视图和静态文件\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3eexpress靠中间件处理静态文件和视图，中间件是一种模块化手段，使请求处理更加容易\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3estatic中间件可以将一个或多个目录指派为包含静态资源的目录，其中的资源不经过特殊处理直接发送到客户端\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22app.use(express.static(__dirname\x2b\x27\/public\x27));\n\/\/现在所有文件都可以相对public直接进行访问，例如public下面有一个img文\n\/\/件夹，那么在handlebars中(不需要理会在handlebars的目录结构)直接访问\n\/\/路径\/img\/logo.png\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eapp.use(express.static(__dirname\x2b\x3cspan class=\x22hljs-string\x22\x3e\x27\/public\x27\x3c\/span\x3e));\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/现在所有文件都可以相对public直接进行访问，例如public下面有一个img文\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/件夹，那么在handlebars中(不需要理会在handlebars的目录结构)直接访问\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/路径\/img\/logo.png\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e视图和静态资源的区别是它不一定是静态的，html可以动态构建\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在项目下建一个public的子目录，应该把static中间件加载所有路由之前\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader3\x22\x3e向handlebars里传递参数\x3c\/h3\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var args = \x27its a arguments\x27;\/\/虚拟一个参数\n\/\/修改此时的about路由\napp.get(\x27\/about\x27, function(req,res){\n    \n    res.render(\x27about\x27, {args:args});\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e args = \x3cspan class=\x22hljs-string\x22\x3e\x27its a arguments\x27\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/虚拟一个参数\x3c\/span\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/修改此时的about路由\x3c\/span\x3e\napp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq,res\x3c\/span\x3e)\x3c\/span\x3e{\n    \n    res.render(\x3cspan class=\x22hljs-string\x22\x3e\x27about\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3eargs\x3c\/span\x3e:args});\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e修改about文件\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007124167\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007124167\x22 alt=\x22Paste_Image.png\x22 title=\x22Paste_Image.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e此时访问就会得到下面的结果\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007124168\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007124168\x22 alt=\x22Paste_Image.png\x22 title=\x22Paste_Image.png\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e以上代码在\x3ca href=\x22https:\/\/github.com\/sally2015\/express-project\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/sally2015\/...\x3c\/a\x3e ch1\x3cbr\x3e---------------------------------------------分割线----------------------------------------------\x3c\/p\x3e\n\x3cp\x3e\x3cem\x3ech2讲讲怎么快速、可维护的开发\x3c\/em\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader4\x22\x3e使用自定义模块\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3ech1为了传递参数在main.js里面定义了一个虚拟数据，为了将数据分离出来，在根目录下定义一个lib目录，放置一个数据模块m_data.js\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var args = \x27its a arguments\x27;\/\/虚拟一个参数\n\nexports.getData = function(){\n    return args;\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e args = \x3cspan class=\x22hljs-string\x22\x3e\x27its a arguments\x27\x3c\/span\x3e;\x3cspan class=\x22hljs-comment\x22\x3e\/\/虚拟一个参数\x3c\/span\x3e\n\nexports.getData = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e args;\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3emain.js\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var m_data = require(\x27.\/lib\/m_data.js\x27);\napp.get(\x27\/about\x27, function(req,res){\n    \n    res.render(\x27about\x27, {args:m_data.getData()});\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e m_data = \x3cspan class=\x22hljs-built_in\x22\x3erequire\x3c\/span\x3e(\x3cspan class=\x22hljs-string\x22\x3e\x27.\/lib\/m_data.js\x27\x3c\/span\x3e);\napp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq,res\x3c\/span\x3e)\x3c\/span\x3e{\n    \n    res.render(\x3cspan class=\x22hljs-string\x22\x3e\x27about\x27\x3c\/span\x3e, {\x3cspan class=\x22hljs-attr\x22\x3eargs\x3c\/span\x3e:m_data.getData()});\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader5\x22\x3e使用nodemon自动重启服务器\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e每次修改main文件都要ctrl\x2bc停止再运行很累，使用nodeman每次修改都会帮我们重启服务器\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e使用也非常简单，npm install nodemon -g，运行nodemon main\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3ch3 id=\x22articleHeader6\x22\x3e页面测试\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e需要一个测试框架Mocha ---- npm install mocha --save-dev 这里dev的意思是只在开发时依赖\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3emocha是要运行在客户端的所以把mocha资源放在public目录下\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3epublic\/vendor\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e=\x26gt; node_modules\/mocha\/mocha.js\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e=\x26gt; node_modules\/mocha\/mocha.css\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e测试通常需要一个assert函数\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3enpm install chai --save-dev\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3enode_modules\/chai\/chai.js =\x26gt; public\/vendor\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\n\x3cp\x3e不让测试一直运行\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e因为拖慢网站的速度，用户也不需要看到测试结果\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e期望的情况是在url后面加上?test=1才加载测试页面\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e定义中间件来检测查询字符串中的test=1,放在所有路由之前\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e如果test=1出现在任何页面的字符串查询中，属性res.locals.showTests就会被设为true\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3eres.locals对象是要传给视图上下文的一部分\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22app.use(function(req, res, next){\n    res.locals.showTests = app.get(\x27env\x27) !== \x27production\x27 \n          \x26amp;\x26amp; req.query.test === \x271\x27;\n    next();\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eapp.use(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res, next\x3c\/span\x3e)\x3c\/span\x3e{\n    res.locals.showTests = app.get(\x3cspan class=\x22hljs-string\x22\x3e\x27env\x27\x3c\/span\x3e) !== \x3cspan class=\x22hljs-string\x22\x3e\x27production\x27\x3c\/span\x3e \n          \x26amp;\x26amp; req.query.test === \x3cspan class=\x22hljs-string\x22\x3e\x271\x27\x3c\/span\x3e;\n    next();\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3ch3 id=\x22articleHeader7\x22\x3e引入测试框架\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e修改main.handlebars（以后简写main），修改head\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3chead\x3e\n    \x3ctitle\x3eMeadowlark Travel\x3c\/title\x3e\n    \x22{{\x22#if showTests\x22}}\x22\n        \x3clink rel=\x26quot;stylesheet\x26quot; href=\x26quot;\/vendor\/mocha.css\x26quot;\x3e\n    \x22{{\x22\/if\x22}}\x22\n    \x3cscript src=\x27\/\/code.jquery.com\/jquery-2.0.2.min.js\x27\x3e\x3c\/script\x3e\n\x3c\/head\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3eMeadowlark Travel\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3etitle\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x22{{\x22#if showTests\x22}}\x22\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3elink\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3erel\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22stylesheet\x22\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3ehref\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/vendor\/mocha.css\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x22{{\x22\/if\x22}}\x22\n    \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27\/\/code.jquery.com\/jquery-2.0.2.min.js\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ehead\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e这里在head引入jquery是为了方便测试\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e在\x26lt;\/body\x26gt;之前引入mocha和chai，还需引入一个qa\/global-test.js脚本\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x22{{\x22#if showTests\x22}}\x22\n        \x3cdiv id=\x26quot;mocha\x26quot;\x3e\x3c\/div\x3e\n        \x3cscript src=\x27\/vendor\/mocha.js\x27\x3e\x3c\/script\x3e\n        \x3cscript src=\x27\/vendor\/chai.js\x27\x3e\x3c\/script\x3e\n        \x3cscript\x3e\n            mocha.ui(\x27tdd\x27);\n            var assert = chai.assert;\n        \x3c\/script\x3e\n        \x3cscript src=\x27\/qa\/tests-global.js\x27\x3e\x3c\/script\x3e\n        \x22{{\x22#if pageTestScript\x22}}\x22\n            \x3cscript src=\x27\x22{{\x22pageTestScript\x22}}\x22\x27\x3e\x3c\/script\x3e\n        \x22{{\x22\/if\x22}}\x22\n          \x3cscript\x3emocha.run()\x3c\/script\x3e\n    \x22{{\x22\/if\x22}}\x22\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x22{{\x22#if showTests\x22}}\x22\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22mocha\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27\/vendor\/mocha.js\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27\/vendor\/chai.js\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22actionscript\x22\x3e\n            mocha.ui(\x3cspan class=\x22hljs-string\x22\x3e\x27tdd\x27\x3c\/span\x3e);\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e assert = chai.assert;\n        \x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27\/qa\/tests-global.js\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x22{{\x22#if pageTestScript\x22}}\x22\n            \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27\x22{{\x22pageTestScript\x22}}\x22\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n        \x22{{\x22\/if\x22}}\x22\n          \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3emocha.run()\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \x22{{\x22\/if\x22}}\x22\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e创建public\/qa\/tests-global.js全局测试脚本\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22suite(\x27Global Tests\x27, function(){\n    test(\x27page has a valid title\x27, function(){\n        assert(document.title \x26amp;\x26amp; document.title.match(\/\\S\/) \x26amp;\x26amp; \n          document.title.toUpperCase() !== \x27TODO\x27);\n    });\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3esuite(\x3cspan class=\x22hljs-string\x22\x3e\x27Global Tests\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    test(\x3cspan class=\x22hljs-string\x22\x3e\x27page has a valid title\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        assert(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.title \x26amp;\x26amp; \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.title.match(\x3cspan class=\x22hljs-regexp\x22\x3e\/\\S\/\x3c\/span\x3e) \x26amp;\x26amp; \n          \x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e.title.toUpperCase() !== \x3cspan class=\x22hljs-string\x22\x3e\x27TODO\x27\x3c\/span\x3e);\n    });\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e访问localhost：3000没有任何变化，但是访问localhost:3000?test=1,你会发现加载了测试的文件帮你做的这些东西\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007124169\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007124169\x22 alt=\x22Paste_Image.png\x22 title=\x22Paste_Image.png\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e针对about页面进行测试\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e这里假设测试确保有总有一个指向联系我们页面的链接，创建一个public\/qa\/tests-about.js\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22suite(\x27\x26quot;About\x26quot; Page Tests\x27, function(){\n  test(\x27page should contain link to contact page\x27, function(){\n      assert($(\x27a[href=\x26quot;\/contact\x26quot;]\x27).length);\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3esuite(\x3cspan class=\x22hljs-string\x22\x3e\x27\x22About\x22 Page Tests\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n  test(\x3cspan class=\x22hljs-string\x22\x3e\x27page should contain link to contact page\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n      assert($(\x3cspan class=\x22hljs-string\x22\x3e\x27a[href=\x22\/contact\x22]\x27\x3c\/span\x3e).length);\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\n\x3cp\x3e在main.js上改变路由\/about的参数\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22app.get(\x27\/about\x27, function(req,res){\n  \n  res.render(\x27about\x27, {\n      args:m_data.getData(),\n      pageTestScript:\x27\/qa\/tests-about.js\x27\n  });\n});\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eapp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/about\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq,res\x3c\/span\x3e)\x3c\/span\x3e{\n  \n  res.render(\x3cspan class=\x22hljs-string\x22\x3e\x27about\x27\x3c\/span\x3e, {\n      \x3cspan class=\x22hljs-attr\x22\x3eargs\x3c\/span\x3e:m_data.getData(),\n      \x3cspan class=\x22hljs-attr\x22\x3epageTestScript\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27\/qa\/tests-about.js\x27\x3c\/span\x3e\n  });\n});\x3c\/code\x3e\x3c\/pre\x3e\n\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e现在刷新页面about会有一个错误的断言\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007124204\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007124204\x22 alt=\x22-\x22 title=\x22-\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e只要about模板中有一个链接，这个错误测试断言就会消失\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e例如\x3ca href=\x22\/contact\x22\x3econtact us\x3c\/a\x3e\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007124205\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007124205\x22 alt=\x22测试通过\x22 title=\x22测试通过\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader8\x22\x3e使用局部组件\x3c\/h3\x3e\n\x3cul\x3e\x3cli\x3e\n\x3cp\x3e场景定义一个天气组件，在任何页面都可以调用，这样的需要重复调用的可以用局部文件实现\x3c\/p\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e新建一个views\/partials\/weather.handlebard\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cdiv class=\x26quot;weatherWeight\x26quot;\x3e\n    \x22{{\x22#each weather.locations\x22}}\x22\n        \x3cdiv class=\x26quot;location\x26quot;\x3e\n            \x3ch3\x3e\x22{{\x22name\x22}}\x22\x3c\/h3\x3e\n            \x3ca href=\x26quot;\x22{{\x22forecastUrl\x22}}\x22\x26quot;\x3e\n                \x22{{\x22weather\x22}}\x22,\x22{{\x22temp\x22}}\x22\n            \x3c\/a\x3e\n        \x3c\/div\x3e\n    \x22{{\x22\/each\x22}}\x22\n\x3c\/div\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22weatherWeight\x22\x3c\/span\x3e\x26gt;\n    \x22{{\x22#each weather.locations\x22}}\x22\n        \x26lt;div \x3cspan class=\x22hljs-class\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3eclass\x3c\/span\x3e\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22location\x22\x3c\/span\x3e\x26gt;\n            \x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x22{{\x22name\x22}}\x22\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh3\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\n            \x26lt;a href=\x3cspan class=\x22hljs-string\x22\x3e\x22\x22{{\x22forecastUrl\x22}}\x22\x22\x3c\/span\x3e\x26gt;\n                \x22{{\x22weather\x22}}\x22,\x22{{\x22temp\x22}}\x22\n            \x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/a\x26gt;\n        \x26lt;\/\x3c\/span\x3ediv\x26gt;\n    \x22{{\x22\/each\x22}}\x22\n\x26lt;\x3cspan class=\x22hljs-regexp\x22\x3e\/div\x26gt;\n\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e在weatherData.js中放入虚拟数据\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22function getWeatherData(){\n\n    return {\n        locations:[\n            {\n                name:\x27广州\x27,\n                forecastUrl:\x27https:\/\/github.com\/sally2015\x27,\n                weather:\x27广州的温度情况\x27,\n                temp:\x27温度\x27\n            },\n            {\n                name:\x27深圳\x27,\n                forecastUrl:\x27https:\/\/github.com\/sally2015\x27,\n                weather:\x27深圳的温度情况\x27,\n                temp:\x27温度\x27\n            },\n            {\n                name:\x27珠海\x27,\n                forecastUrl:\x27https:\/\/github.com\/sally2015\x27,\n                weather:\x27珠海的温度情况\x27,\n                temp:\x27温度\x27\n            }\n        ]\n    }\n}\nexports.getWeatherData = getWeatherData\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3egetWeatherData\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e {\n        \x3cspan class=\x22hljs-attr\x22\x3elocations\x3c\/span\x3e:[\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27广州\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eforecastUrl\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/github.com\/sally2015\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eweather\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27广州的温度情况\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3etemp\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27温度\x27\x3c\/span\x3e\n            },\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27深圳\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eforecastUrl\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/github.com\/sally2015\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eweather\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27深圳的温度情况\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3etemp\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27温度\x27\x3c\/span\x3e\n            },\n            {\n                \x3cspan class=\x22hljs-attr\x22\x3ename\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27珠海\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eforecastUrl\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27https:\/\/github.com\/sally2015\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3eweather\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27珠海的温度情况\x27\x3c\/span\x3e,\n                \x3cspan class=\x22hljs-attr\x22\x3etemp\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27温度\x27\x3c\/span\x3e\n            }\n        ]\n    }\n}\nexports.getWeatherData = getWeatherData\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e创建一个中间件给res.locals.weather添加数据\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\n\/\/给res.locals.weather添加数据\napp.use(function(req, res, next){\n    if(!res.locals.weather){\n        res.locals.weather = {};\n\n    }\n    res.locals.weather = m_weatherData.getWeatherData();\n    next();\n});\n\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3e\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/给res.locals.weather添加数据\x3c\/span\x3e\napp.use(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res, next\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(!res.locals.weather){\n        res.locals.weather = {};\n\n    }\n    res.locals.weather = m_weatherData.getWeatherData();\n    next();\n});\n\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e将组件放在主页home上\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3ch1\x3ewelcome to home\x3c\/h1\x3e\n\x22{{\x22\x3eweather\x22}}\x22\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3ewelcome to home\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eh1\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x22{{\x22\x26gt;weather\x22}}\x22\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e语法{\x26gt; partialname}可以让你在视图中包含一个局部文件，express-handlebars会在views\/partials寻找\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e你可以将这个语法放在任何你需要的页面上\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007124206\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007124206\x22 alt=\x22现在的home效果\x22 title=\x22现在的home效果\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader9\x22\x3e客户端使用模板和动态获取数据\x3c\/h3\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e客户端使用handlebars需要加载handlebars文件，你可以从node_moudles里面找，像正常文件一样引入即可\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e定义一个view\/partials\/ajaxtest.handlebars文件\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript id=\x27ajaxtest\x27 type=\x27text\/x-handlebars-template\x27\x3e\n    Marry hadd a little \x3cb\x3e\\\x22{{\x22animal\x22}}\x22\x3c\/b\x3e\n    its\x3cb\x3e\\\x22{{\x22bodyPart\x22}}\x22\x3c\/b\x3e\n    was \x3cb\x3e\\\x22{{\x22adjective\x22}}\x22\x3c\/b\x3eas \x3cb\x3e\\\x22{{\x22noun\x22}}\x22\x3c\/b\x3e\n\x3c\/script\x3e\n\x3cbutton id=\x27btn\x27\x3e动态获取数据\x3ctton\x3e\n\x3cdiv id=\x26quot;content\x26quot;\x3e\n    \n\x3c\/div\x3e\n\x3cscript\x3e\n    $(document).ready(function(){\n        var template = Handlebars.compile($(\x27#ajaxtest\x27).html());\n        \n        $(\x27#btn\x27).click(function(){\n            $.ajax(\x27\/data\/ajaxtest\x27,{\n                success:function(data){\n                    $(\x27#content\x27).html(template(data));\n                }\n            });\n        });\n    });\n    \n\x3c\/script\x3e\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27ajaxtest\x27\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3etype\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27text\/x-handlebars-template\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22handlebars\x22\x3e\x3cspan class=\x22xml\x22\x3e\n    Marry hadd a little \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3e\\\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22animal\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    its\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3e\\\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22bodyPart\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    was \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3e\\\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22adjective\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3eas \x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3e\\\x3c\/span\x3e\x3cspan class=\x22hljs-template-variable\x22\x3e\x22{{\x22noun\x22}}\x22\x3c\/span\x3e\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3eb\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/span\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ebutton\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x27btn\x27\x3c\/span\x3e\x26gt;\x3c\/span\x3e动态获取数据\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3etton\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3eid\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22content\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n    \n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3ediv\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    $(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).ready(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e template = Handlebars.compile($(\x3cspan class=\x22hljs-string\x22\x3e\x27#ajaxtest\x27\x3c\/span\x3e).html());\n        \n        $(\x3cspan class=\x22hljs-string\x22\x3e\x27#btn\x27\x3c\/span\x3e).click(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n            $.ajax(\x3cspan class=\x22hljs-string\x22\x3e\x27\/data\/ajaxtest\x27\x3c\/span\x3e,{\n                \x3cspan class=\x22hljs-attr\x22\x3esuccess\x3c\/span\x3e:\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e)\x3c\/span\x3e{\n                    $(\x3cspan class=\x22hljs-string\x22\x3e\x27#content\x27\x3c\/span\x3e).html(template(data));\n                }\n            });\n        });\n    });\n    \n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\x3cli\x3e\x3cp\x3e在main.js中设定接口\x3c\/p\x3e\x3c\/li\x3e\x3c\/ul\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22app.get(\x27\/data\/ajaxtest\x27, function(req, res) {\n    res.json({\n            animal:\x27dog\x27,\n            bodyPart:\x27tail\x27,\n            adjective : \x27sharp\x27,\n            noun : \x27run\x27\n        });\n});\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22js\x22\x3eapp.get(\x3cspan class=\x22hljs-string\x22\x3e\x27\/data\/ajaxtest\x27\x3c\/span\x3e, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ereq, res\x3c\/span\x3e) \x3c\/span\x3e{\n    res.json({\n            \x3cspan class=\x22hljs-attr\x22\x3eanimal\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27dog\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3ebodyPart\x3c\/span\x3e:\x3cspan class=\x22hljs-string\x22\x3e\x27tail\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3eadjective\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27sharp\x27\x3c\/span\x3e,\n            \x3cspan class=\x22hljs-attr\x22\x3enoun\x3c\/span\x3e : \x3cspan class=\x22hljs-string\x22\x3e\x27run\x27\x3c\/span\x3e\n        });\n});\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cul\x3e\n\x3cli\x3e\x3cp\x3e在你想要的视图里面加入\x22{{\x22\x26gt;ajaxtest\x22}}\x22\x3c\/p\x3e\x3c\/li\x3e\n\x3cli\x3e\x3cp\x3e这时候当你点击按钮就会请求到数据，注意接口使用的方法是json\x3c\/p\x3e\x3c\/li\x3e\n\x3c\/ul\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/remote\/1460000007124207\x22 src=\x22https:\/\/static.alili.tech\/img\/remote\/1460000007124207\x22 alt=\x22返回数据\x22 title=\x22返回数据\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e--------------------分割线------------------------------------ch2 \x3ca href=\x22https:\/\/github.com\/sally2015\/express-project\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/sally2015\/...\x3c\/a\x3e\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>用express搭建网站</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000007124164">https://segmentfault.com/a/1190000007124164</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/g056edo5uur/" target="_blank">https://alili.tech/archive/g056edo5uur/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>