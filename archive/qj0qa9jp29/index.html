<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="《每周一点canvas动画》——圆周运动"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>《每周一点canvas动画》——圆周运动 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/qj0qa9jp29/",
				"appid": "1613049289050283", 
				"title": "《每周一点canvas动画》——圆周运动 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-26T02:30:18"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/snwp9z2qe4/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ay271br5ujb/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&text=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&text=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&is_video=false&description=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2fqj0qa9jp29%2f&title=%e3%80%8a%e6%af%8f%e5%91%a8%e4%b8%80%e7%82%b9canvas%e5%8a%a8%e7%94%bb%e3%80%8b%e2%80%94%e2%80%94%e5%9c%86%e5%91%a8%e8%bf%90%e5%8a%a8"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">《每周一点canvas动画》——圆周运动</h1><div class="meta"><div class="postdate"><time datetime="2019-01-26" itemprop="datePublished">2019-01-26</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e接《每周一点canvas动画》——波形运动\x3c\/blockquote\x3e\n\x3cp\x3e圆周运动可以分为两种基本的形式：\x3ccode\x3e正圆运动\x3c\/code\x3e和\x3ccode\x3e椭圆运动\x3c\/code\x3e。\x3cbr\x3e在讲解圆周运动之前，必不可少的数学公式即将袭来。so,各位骚年们，请护好自己的膝盖。听不懂没关系，只要明白其中的原理就行。当然，能懂是最好的，这对后面学习高级动画是很有帮助的。好吧，废话少说直接上菜。\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader0\x22\x3e1.正圆运动\x3c\/h3\x3e\n\x3cp\x3e一般情况下，圆的直角坐标方程可以表示为：\x3ccode\x3ex2\x2by2=R2\x3c\/code\x3e，根据此公式可以得出圆在直角坐标中的轨迹。也许，你会说这样就可以通过改变x,y的坐标位置让物体做圆周运动。但是，实际情况是这种方法并不可行。因为，你无法精确的计算出物体做圆周运动的每一个坐标位置。就算你成功计算出物体做圆周运动的精确坐标。OK!你可以想象那是多么大的工作量。所以，我们需要转变思路，让计算机去做这种精确的计算问题。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJtU1?w=618\x26amp;h=291\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJtU1?w=618\x26amp;h=291\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e上图展示了从圆的函数表达式到圆的参数方程之间的转换过程。理解不理解都没有关系，总之你要明白，最终我们将 x, y 与 sin 和 cos 扯上关系了。而圆的参数方程就表示的是一个圆。这样我们想要让一个物体做圆周运动，就只需要让计算机自己去来计算每一帧物体所对应的坐标值。而我们所需要做的只是简单的改变\x3ccode\x3eθ\x3c\/code\x3e值。有多简单呢，因为根据sin，cos函数的周期性只需要每一帧自增一个值或自减一个值。具体代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    window.onload = function(){\n               var canvas = document.getElementById(\x27canvas\x27),\n                   context = canvas.getContext(\x272d\x27);\n\n               var ball = new Ball();\n\n               var angle = 0, \/\/ 旋转的角度\n                   centerX = canvas.width\/2,\n                   centerY = canvas.height\/2,\n                   radius = 100, \/\/ 定义半径\n                   speed = 0.05; \/\/ 每帧旋转角度的增加值\n\n               (function drawFrame(){\n                   window.requestAnimationFrame(drawFrame, canvas);\n                   context.clearRect(0,0,canvas.width, canvas.height);\n\n                   \/\/centerX, centerY 的作用是让球绕画布中心旋转\n                   ball.x = centerX \x2b Math.sin(angle)*radius;\n                   ball.y = centerY \x2b Math.cos(angle)*radius;\n\n                   \/\/角度增加\n                   angle \x2b= speed;\n                   ball.draw(context);\n               }());\n           }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e    window.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efunction\x3c\/span\x3e\x3c\/span\x3e(){\n               var canvas = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e),\n                   context = canvas.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n\n               var ball = new Ball();\n\n               var angle = 0, \/\/ 旋转的角度\n                   centerX = canvas.width\/2,\n                   centerY = canvas.height\/2,\n                   radius = 100, \/\/ 定义半径\n                   speed = 0.05; \/\/ 每帧旋转角度的增加值\n\n               (\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edrawFrame\x3c\/span\x3e\x3c\/span\x3e(){\n                   window.requestAnimationFrame(drawFrame, canvas);\n                   context.clearRect(0,0,canvas.width, canvas.height);\n\n                   \/\/centerX, centerY 的作用是让球绕画布中心旋转\n                   ball.x = centerX \x2b Math.sin(angle)*radius;\n                   ball.y = centerY \x2b Math.cos(angle)*radius;\n\n                   \/\/角度增加\n                   angle \x2b= speed;\n                   ball.draw(context);\n               }());\n           }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果图\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJtU5?w=484\x26amp;h=256\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJtU5?w=484\x26amp;h=256\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3eok,自己动手试试吧！看看是不是球体绕着画布中心做着圆周运动呢！这里我们需要的条件比较多 angle 和 Radius，在后面的章节中我们将介绍如何只通过 angle 就实现圆周运动。为了更容易理解，我劝你最好复习一下中学的知识，哈哈！！！\x3c\/p\x3e\n\x3ch3 id=\x22articleHeader1\x22\x3e2.椭圆运动\x3c\/h3\x3e\n\x3cp\x3e椭圆和正圆的不同之处可以这样理解：\x3cstrong\x3e正圆半径在x轴和y轴上的距离是相同的，都是Radius.而椭圆则是不同的,我们用a, b 表示。\x3c\/strong\x3e\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJtVc?w=683\x26amp;h=298\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJtVc?w=683\x26amp;h=298\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3cp\x3e具体到代码里，就是半径不同了呗！是不是so easy,上代码：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22window.onload = function(){\n            var canvas = document.getElementById(\x27canvas\x27);\n            var context = canvas.getContext(\x272d\x27);\n            var ball = new Ball();\n            \n            var centerX = canvas.width\/2,\n                centerY = canvas.height\/2,\n                angle = 0,\n                radiusX = 50,\n                radiusY = 100,\n                speed = 0.05;\n            \n                ball.x = centerX;\n                ball.y = centerY;\n                \n             context.fillStyle = \x26quot;rgba(0,0,0,.01)\x26quot;; \n            (function drawFrame(){\n                window.requestAnimationFrame(drawFrame,canvas);\n                context.fillRect(0,0,canvas.width,canvas.height);\n                \n                \/\/当radius的值相等时为圆周运动\n                \/\/当radius的值不想等是为椭圆运动\n                ball.x = centerX \x2b Math.sin(angle)*radiusX; \/\/radiusX = 50\n                ball.y = centerY \x2b Math.cos(angle)*radiusY; \/\/radiusY = 100\n                angle \x2b= speed;\n                \n                ball.draw(context);\n            })();\n        }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3ewindow.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efunction\x3c\/span\x3e\x3c\/span\x3e(){\n            var canvas = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e);\n            var context = canvas.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n            var ball = new Ball();\n            \n            var centerX = canvas.width\/2,\n                centerY = canvas.height\/2,\n                angle = 0,\n                radiusX = 50,\n                radiusY = 100,\n                speed = 0.05;\n            \n                ball.x = centerX;\n                ball.y = centerY;\n                \n             context.fillStyle = \x3cspan class=\x22hljs-string\x22\x3e\x22rgba(0,0,0,.01)\x22\x3c\/span\x3e; \n            (\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edrawFrame\x3c\/span\x3e\x3c\/span\x3e(){\n                window.requestAnimationFrame(drawFrame,canvas);\n                context.fillRect(0,0,canvas.width,canvas.height);\n                \n                \/\/当radius的值相等时为圆周运动\n                \/\/当radius的值不想等是为椭圆运动\n                ball.x = centerX \x2b Math.sin(angle)*radiusX; \/\/radiusX = 50\n                ball.y = centerY \x2b Math.cos(angle)*radiusY; \/\/radiusY = 100\n                angle \x2b= speed;\n                \n                ball.draw(context);\n            })();\n        }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e为了让椭圆的效果看起来更加明显，代替clearRect采用fillRect是小球的运动形成尾迹。\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJtVh?w=484\x26amp;h=263\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJtVh?w=484\x26amp;h=263\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader2\x22\x3e三、两点之间的距离\x3c\/h2\x3e\n\x3cp\x3e按理来说，连点之间的距离是不会用到三角函数的。但是，其实两点间的距离公式是可以通过勾股定理推出来的，所以这里直接就把他归到三角函数里。\x3cbr\x3e这里就不画示意图了直接给你个公式好了(原谅我偷个懒)，假设有两个点, a(x1, y1), b(x2, y2)。那么怎样求它们之间的距离呢！公式如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    dx = x2 - x1;\n    dy = y2 - y1;\n    distance = Math.sqrt(dx*dx \x2b dy*dy); \/\/这不就是勾股定理\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e    dx = x2 - x1;\n    dy = y2 - y1;\n    distance = Math.sqrt(dx*dx \x2b dy*dy); \/\/这不就是勾股定理\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这里给你个小的Demo,代码如下：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    \x3ccanvas id=\x26quot;canvas\x26quot; width=\x26quot;500\x26quot; height=\x26quot;500\x26quot; style=\x26quot;background:#000;\x26quot;\x3e\n           your browser not support canvas!\n       \x3c\/canvas\x3e\n       \x3cp id=\x26quot;log\x26quot;\x3e\x3c\/p\x3e\n       \x3cscript src=\x26quot;..\/js\/utils.js\x26quot;\x3e\x3c\/script\x3e\n       \x3cscript\x3e\n       window.onload = function(){\n               var canvas = document.getElementById(\x27canvas\x27);\n               var log = document.getElementById(\x27log\x27);\n               var mouse = utils.captureMouse(canvas);\n               var context = canvas.getContext(\x272d\x27);\n\n               \/\/中心位置创建一个方块\n               var rect = {\n                   x:canvas.width\/2,\n                   y:canvas.height\/2\n               };\n\n               (function drawFrame(){\n                   window.requestAnimationFrame(drawFrame,canvas);\n                   context.clearRect(0,0,canvas.width,canvas.height);\n\n                   var dx = mouse.x - rect.x;\n                   var dy = mouse.y - rect.y;\n                   var dis = Math.sqrt(dx*dx \x2b dy*dy);\n\n                   \/\/画方块\n                   context.fillStyle = \x27#ffffff\x27;\n                   context.fillRect(rect.x-2,rect.y-2,4,4);\n                   \/\/画线\n                   context.save();\n                   context.strokeStyle = \x27#ffffff\x27;\n                   context.beginPath()\n                   context.moveTo(rect.x,rect.y);\n                   context.lineTo(mouse.x,mouse.y);\n                   context.closePath();\n                   context.stroke();\n                   context.restore();\n                   \/\/显示距离\n                   log.style.left = (mouse.x \x2b rect.x)\/2 \x2b \x27px\x27;\n                   log.style.top = (mouse.y \x2b rect.y)\/2 \x2b \x27px\x27;\n                   log.innerHTML = dis;\n               })();\n           }\n    \x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e    \x26lt;canvas id=\x3cspan class=\x22hljs-string\x22\x3e\x22canvas\x22\x3c\/span\x3e width=\x3cspan class=\x22hljs-string\x22\x3e\x22500\x22\x3c\/span\x3e height=\x3cspan class=\x22hljs-string\x22\x3e\x22500\x22\x3c\/span\x3e style=\x3cspan class=\x22hljs-string\x22\x3e\x22background:#000;\x22\x3c\/span\x3e\x26gt;\n           your browser not support canvas!\n       \x26lt;\/canvas\x26gt;\n       \x26lt;p id=\x3cspan class=\x22hljs-string\x22\x3e\x22log\x22\x3c\/span\x3e\x26gt;\x26lt;\/p\x26gt;\n       \x26lt;script src=\x3cspan class=\x22hljs-string\x22\x3e\x22..\/js\/utils.js\x22\x3c\/span\x3e\x26gt;\x26lt;\/script\x26gt;\n       \x26lt;script\x26gt;\n       window.onload = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3efunction\x3c\/span\x3e\x3c\/span\x3e(){\n               var canvas = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27canvas\x27\x3c\/span\x3e);\n               var \x3cspan class=\x22hljs-built_in\x22\x3elog\x3c\/span\x3e = document.getElementById(\x3cspan class=\x22hljs-string\x22\x3e\x27log\x27\x3c\/span\x3e);\n               var mouse = utils.captureMouse(canvas);\n               var context = canvas.getContext(\x3cspan class=\x22hljs-string\x22\x3e\x272d\x27\x3c\/span\x3e);\n\n               \/\/中心位置创建一个方块\n               var rect = {\n                   x:canvas.width\/2,\n                   y:canvas.height\/2\n               };\n\n               (\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-title\x22\x3edrawFrame\x3c\/span\x3e\x3c\/span\x3e(){\n                   window.requestAnimationFrame(drawFrame,canvas);\n                   context.clearRect(0,0,canvas.width,canvas.height);\n\n                   var dx = mouse.x - rect.x;\n                   var dy = mouse.y - rect.y;\n                   var dis = Math.sqrt(dx*dx \x2b dy*dy);\n\n                   \/\/画方块\n                   context.fillStyle = \x3cspan class=\x22hljs-string\x22\x3e\x27#ffffff\x27\x3c\/span\x3e;\n                   context.fillRect(rect.x-2,rect.y-2,4,4);\n                   \/\/画线\n                   context.save();\n                   context.strokeStyle = \x3cspan class=\x22hljs-string\x22\x3e\x27#ffffff\x27\x3c\/span\x3e;\n                   context.beginPath()\n                   context.moveTo(rect.x,rect.y);\n                   context.lineTo(mouse.x,mouse.y);\n                   context.closePath();\n                   context.stroke();\n                   context.restore();\n                   \/\/显示距离\n                   log.style.left = (mouse.x \x2b rect.x)\/2 \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                   log.style.top = (mouse.y \x2b rect.y)\/2 \x2b \x3cspan class=\x22hljs-string\x22\x3e\x27px\x27\x3c\/span\x3e;\n                   log.innerHTML = dis;\n               })();\n           }\n    \x26lt;\/script\x26gt;\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e效果图\x3c\/p\x3e\n\x3cp\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22\/img\/bVJtVm?w=502\x26amp;h=238\x22 src=\x22https:\/\/static.alili.tech\/img\/bVJtVm?w=502\x26amp;h=238\x22 alt=\x22图片描述\x22 title=\x22图片描述\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3c\/p\x3e\n\x3ch2 id=\x22articleHeader3\x22\x3e四、总结\x3c\/h2\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22    ## 角度旋转\n    dx = mouse.x - object.x;\n    dy = mouse.y - object.y;\n    object.rotation = Math.atan2(dy,dx)*180\/Math.PI\n\n    ## 平滑运动\n       value = center \x2b Math.sin(angle)*range;\n       angle \x2b= speed;\n\n    ## 正圆运动\n       x_position = centerX \x2b Math.sin(angle)*radius;\n       y_position = centerY \x2b Math.cos(angle)*radius;\n       angle \x2b= speed;\n\n    ## 椭圆运动\n       x_position = centerX \x2b Math.cos(angle)*radiusX;\n       y_position = centerY \x2b Math.sin(angle)*radiusY;\n       angle \x2b= speed;\n\n    ##两点间距离\n    dx = x2 - x1;\n    dy = y2 - y1;\n    dist = Math.sqrt(dx*dx \x2b dy*dy);\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22bash hljs\x22\x3e\x3ccode class=\x22bash\x22\x3e    \x3cspan class=\x22hljs-comment\x22\x3e## 角度旋转\x3c\/span\x3e\n    dx = mouse.x - object.x;\n    dy = mouse.y - object.y;\n    object.rotation = Math.atan2(dy,dx)*180\/Math.PI\n\n    \x3cspan class=\x22hljs-comment\x22\x3e## 平滑运动\x3c\/span\x3e\n       value = center \x2b Math.sin(angle)*range;\n       angle \x2b= speed;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e## 正圆运动\x3c\/span\x3e\n       x_position = centerX \x2b Math.sin(angle)*radius;\n       y_position = centerY \x2b Math.cos(angle)*radius;\n       angle \x2b= speed;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e## 椭圆运动\x3c\/span\x3e\n       x_position = centerX \x2b Math.cos(angle)*radiusX;\n       y_position = centerY \x2b Math.sin(angle)*radiusY;\n       angle \x2b= speed;\n\n    \x3cspan class=\x22hljs-comment\x22\x3e##两点间距离\x3c\/span\x3e\n    dx = x2 - x1;\n    dy = y2 - y1;\n    dist = Math.sqrt(dx*dx \x2b dy*dy);\n\x3c\/code\x3e\x3c\/pre\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>《每周一点canvas动画》——圆周运动</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000008417444">https://segmentfault.com/a/1190000008417444</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/qj0qa9jp29/" target="_blank">https://alili.tech/archive/qj0qa9jp29/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>