<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hugo 0.51"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="HandheldFriendly" content="True"><meta name="viewport" content="initial-scale=1,width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="wap-font-scale" content="no"><meta name="360-site-verification" content="0903ba33c82867d1f7bd8831e32a7e34"><meta name="sogou_site_verification" content="E8uWFBcf4a"><meta name="author" content="Fan"><meta name="description" itemprop="description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta name="keywords" content="Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js"><meta property="og:locale" content="en_US"><meta property="og:title" content="为Hexo加入浏览量的功能"><meta property="og:image" content="https://alili.tech/images/logo2.png"><meta property="og:description" content="Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css"><meta property="og:site_name" content="Alili"><title>为Hexo加入浏览量的功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!</title><link rel="shortcut icon" href="https://alili.tech/images/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://alili.tech/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="https://alili.tech/lib/justified-gallery/justifiedGallery.min.css"><link rel="stylesheet" href="https://alili.tech/css/style.css"><script src="https://alili.tech/lib/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script src="https://alili.tech/lib/jquery/jquery.min.js"></script><script>document.addEventListener("error", function (e) {
			  var elem = e.target;
			  if (elem.tagName.toLowerCase() == 'img') {
				elem.style.display='none'
			  }
			}, true);</script><script type="application/ld+json">{
				"@context": "https://ziyuan.baidu.com/contexts/cambrian.jsonld",
				"@id": "https://alili.tech/archive/0myb6q7a2nnk/",
				"appid": "1613049289050283", 
				"title": "为Hexo加入浏览量的功能 | 前端大爆炸! - WEB BANG! BANG!! BANG!!!", 
				"images": [],
				"pubDate": "2019-01-12T02:30:24"
			}</script></head><body><div id="header-post"><a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a> <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a> <span id="menu"><span id="nav"><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></span><br><span id="actions"><ul><li><a class="icon" href="https://alili.tech/archive/w27wdcw6779/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li><li><a class="icon" href="https://alili.tech/archive/ru9bfzfnlvc/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li><li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li><li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li></ul><span id="i-prev" class="info" style="display:none;">Previous post</span> <span id="i-next" class="info" style="display:none;">Next post</span> <span id="i-top" class="info" style="display:none;">Back to top</span> <span id="i-share" class="info" style="display:none;">Share post</span></span><br><div id="share" style="display: none"><ul><li><a class="icon" href="http://v.t.sina.com.cn/share/share.php?u=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&text=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-weibo" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f"><i class="fa fa-facebook" aria-hidden="true"></i></a></li><li><a class="icon" href="https://twitter.com/share?url=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&text=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-twitter" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&title=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li><li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&is_video=false&description=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li><li><a class="icon" href="mailto:?subject=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd&body=Check out this article: https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f"><i class="fa fa-envelope" aria-hidden="true"></i></a></li><li><a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&title=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-get-pocket" aria-hidden="true"></i></a></li><li><a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&title=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-reddit" aria-hidden="true"></i></a></li><li><a class="icon" href="http://www.stumbleupon.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&title=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-stumbleupon" aria-hidden="true"></i></a></li><li><a class="icon" href="http://digg.com/submit?url=https%3a%2f%2falili.tech%2farchive%2f0myb6q7a2nnk%2f&title=%e4%b8%baHexo%e5%8a%a0%e5%85%a5%e6%b5%8f%e8%a7%88%e9%87%8f%e7%9a%84%e5%8a%9f%e8%83%bd"><i class="fa fa-digg" aria-hidden="true"></i></a></li></ul></div><div id="toc"><nav id="TableOfContents"><ul><li><a href="#版权声明">版权声明</a><ul><li><a href="#原文标题">原文标题</a></li><li><a href="#原文链接">原文链接</a></li></ul></li></ul></nav></div></span></div><div class="content index width mx-auto px3 my3"><section id="wrapper" class="home"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header><h1 class="posttitle" itemprop="name headline">为Hexo加入浏览量的功能</h1><div class="meta"><div class="postdate"><time datetime="2019-01-12" itemprop="datePublished">2019-01-12</time></div><div class="article-tag"><i class="fa fa-eye"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span></span></div><div class="article-tag-box"></div></div></header><div class="content" itemprop="articleBody"><div id="raw"><p style="opacity: 0;">Alili | 前端大爆炸! - WEB BANG! BANG!! BANG!!! 前端大爆炸,一个前端技术博客.想到哪,学到哪,写到哪. 本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有， Alili, 前端大爆炸, WEB BANG BANG BANG, web前端博客, 前端模块化, 前端工程化, 前端数据监控, 性能优化, 网页制作, 前端, js, html5, css, 踩坑小报告, 微前端, 树莓派, 前端开发, 区块链, 网络, Mongodb, Vue.js, Angular.js, node.js</p><script>$(function () {
            var html = "\n\n                    \n\x3cblockquote\x3e版权声明：更多文章请访问我的个人站\x3ca href=\x22http:\/\/xilan.me\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eKeyon Y\x3c\/a\x3e，转载请注明出处。\x3c\/blockquote\x3e\n\x3cp\x3eHexo是和WordPress一样的完善的博客系统，但是好多辅助功能\/插件需要是访问谷歌的服务器的，在我大天朝就只能看看了。可是我们勤劳的程序猿们不甘心不那么完美，所以大神们写了各种教程，通过其他的方法解决了因为谷歌而不能使用的功能，\x3cbr\x3e今天就来说说\x3cstrong\x3e为Hexo博客网站加上的浏览量功能\x3c\/strong\x3e。\x3c\/p\x3e\n\x3cp\x3e\x3cstrong\x3e原理就是使用\x3ca href=\x22https:\/\/leancloud.cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eleancloud\x3c\/a\x3e作为数据库托管\x3c\/strong\x3e，使用leancloud的API进行操作数据的读取和写入。  \x3c\/p\x3e\n\x3cp\x3e在\x3ca href=\x22https:\/\/leancloud.cn\/\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3eleancloud\x3c\/a\x3e上注册一个账号，然后参考\x3ca href=\x22https:\/\/leancloud.cn\/docs\/leanstorage_guide-js.html#\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3e官方文档\x3c\/a\x3e。\x3c\/p\x3e\n\x3cp\x3ehtml页面引入js\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!-- 存储服务 --\x3e\n\x3cscript src=\x26quot;\/\/cdn1.lncld.net\/static\/js\/2.5.0\/av-min.js\x26quot;\x3e\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x26lt;!-- 存储服务 --\x26gt;\n\x3cspan class=\x22xml\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/\/cdn1.lncld.net\/static\/js\/2.5.0\/av-min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在后台管理中新建一个应用  \x3cbr\x3e\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/ormqw9b48.bkt.clouddn.com\/leancloud%E6%96%B0%E5%BB%BA%E5%BA%94%E7%94%A8.png\x22 src=\x22https:\/\/static.alili.techhttp:\/\/ormqw9b48.bkt.clouddn.com\/leancloud%E6%96%B0%E5%BB%BA%E5%BA%94%E7%94%A8.png\x22 alt=\x22img\x22 title=\x22img\x22 style=\x22cursor: pointer; display: inline;\x22\x3e\x3c\/span\x3e\x3cbr\x3e初始化，APP_ID和APP_KEY在应用的\x3cstrong\x3e设置-应用key\x3c\/strong\x3e中查找\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var APP_ID = \x27fasdfaICadjaklsdbaskd-gasdasfz\x27;\nvar APP_KEY = \x27gfdgsArfgsdg\x27;\nAV.init({\n  appId: APP_ID,\n  appKey: APP_KEY\n});\nvar Todo = AV.Object.extend(\x27test\x27);\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e APP_ID = \x3cspan class=\x22hljs-string\x22\x3e\x27fasdfaICadjaklsdbaskd-gasdasfz\x27\x3c\/span\x3e;\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e APP_KEY = \x3cspan class=\x22hljs-string\x22\x3e\x27gfdgsArfgsdg\x27\x3c\/span\x3e;\nAV.init({\n  \x3cspan class=\x22hljs-attr\x22\x3eappId\x3c\/span\x3e: APP_ID,\n  \x3cspan class=\x22hljs-attr\x22\x3eappKey\x3c\/span\x3e: APP_KEY\n});\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e Todo = AV.Object.extend(\x3cspan class=\x22hljs-string\x22\x3e\x27test\x27\x3c\/span\x3e);\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e由于hexo的链接地址都是这样子的\x3cspan class=\x22img-wrap\x22\x3e\x3cimg data-src=\x22http:\/\/ormqw9b48.bkt.clouddn.com\/hexo%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80.png\x22 src=\x22https:\/\/static.alili.techhttp:\/\/ormqw9b48.bkt.clouddn.com\/hexo%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80.png\x22 alt=\x22img\x22 title=\x22img\x22 style=\x22cursor: pointer;\x22\x3e\x3c\/span\x3e\x3cbr\x3e就是文章的标题作为链接地址，所以用文章的标题来查找和创建数据的唯一标识，用content字段来存储浏览次数；  \x3cbr\x3e新增一条数据的方法\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 保存\nfunction saveToLeancloud(title){\n    var newData = new Todo();\n    newData.save({\n        title: title,\n        content: \x270\x27\n    }).then(function (data) {\n        console.log(data);\n    })\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存\x3c\/span\x3e\n\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esaveToLeancloud\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etitle\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e newData = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Todo();\n    newData.save({\n        \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: title,\n        \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e\n    }).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(data);\n    })\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e新增以后要实现浏览\/刷新后点击量每次\x2b1，就要更新数据\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 更新一条 文章浏览量数据\nvar _update = function(obj){\n        \/\/ 第一个参数是 className，第二个参数是 objectId\n        var todo = AV.Object.createWithoutData(className, obj.id);\n        var count = parseInt(obj.get(\x27content\x27))\x2b1;\n        \/\/ 修改属性\n        todo.set(\x27content\x27, count.toString());\n        \/\/ 保存到云端\n        todo.save();\n}\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 更新一条 文章浏览量数据\x3c\/span\x3e\n\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _update = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第一个参数是 className，第二个参数是 objectId\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e todo = AV.Object.createWithoutData(className, obj.id);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e count = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(obj.get(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e))\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 修改属性\x3c\/span\x3e\n        todo.set(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e, count.toString());\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存到云端\x3c\/span\x3e\n        todo.save();\n}\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3ehtml中加入类名为‘.leancloud_visitors’的元素用来往其中填充数据\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3c!--我用的是jade模板引擎，#{}就是赋值，ejs、swig等模板请参考对应文档的写法 --\x3e\nspan(id=\x26quot;#{item.title}\x26quot;, class=\x26quot;leancloud_visitors\x26quot;, data-pageNum=\x26quot;#{page.current}\x26quot;)\n\/\/ page.current是系统变量直接调用，这个值用来记录列表页的当前页码\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\x26lt;!--我用的是jade模板引擎，#{}就是赋值，ejs、swig等模板请参考对应文档的写法 --\x26gt;\x3c\/span\x3e\nspan(id=\x22#{item.title}\x22, class=\x22leancloud_visitors\x22, data-pageNum=\x22#{page.current}\x22)\n\/\/ page.current是系统变量直接调用，这个值用来记录列表页的当前页码\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e获取数据\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var pageCounts = 2;  \/\/ 每页返回条数\n    if($(\x27.leancloud_visitors\x27).attr(\x27data-pageNum\x27)!= \x27undefined\x27){    \/\/ 判断是否为列表页\n        var pageNum = parseInt($(\x27.leancloud_visitors\x27).attr(\x27data-pageNum\x27))-1;    \/\/ 当前页码\n    }\n\/\/ 获取详情页的访问次数数据\n    var _getDetailTime = function(title) {\n        var query = new AV.Query(className);\n        query.equalTo(\x26quot;title\x26quot;, title);\n        return query.find();\n    }\n\n    \/\/ 获取列表页的访问次数数据\n    var _getListTime = function(){\n        var query = new AV.Query(className);\n        query.limit(pageCounts);            \/\/ 查询数据时返回的数量-每页返回的条数\n        query.skip(pageCounts*pageNum);     \/\/ 查询数据时跳过的数量-当前页码*每页返回的条数\n        query.descending(\x27createdAt\x27);      \/\/ 按新建的时间降序排列\n        return query.find();\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pageCounts = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e;  \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 每页返回条数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).attr(\x3cspan class=\x22hljs-string\x22\x3e\x27data-pageNum\x27\x3c\/span\x3e)!= \x3cspan class=\x22hljs-string\x22\x3e\x27undefined\x27\x3c\/span\x3e){    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断是否为列表页\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pageNum = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).attr(\x3cspan class=\x22hljs-string\x22\x3e\x27data-pageNum\x27\x3c\/span\x3e))\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前页码\x3c\/span\x3e\n    }\n\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取详情页的访问次数数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _getDetailTime = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etitle\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e query = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AV.Query(className);\n        query.equalTo(\x3cspan class=\x22hljs-string\x22\x3e\x22title\x22\x3c\/span\x3e, title);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e query.find();\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取列表页的访问次数数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _getListTime = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e query = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AV.Query(className);\n        query.limit(pageCounts);            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 查询数据时返回的数量-每页返回的条数\x3c\/span\x3e\n        query.skip(pageCounts*pageNum);     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 查询数据时跳过的数量-当前页码*每页返回的条数\x3c\/span\x3e\n        query.descending(\x3cspan class=\x22hljs-string\x22\x3e\x27createdAt\x27\x3c\/span\x3e);      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 按新建的时间降序排列\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e query.find();\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e然后是填充浏览量数据\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 填充访问次数\n    var _writeCount = function(data){\n        if($(\x27.post-page\x27).length == 0){    \/\/ 判断是在列表页还是详情页\n            $(\x27.leancloud_visitors\x27).each(function(i,e){\n                $(e).text(parseInt(data[i].get(\x27content\x27)));\n            })\n        }else{\n            $(\x27.leancloud_visitors\x27).each(function(i,e){\n                $(e).text(parseInt(data[i].get(\x27content\x27))\x2b1);\n            })\n        }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 填充访问次数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _writeCount = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.post-page\x27\x3c\/span\x3e).length == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断是在列表页还是详情页\x3c\/span\x3e\n            $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ei,e\x3c\/span\x3e)\x3c\/span\x3e{\n                $(e).text(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(data[i].get(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e)));\n            })\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n            $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ei,e\x3c\/span\x3e)\x3c\/span\x3e{\n                $(e).text(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(data[i].get(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e))\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n            })\n        }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e判断当前在列表页还是详情页\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\/\/ 判断列表页or详情页\n    var _isList = function(){\n        if($(\x27.post-page\x27).length == 0){\n            return true;\n        }\n    }\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断列表页or详情页\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _isList = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.post-page\x27\x3c\/span\x3e).length == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n        }\n    }\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e\x3cstrong\x3e最终完整的方法写在了一个js文件中，例如leancloudConfig.js\x3c\/strong\x3e\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22var leanCloud = (function(){\n    var APP_ID = \x27fasdfaICadjaklsdbaskd-gasdasfz\x27;\n    var APP_KEY = \x27gfdgsArfgsdg\x27;\n    var className,Todo;\n    var pageCounts = 2; \/\/ 每页返回条数\n    if($(\x27.leancloud_visitors\x27).attr(\x27data-pageNum\x27)!= \x27undefined\x27){\n        var pageNum = parseInt($(\x27.leancloud_visitors\x27).attr(\x27data-pageNum\x27))-1;    \/\/ 当前页码\n    }\n\n    \/\/ 初始化\n    AV.init({\n        appId: APP_ID,\n        appKey: APP_KEY\n    });\n\n    \/\/ 新增一条 文章统计数据【仅限一条】\n    var _addCount = function() {\n        \/\/ 监听 新增按钮 被点击\n        function addListenButton(){\n            setTimeout(function(){\n                console.log(\x27start listen...\x27);\n                $(\x27.new-post_button\x27).click(function(){addListenInput();})\n            },5000)    \/\/考虑到服务器的带宽仅有1M，网速较慢所以将此方法延迟执行\n        }\n        \/\/ 监听 回车\/点击确定按钮 后 执行保存\n        function addListenInput(){\n            var inputTitle;\n            setTimeout(function(){\n                $(\x27.new-post_input\x27).blur(function(){\n                    inputTitle = $(this).val();\n                })\n                $(\x27.new-post_ok\x27).mousedown(function(){\n                    var title = $(\x27.new-post_input\x27).val();\n                    saveToLeancloud(title);\n                    addListenButton();\n                })\n                $(document).keypress(function(e){\n                    if(e.which == 13){\n                        var title = inputTitle;\n                        saveToLeancloud(title);\n                        addListenButton();\n                    }\n                })\n            },500)\n        }\n\n        \/\/ 保存\n        function saveToLeancloud(title){\n            var newData = new Todo();\n            newData.save({\n                title: title,\n                content: \x270\x27\n            }).then(function (data) {\n                console.log(data);\n            })\n        }\n        addListenButton();\n    }\n\n    \/\/ 获取详情页的访问次数数据\n    var _getDetailTime = function(title) {\n        var query = new AV.Query(className);\n        query.equalTo(\x26quot;title\x26quot;, title);\n        return query.find();\n    }\n\n    \/\/ 获取列表页的访问次数数据\n    var _getListTime = function(){\n        var query = new AV.Query(className);\n        query.limit(pageCounts);            \/\/ 查询数据时返回的数量-每页返回的条数\n        query.skip(pageCounts*pageNum);     \/\/ 查询数据时跳过的数量-当前页码*每页返回的条数\n        query.descending(\x27createdAt\x27);      \/\/ 按新建的时间降序排列\n        return query.find();\n    }\n\n    \/\/ 更新一条 文章浏览量数据\n    var _update = function(obj){\n        \/\/ 第一个参数是 className，第二个参数是 objectId\n        var todo = AV.Object.createWithoutData(className, obj.id);\n        var count = parseInt(obj.get(\x27content\x27))\x2b1;\n        \/\/ 修改属性\n        todo.set(\x27content\x27, count.toString());\n        \/\/ 保存到云端\n        todo.save();\n    }\n    \/\/ 填充访问次数\n    var _writeCount = function(data){\n        if($(\x27.post-page\x27).length == 0){\n            $(\x27.leancloud_visitors\x27).each(function(i,e){\n                $(e).text(parseInt(data[i].get(\x27content\x27)));\n            })\n        }else{\n            $(\x27.leancloud_visitors\x27).each(function(i,e){\n                $(e).text(parseInt(data[i].get(\x27content\x27))\x2b1);\n            })\n        }\n    }\n\n    \/\/ 判断列表页or详情页\n    var _isList = function(){\n        if($(\x27.post-page\x27).length == 0){\n            return true;\n        }\n    }\n\n    var constructor = function(config){}\n\n    \/\/ 获取浏览量数据\n    constructor.prototype._getTime = function(clsName){\n        className = clsName;\n        Todo = AV.Object.extend(className);\n        if(_isList()){\n            _getListTime().then(function(data) {\n                _writeCount(data);\n            }, function (error) {\n                \/\/ error is an instance of AVError.\n                console.log(error);\n            });\n        }else{\n            var title = $(\x27.leancloud_visitors\x27).attr(\x27id\x27);\n            _getDetailTime(title).then(function(data){\n                _writeCount(data);\n                _update(data[0]);\n            })\n        }\n        return this;\n    }\n    constructor.prototype._addCount = function(clsName){\n        className = clsName;\n        Todo = AV.Object.extend(className);\n        _addCount();\n        return this;\n    }\n\n    \/\/返回构造函数\n    return constructor;\n})()\n\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22javascript hljs\x22\x3e\x3ccode class=\x22javascript\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e leanCloud = (\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e APP_ID = \x3cspan class=\x22hljs-string\x22\x3e\x27fasdfaICadjaklsdbaskd-gasdasfz\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e APP_KEY = \x3cspan class=\x22hljs-string\x22\x3e\x27gfdgsArfgsdg\x27\x3c\/span\x3e;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e className,Todo;\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pageCounts = \x3cspan class=\x22hljs-number\x22\x3e2\x3c\/span\x3e; \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 每页返回条数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).attr(\x3cspan class=\x22hljs-string\x22\x3e\x27data-pageNum\x27\x3c\/span\x3e)!= \x3cspan class=\x22hljs-string\x22\x3e\x27undefined\x27\x3c\/span\x3e){\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e pageNum = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).attr(\x3cspan class=\x22hljs-string\x22\x3e\x27data-pageNum\x27\x3c\/span\x3e))\x3cspan class=\x22hljs-number\x22\x3e-1\x3c\/span\x3e;    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 当前页码\x3c\/span\x3e\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 初始化\x3c\/span\x3e\n    AV.init({\n        \x3cspan class=\x22hljs-attr\x22\x3eappId\x3c\/span\x3e: APP_ID,\n        \x3cspan class=\x22hljs-attr\x22\x3eappKey\x3c\/span\x3e: APP_KEY\n    });\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 新增一条 文章统计数据【仅限一条】\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _addCount = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 监听 新增按钮 被点击\x3c\/span\x3e\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaddListenButton\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n            setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(\x3cspan class=\x22hljs-string\x22\x3e\x27start listen...\x27\x3c\/span\x3e);\n                $(\x3cspan class=\x22hljs-string\x22\x3e\x27.new-post_button\x27\x3c\/span\x3e).click(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{addListenInput();})\n            },\x3cspan class=\x22hljs-number\x22\x3e5000\x3c\/span\x3e)    \x3cspan class=\x22hljs-comment\x22\x3e\/\/考虑到服务器的带宽仅有1M，网速较慢所以将此方法延迟执行\x3c\/span\x3e\n        }\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 监听 回车\/点击确定按钮 后 执行保存\x3c\/span\x3e\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3eaddListenInput\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e inputTitle;\n            setTimeout(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n                $(\x3cspan class=\x22hljs-string\x22\x3e\x27.new-post_input\x27\x3c\/span\x3e).blur(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n                    inputTitle = $(\x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e).val();\n                })\n                $(\x3cspan class=\x22hljs-string\x22\x3e\x27.new-post_ok\x27\x3c\/span\x3e).mousedown(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e title = $(\x3cspan class=\x22hljs-string\x22\x3e\x27.new-post_input\x27\x3c\/span\x3e).val();\n                    saveToLeancloud(title);\n                    addListenButton();\n                })\n                $(\x3cspan class=\x22hljs-built_in\x22\x3edocument\x3c\/span\x3e).keypress(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ee\x3c\/span\x3e)\x3c\/span\x3e{\n                    \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(e.which == \x3cspan class=\x22hljs-number\x22\x3e13\x3c\/span\x3e){\n                        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e title = inputTitle;\n                        saveToLeancloud(title);\n                        addListenButton();\n                    }\n                })\n            },\x3cspan class=\x22hljs-number\x22\x3e500\x3c\/span\x3e)\n        }\n\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存\x3c\/span\x3e\n        \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e \x3cspan class=\x22hljs-title\x22\x3esaveToLeancloud\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etitle\x3c\/span\x3e)\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e newData = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e Todo();\n            newData.save({\n                \x3cspan class=\x22hljs-attr\x22\x3etitle\x3c\/span\x3e: title,\n                \x3cspan class=\x22hljs-attr\x22\x3econtent\x3c\/span\x3e: \x3cspan class=\x22hljs-string\x22\x3e\x270\x27\x3c\/span\x3e\n            }).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(data);\n            })\n        }\n        addListenButton();\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取详情页的访问次数数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _getDetailTime = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3etitle\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e query = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AV.Query(className);\n        query.equalTo(\x3cspan class=\x22hljs-string\x22\x3e\x22title\x22\x3c\/span\x3e, title);\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e query.find();\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取列表页的访问次数数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _getListTime = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e query = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e AV.Query(className);\n        query.limit(pageCounts);            \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 查询数据时返回的数量-每页返回的条数\x3c\/span\x3e\n        query.skip(pageCounts*pageNum);     \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 查询数据时跳过的数量-当前页码*每页返回的条数\x3c\/span\x3e\n        query.descending(\x3cspan class=\x22hljs-string\x22\x3e\x27createdAt\x27\x3c\/span\x3e);      \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 按新建的时间降序排列\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e query.find();\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 更新一条 文章浏览量数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _update = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3eobj\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 第一个参数是 className，第二个参数是 objectId\x3c\/span\x3e\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e todo = AV.Object.createWithoutData(className, obj.id);\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e count = \x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(obj.get(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e))\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e;\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 修改属性\x3c\/span\x3e\n        todo.set(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e, count.toString());\n        \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 保存到云端\x3c\/span\x3e\n        todo.save();\n    }\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 填充访问次数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _writeCount = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.post-page\x27\x3c\/span\x3e).length == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n            $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ei,e\x3c\/span\x3e)\x3c\/span\x3e{\n                $(e).text(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(data[i].get(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e)));\n            })\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n            $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).each(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3ei,e\x3c\/span\x3e)\x3c\/span\x3e{\n                $(e).text(\x3cspan class=\x22hljs-built_in\x22\x3eparseInt\x3c\/span\x3e(data[i].get(\x3cspan class=\x22hljs-string\x22\x3e\x27content\x27\x3c\/span\x3e))\x2b\x3cspan class=\x22hljs-number\x22\x3e1\x3c\/span\x3e);\n            })\n        }\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 判断列表页or详情页\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e _isList = \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e)\x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e($(\x3cspan class=\x22hljs-string\x22\x3e\x27.post-page\x27\x3c\/span\x3e).length == \x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e){\n            \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-literal\x22\x3etrue\x3c\/span\x3e;\n        }\n    }\n\n    \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e = function(config){}\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 获取浏览量数据\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e.prototype._getTime = function(clsName){\n        className = clsName;\n        Todo = AV.Object.extend(className);\n        \x3cspan class=\x22hljs-keyword\x22\x3eif\x3c\/span\x3e(_isList()){\n            _getListTime().then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e) \x3c\/span\x3e{\n                _writeCount(data);\n            }, \x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3eerror\x3c\/span\x3e) \x3c\/span\x3e{\n                \x3cspan class=\x22hljs-comment\x22\x3e\/\/ error is an instance of AVError.\x3c\/span\x3e\n                \x3cspan class=\x22hljs-built_in\x22\x3econsole\x3c\/span\x3e.log(error);\n            });\n        }\x3cspan class=\x22hljs-keyword\x22\x3eelse\x3c\/span\x3e{\n            \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e title = $(\x3cspan class=\x22hljs-string\x22\x3e\x27.leancloud_visitors\x27\x3c\/span\x3e).attr(\x3cspan class=\x22hljs-string\x22\x3e\x27id\x27\x3c\/span\x3e);\n            _getDetailTime(title).then(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e(\x3cspan class=\x22hljs-params\x22\x3edata\x3c\/span\x3e)\x3c\/span\x3e{\n                _writeCount(data);\n                _update(data[\x3cspan class=\x22hljs-number\x22\x3e0\x3c\/span\x3e]);\n            })\n        }\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    }\n    \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e.prototype._addCount = function(clsName){\n        className = clsName;\n        Todo = AV.Object.extend(className);\n        _addCount();\n        \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3ethis\x3c\/span\x3e;\n    }\n\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/返回构造函数\x3c\/span\x3e\n    \x3cspan class=\x22hljs-keyword\x22\x3ereturn\x3c\/span\x3e \x3cspan class=\x22hljs-keyword\x22\x3econstructor\x3c\/span\x3e;\n})()\n\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e因为我使用的是hexo-admin做后台管理，安装和使用方法见\x3ca href=\x22https:\/\/github.com\/jaredly\/hexo-admin\x22 rel=\x22nofollow noreferrer\x22 target=\x22_blank\x22\x3ehttps:\/\/github.com\/jaredly\/hexo-admin\x3c\/a\x3e  \x3cbr\x3e要在hexo-admin的后台中新增文章时自动添加一条数据，就要对其改造：\x3cbr\x3e在根目录的node_modules中搜索hexo-admin,在其文件夹中找到www文件夹下的index.html，在其中引入leancloudConfig.js：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22\x3cscript src=\x26quot;http:\/\/cdn1.lncld.net\/static\/js\/2.5.0\/av-min.js\x26quot;\x3e\x3c\/script\x3e\n\x3cscript src=\x26quot;\/js\/leancloudConfig.js\x26quot;\x3e\x3c\/script\x3e\n\/\/ 调用方法\n\x3cscript\x3e\n    \/\/ 创建新blog成功时，访问leancloud新建一条浏览量数据\n    $(function () {\n        var todo = new leanCloud()._addCount(\x27test\x27);\n      });\n\x3c\/script\x3e\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22http:\/\/cdn1.lncld.net\/static\/js\/2.5.0\/av-min.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e \x3cspan class=\x22hljs-attr\x22\x3esrc\x3c\/span\x3e=\x3cspan class=\x22hljs-string\x22\x3e\x22\/js\/leancloudConfig.js\x22\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22undefined\x22\x3e\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\n\/\/ 调用方法\n\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3cspan class=\x22javascript\x22\x3e\n    \x3cspan class=\x22hljs-comment\x22\x3e\/\/ 创建新blog成功时，访问leancloud新建一条浏览量数据\x3c\/span\x3e\n    $(\x3cspan class=\x22hljs-function\x22\x3e\x3cspan class=\x22hljs-keyword\x22\x3efunction\x3c\/span\x3e (\x3cspan class=\x22hljs-params\x22\x3e\x3c\/span\x3e) \x3c\/span\x3e{\n        \x3cspan class=\x22hljs-keyword\x22\x3evar\x3c\/span\x3e todo = \x3cspan class=\x22hljs-keyword\x22\x3enew\x3c\/span\x3e leanCloud()._addCount(\x3cspan class=\x22hljs-string\x22\x3e\x27test\x27\x3c\/span\x3e);\n      });\n\x3c\/span\x3e\x3cspan class=\x22hljs-tag\x22\x3e\x26lt;\/\x3cspan class=\x22hljs-name\x22\x3escript\x3c\/span\x3e\x26gt;\x3c\/span\x3e\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e在前台页面的layout.jade中同样引入和调用：\x3c\/p\x3e\n\x3cdiv class=\x22widget-codetool\x22 style=\x22display:none;\x22\x3e\n      \x3cdiv class=\x22widget-codetool--inner\x22\x3e\n      \x3cspan class=\x22selectCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22全选\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22copyCode code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 data-clipboard-text=\x22script(src= \x27\/\/cdn1.lncld.net\/static\/js\/2.5.0\/av-min.js\x27)\nscript(src= \x27\/js\/leancloudConfig.js\x27)\nscript.\n  $(function () {\n      var todo = new leanCloud()._getTime(\x27test\x27);\n  });\x22 title=\x22\x22 data-original-title=\x22复制\x22\x3e\x3c\/span\x3e\n      \x3cspan type=\x22button\x22 class=\x22saveToNote code-tool\x22 data-toggle=\x22tooltip\x22 data-placement=\x22top\x22 title=\x22\x22 data-original-title=\x22放进笔记\x22\x3e\x3c\/span\x3e\n      \x3c\/div\x3e\n      \x3c\/div\x3e\x3cpre class=\x22xml hljs\x22\x3e\x3ccode class=\x22html\x22\x3escript(src= \x27\/\/cdn1.lncld.net\/static\/js\/2.5.0\/av-min.js\x27)\nscript(src= \x27\/js\/leancloudConfig.js\x27)\nscript.\n  $(function () {\n      var todo = new leanCloud()._getTime(\x27test\x27);\n  });\x3c\/code\x3e\x3c\/pre\x3e\n\x3cp\x3e这样就实现了浏览量的功能\x3c\/p\x3e\n\n                \n"
            html = html.replace(/"{/g, "{")
            html = html.replace(/{"/g, "{")
            html = html.replace(/"}/g, "}")
            html = html.replace(/}"/g, "}")
            $('#raw').html(html);

            let postTitle =  $('.posttitle').text()
            let postContentTitle =  $('#raw > h1').text()
            if(postTitle === postContentTitle){
                $('#raw > h1').hide()
            }
            $('button.preview').hide()
        })</script></div><h1 id="版权声明">版权声明</h1><p>本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，</p><p>本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。</p><p>原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！</p><h2 id="原文标题">原文标题</h2><p>为Hexo加入浏览量的功能</p><h2 id="原文链接">原文链接</h2><p><a href="https://segmentfault.com/a/1190000009824281">https://segmentfault.com/a/1190000009824281</a></p><h2>本文链接：</h2><a href="https://alili.tech/archive/0myb6q7a2nnk/" target="_blank">https://alili.tech/archive/0myb6q7a2nnk/</a></div></article><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><div class="blog-post-comments"></div><script>new Valine({
        el: '.blog-post-comments', 
        app_id: 'ItyOVb4I33bTwprf3cY6uqMc-gzGzoHsz', 
        app_key: 'hLhtmd4tT0qJbyO2SgQ8odya', 
        placeholder: '说点什么?', 
        avatar:'robohash',
        notify:true,
        verify:true
    });</script><ul id="more-post-list" class="archive readmore"><h3>其他推荐</h3><li><a href="/archive/5ed53lrrg7e/">如何禁止浏览器自动填充<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/gij1sdp355j/">实践是检验程序员的唯一标准02：用户不想跟你说话并向你扔出一张图片 - 图片上传组件开发【开发篇】<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/y9eqaypgij/">123<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/4ho25kya1mg/">2018你成长了么？一份给你的前端技术清单<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/g2lx7wrrhy4/">Apache、Nginx 与 Node.js 之争 —— WordPress 与 Ghost 的性能大对决<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/dfejr0q89no/">CSS单位em是相对于父元素还是当前元素的字体大小？<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/cik25m3bh7m/">ES6 系列之 Babel 将 Generator 编译成了什么样子<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/vwkme203i7/">ES6 系列之异步处理实战<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/q2at4ffqrr/">Hola～ 一款基于Electron的聊天软件<aside class="dates">2019-02-15</aside></a></li><li><a href="/archive/t2mci6htsdn/">JavaScript 数组操作方法小结<aside class="dates">2019-02-15</aside></a></li></ul></section></div><footer id="footer"><div class="footer-left">Copyright © 2019 Fan <a href="http://www.miitbeian.gov.cn" rel="external nofollow noopener noreferrer" target="_blank">浙ICP备18045521号</a></div><div class="footer-right"><nav><ul><li><a href="/">Home</a></li><li><a href="/archive/">Archives</a></li><li><a href="/about/">About</a></li><li><a href="http://github.com/Fantasy9527" target="_blank">Github</a></li></ul></nav></div></footer><script src="https://alili.tech/lib/justified-gallery/jquery.justifiedGallery.min.js"></script><script src="https://alili.tech/lib/typed.js"></script><script src="https://alili.tech/js/main.js"></script><script async src=""></script><script>(function(){
  if(location.host!=='alili.tech')return;
  var ga = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  ga.src = 'https://www.googletagmanager.com/gtag/js?id=UA-129382678-1';       
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(ga, s);
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-129382678-1');
})()</script><script>(function(){
    if(location.host!=='alili.tech')return;
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
          navigator.serviceWorker
              .register('/sw.js')
              .then(registration => {
                  console.log('SW registered: ', registration);
              })
              .catch(registrationError => {
                  console.log('SW registration failed: ', registrationError);
              });
      });
  }</script></body></html>